{"componentChunkName":"component---src-templates-blog-post-js","path":"/python-web-application-architecture/","result":{"data":{"site":{"siteMetadata":{"title":"Onepredict Engineering"}},"markdownRemark":{"id":"6821184a-7455-56c2-a44d-2b63b960c5f1","excerpt":"아샬이 파이콘 2023 Day 2\n라이트닝 토크 때 발표한 내용을 풀어서 쓴 글입니다. 이유를 알 수 없는 오해 파이썬은 대표적인 객체지향 프로그래밍 언어입니다.\nC++의 연장선에 있길 원했던(그리고 대체재가 되는 데 성공한) Java…","html":"<blockquote>\n<p>아샬이 <a href=\"https://2023.pycon.kr/\">파이콘 2023</a> Day 2\n라이트닝 토크 때 발표한 내용을 풀어서 쓴 글입니다.</p>\n</blockquote>\n<h2 id=\"이유를-알-수-없는-오해\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EC%9C%A0%EB%A5%BC-%EC%95%8C-%EC%88%98-%EC%97%86%EB%8A%94-%EC%98%A4%ED%95%B4\" aria-label=\"이유를 알 수 없는 오해 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이유를 알 수 없는 오해</h2>\n<p>파이썬은 대표적인 객체지향 프로그래밍 언어입니다.\nC++의 연장선에 있길 원했던(그리고 대체재가 되는 데 성공한) Java와 달리,\n기존 방식에 타협하지 않고 객체지향에 집중할 수 있게 설계된 언어죠. <sup id=\"fnref-주1\"><a href=\"#fn-주1\" class=\"footnote-ref\">주1</a></sup>\n하지만 많은 사람들은 파이썬이 <strong>강력한 객체지향 언어</strong>라는 사실을 잊고\n있습니다.\n심지어 객체지향 프로그래밍 언어인지 의심을 품기도 하죠.\n아마 <strong>쉬운 언어</strong>라는 홍보에, 객체지향이란 (상대적으로) 어려운 측면이 가려진\n게 아닌가 싶기도 합니다.</p>\n<p>파이썬을 정말로 쉽게 쓰고 있나요?\n쉽다는 건 어떤 의미인가요?\n파이썬으로 작성된 기존 프로젝트를 유지보수하면서 쉽다고 느끼시나요?\n혹시 어렵다는 느낌을 받고 있진 않나요?\n입문하기 쉽다고 했지, 유지보수가 쉽다고 하진 않았다고요?</p>\n<p><strong>그럴 리가요.</strong></p>\n<p>그렇다면 대체 뭐가 문제인 걸까요?</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAYAQEAAwEAAAAAAAAAAAAAAAAEAAECA//aAAwDAQACEAMQAAABxepIuuwuatUOqmEF/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIQEQADEv/aAAgBAQABBQKWQrNnnYorP//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIv/aAAgBAwEBPwGJhn//xAAXEQADAQAAAAAAAAAAAAAAAAACEBEx/9oACAECAQE/AbUOr//EABkQAAEFAAAAAAAAAAAAAAAAABAAERJBUf/aAAgBAQAGPwI6Y0nH/8QAGRABAAMBAQAAAAAAAAAAAAAAAQAQESGh/9oACAEBAAE/IZzKM3xYQ3y6EOyY1//aAAwDAQACAAMAAAAQrDC//8QAGBEAAgMAAAAAAAAAAAAAAAAAARAxQbH/2gAIAQMBAT8QQIbOr//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAA0jcz/8QAGxAAAgMBAQEAAAAAAAAAAAAAAREAMUEQIVH/2gAIAQEAAT8QgBJRGwhaIkijvAj+cAX0lKJnuAco8//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"술이 문제야\"\n        title=\"술이 문제야\"\n        src=\"/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg\"\n        srcset=\"/static/d239e511c0817fb5c89d7866a0bc23cc/aa2ed/drunk-on-love.jpg 125w,\n/static/d239e511c0817fb5c89d7866a0bc23cc/0479a/drunk-on-love.jpg 250w,\n/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg 400w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">술이 문제야</figcaption>\n  </figure></p>\n<p>객체지향 패러다임이 등장한 건 소프트웨어 개발 및 유지보수의 복잡성을 관리하기\n위함인데, 객체지향 언어인 파이썬을 쓰면서 왜 이런 문제를 겪게 되는 걸까요?\n혹시 우리가 사용하는 도구(파이썬과 다양한 패키지)는 객체지향적이지만,\n우리가 작성하는 코드는 여전히 절차지향적인 게 아닐까요?</p>\n<h2 id=\"절차지향이란\" style=\"position:relative;\"><a href=\"#%EC%A0%88%EC%B0%A8%EC%A7%80%ED%96%A5%EC%9D%B4%EB%9E%80\" aria-label=\"절차지향이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>절차지향이란?</h2>\n<p>흔히 “절차지향 프로그래밍”이라 옮기는 “Procedural Programming”은 좀 더 정확히\n번역하면 “프로시저 중심의 프로그래밍”이라고 할 수 있습니다. <sup id=\"fnref-주2\"><a href=\"#fn-주2\" class=\"footnote-ref\">주2</a></sup>\n기존에는 하나의 거대한 프로그램에서 GOTO 등을 통해 분기 및 반복 처리를 했다면,\n프로시저라는 작은 프로그램 단위를 만들어서 활용하자는 패러다임이죠.</p>\n<p>커다란 프로그램을 작은 부분으로 나눠서 복잡성을 통제한다는 아이디어는 매우\n훌륭하지만, 거칠게 이야기하면 우리가 프로시저로 분해한 건 데이터 조작에 관한\n겁니다.</p>\n<p>만약 우리가 단순한 CRUD를 다루는 프로그램을 만든다면 이런 접근법으로도 충분할\n겁니다.\n하지만 우리는 좀 더 복잡한 비즈니스 규칙을 다루려고 하고, 단순히 데이터 조작에\n관한 코드를 분해하는 것만으론 충분하지 않다는 걸 깨닫게 되죠.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7a47c775202f7c93dbd1aa9a193a5776/72e01/kick-me.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABysBEB//EABcQAAMBAAAAAAAAAAAAAAAAAAECBAD/2gAIAQEAAQUCmnXFVKkyHf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAECACIDETFBYf/aAAgBAQAGPwINl74WWUGbuvgn/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERMYH/2gAIAQEAAT8hk27iSTLE0NarwP/aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAxIWFxof/aAAgBAQABPxCdCVZslqeaMlqanIQ+ZzcGyoet5//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Kick Me!\"\n        title=\"절...차\"\n        src=\"/static/7a47c775202f7c93dbd1aa9a193a5776/41099/kick-me.jpg\"\n        srcset=\"/static/7a47c775202f7c93dbd1aa9a193a5776/aa2ed/kick-me.jpg 125w,\n/static/7a47c775202f7c93dbd1aa9a193a5776/0479a/kick-me.jpg 250w,\n/static/7a47c775202f7c93dbd1aa9a193a5776/41099/kick-me.jpg 500w,\n/static/7a47c775202f7c93dbd1aa9a193a5776/acb04/kick-me.jpg 750w,\n/static/7a47c775202f7c93dbd1aa9a193a5776/a2510/kick-me.jpg 1000w,\n/static/7a47c775202f7c93dbd1aa9a193a5776/72e01/kick-me.jpg 1024w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">절...차</figcaption>\n  </figure></p>\n<h2 id=\"객체지향이란\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%B4%EB%9E%80\" aria-label=\"객체지향이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체지향이란?</h2>\n<p>절차지향에서 우리는 커다란 프로그램을 프로시저라는 단위로 나눠준다고 했습니다.\n그렇다면 객체지향은 어떨까요?\n객체지향에서 우리는 커다란 프로그램을 객체라는 단위로 나눠줍니다.</p>\n<p>객체는 데이터와 연산(프로시저, 메서드)을 하나로 묶어줍니다(캡슐화).\n데이터는 오직 연산을 통해서만 변경 가능하고, 우리는 메시지를 통해\n연산을 실행하도록 요청합니다.\n즉, 다른 객체의 상태를 확인하지 않고, 그저 원하는 바를 시키게 됩니다.\n이를 “Tell-Don't-Ask” 원칙이라고 하죠. <sup id=\"fnref-주3\"><a href=\"#fn-주3\" class=\"footnote-ref\">주3</a></sup></p>\n<p>한마디로 객체지향은 “자율적인 객체의 협력”이 핵심이라고 할 수 있습니다.</p>\n<p>그렇다면 객체는 어떻게 협력할까요?\n아니, 어떻게 협력하는 게 효과적일까요?</p>\n<p>UML의 아버지라 불리는 Grady Booch는\n“Object-Oriented Analysis and Design with Applications”에서\n복잡성을 제어하는 계층 구조란 아이디어를 소개합니다. <sup id=\"fnref-주4\"><a href=\"#fn-주4\" class=\"footnote-ref\">주4</a></sup>\n그리고 이 계층 구조는 크게 둘로 나눌 수 있습니다.</p>\n<ol>\n<li>타입을 계층화</li>\n<li>행동을 계층화</li>\n</ol>\n<p>타입을 계층화하는 건 우리가 생물을 분류하는 것과 유사합니다.\n생물을 동물과 식물로 나누고,\n이를 다시 <code class=\"language-text\">동물계 - 척삭동물문 - 포유강 - 식육목 - 고양잇과</code>로 나누는 거죠.\n그리고 <code class=\"language-text\">고양잇과</code>엔 <code class=\"language-text\">고양이</code>, <code class=\"language-text\">호랑이</code>, <code class=\"language-text\">삵</code> 등이 포함됩니다. <sup id=\"fnref-주5\"><a href=\"#fn-주5\" class=\"footnote-ref\">주5</a></sup></p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4e4a024da8eee8423c6902eea137e038/c60f3/leopard-cat.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFL8lRpAf/EABoQAAIDAQEAAAAAAAAAAAAAAAECABEhEhP/2gAIAQEAAQUCWDWaul2WfTCf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAwADAAAAAAAAAAAAAAAAAAERAhAh/9oACAEBAAY/AiTSLR3FPp//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMVFhgZH/2gAIAQEAAT8he79QjI6spZkAmPM1FfsANl32U2h1c//aAAwDAQACAAMAAAAQUy//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QXWL/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYYH/2gAIAQEAAT8QOkVcTzcHpVhYPjGBi1dL9wqMCbS6g/rMpxUECC1cPGM//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"칡 짤\"\n        title=\"저는 “칡”입니다\"\n        src=\"/static/4e4a024da8eee8423c6902eea137e038/41099/leopard-cat.jpg\"\n        srcset=\"/static/4e4a024da8eee8423c6902eea137e038/aa2ed/leopard-cat.jpg 125w,\n/static/4e4a024da8eee8423c6902eea137e038/0479a/leopard-cat.jpg 250w,\n/static/4e4a024da8eee8423c6902eea137e038/41099/leopard-cat.jpg 500w,\n/static/4e4a024da8eee8423c6902eea137e038/c60f3/leopard-cat.jpg 636w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">저는 “칡”입니다</figcaption>\n  </figure></p>\n<p>이렇게 타입을 계층화하는 기법이 바로 “상속”이죠.</p>\n<p>하지만 더 중요한 게 있습니다.\n바로 행동을 계층화하는 거죠.\n커다란 조직은 피라미드 형태로 계층화가 되고, 위에서부터 아래로 목표가\n전달됩니다.\n즉, “위임”을 하게 되는 거죠.\n한마디로 우리는 위임을 통해 복잡성을 통제하게 됩니다.</p>\n<p>그렇다면 이제 본질적인 질문으로 들어가 보겠습니다.\n어떻게 계층 구조를 만들어야 효과적일까요?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3d31cd70778aa37e6868299c2dd3c310/72e01/pyramid.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 125.6%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB2UvRz3oGJcMdFaQsD//EABoQAAMBAQEBAAAAAAAAAAAAAAABAhIREEH/2gAIAQEAAQUCIrXlUsw+MuK1ymSnk+n/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwEh/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQIQEiBx/9oACAEBAAY/Ah6gtRpvjKLxv0vp/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBEFFx/9oACAEBAAE/ISqlewncfrAIO8MTjDmx6gdqcbqVWz0ICLl+RP/aAAwDAQACAAMAAAAQ9zCx/8QAGREAAgMBAAAAAAAAAAAAAAAAAAEQETFB/9oACAEDAQE/EGuFQw//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/EE9LSiR//8QAHBABAAMBAQADAAAAAAAAAAAAAQARITFBUWGh/9oACAEBAAE/EKt27a3cSwAgHKvyAHAvtMCEsoHQexws9V8ro59wnFVXkUBwBoPj8impAEdO2wpqTaMj7PU5n//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Pyramid of Capitalist System\"\n        title=\"\"\n        src=\"/static/3d31cd70778aa37e6868299c2dd3c310/41099/pyramid.jpg\"\n        srcset=\"/static/3d31cd70778aa37e6868299c2dd3c310/aa2ed/pyramid.jpg 125w,\n/static/3d31cd70778aa37e6868299c2dd3c310/0479a/pyramid.jpg 250w,\n/static/3d31cd70778aa37e6868299c2dd3c310/41099/pyramid.jpg 500w,\n/static/3d31cd70778aa37e6868299c2dd3c310/acb04/pyramid.jpg 750w,\n/static/3d31cd70778aa37e6868299c2dd3c310/a2510/pyramid.jpg 1000w,\n/static/3d31cd70778aa37e6868299c2dd3c310/72e01/pyramid.jpg 1024w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"계층을-나누는-기준\" style=\"position:relative;\"><a href=\"#%EA%B3%84%EC%B8%B5%EC%9D%84-%EB%82%98%EB%88%84%EB%8A%94-%EA%B8%B0%EC%A4%80\" aria-label=\"계층을 나누는 기준 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>계층을 나누는 기준</h2>\n<p>컴퓨터 과학엔 “관심사의 분리”라는 오래된 설계 원칙이 있습니다. <sup id=\"fnref-주6\"><a href=\"#fn-주6\" class=\"footnote-ref\">주6</a></sup>\n관심사를 나누는 방법은 여러 가지가 있지만, 우리는 다시 오래된 기준을\n활용하겠습니다.</p>\n<p>바로 “비즈니스 관심사”와 “기술 관심사”란 기준이죠.\n흔히 “비즈니스 도메인과 UI를 섞지 않아야 한다”고 이야기하던 거고,\n최근에는 “DB가 아니라 비즈니스 도메인을 중심으로 설계해야 한다”고 이야기하는\n것이죠.\n프로그래밍을 처음 배웠던 시절로 돌아가면, <code class=\"language-text\">Input - Process - Output</code>이란 틀에\n맞춰서 코드를 작성하던 게 여기에 속한다고 볼 수도 있습니다.</p>\n<p>이를 “Layered Architecture”라고 하고, 전통적으론 크게 3개의 계층으로 나누게\n됩니다. <sup id=\"fnref-주7\"><a href=\"#fn-주7\" class=\"footnote-ref\">주7</a></sup> <sup id=\"fnref-주8\"><a href=\"#fn-주8\" class=\"footnote-ref\">주8</a></sup></p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">User-side\nApplication\nData-side</code></pre></div>\n<p>일반적인 웹 개발에서 User-side와 Data-side는 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">Web (User-side)\nApplication\nDB (Data-side)</code></pre></div>\n<p>Flask와 SQLAlchemy를 통해 기술적 세부 사항을 추상화한다면 다음과 같이 표현할\n수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">Flask (User-side)\nApplication\nSQLAlchemy (Data-side)</code></pre></div>\n<p>여기서 기술적 세부 사항을 다른 걸로 교체해 봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">FastAPI (User-side)\nApplication\normar (Data-side)</code></pre></div>\n<p>여기서 주목할 부분은, 기술적 세부 사항이 바뀐다고 해도 비즈니스 도메인을\n다루는 Application Layer는 변함이 없다는 겁니다.\nEric Evans는 “도메인 주도 설계”에서 비즈니스 도메인에 집중하는 객체들을\nDomain Layer로 분리하고, Application Layer는 이를 위한 진입점으로 활용합니다.\n<sup id=\"fnref-주9\"><a href=\"#fn-주9\" class=\"footnote-ref\">주9</a></sup>\nUncle Bob은 클린 아키텍처에서 Application Layer에 명확히 Feature(Use Case)가\n드러나게 하고, 이를 “소리치는 아키텍처”라고 설명합니다. <sup id=\"fnref-주10\"><a href=\"#fn-주10\" class=\"footnote-ref\">주10</a></sup> <sup id=\"fnref-주11\"><a href=\"#fn-주11\" class=\"footnote-ref\">주11</a></sup></p>\n<p>중요한 건 우리가 비즈니스 관심사와 기술적 관심사를 <strong>분리</strong>했다는 거고,\n비즈니스 관심사를 <strong>자율적인 객체의 협력</strong>으로 구성할 수 있다는 겁니다.</p>\n<h2 id=\"어떻게-조립할까\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A1%B0%EB%A6%BD%ED%95%A0%EA%B9%8C\" aria-label=\"어떻게 조립할까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떻게 조립할까?</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8f5565b7c5118a62ce9027ef0a275219/b4294/tobot-xyz-integration.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.4%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQT/2gAMAwEAAhADEAAAAeluNmOIJhT/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAECEQAS/9oACAEBAAEFAgyMzrmfQ6NPNK//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREi/9oACAEDAQE/AU8lP//EABgRAAMBAQAAAAAAAAAAAAAAAAABESIx/9oACAECAQE/AZmMXD//xAAaEAABBQEAAAAAAAAAAAAAAAAAAQIRICEx/9oACAEBAAY/AsIcdWn/xAAcEAEAAgEFAAAAAAAAAAAAAAABABEQITFhcaH/2gAIAQEAAT8hHRbypuHlg14Eet7wL4s//9oADAMBAAIAAwAAABAPP//EABcRAAMBAAAAAAAAAAAAAAAAAAABQWH/2gAIAQMBAT8QVAsn/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAgEBPxAAujdcXf/EAB0QAQADAAMAAwAAAAAAAAAAAAEAESExQWFRkbH/2gAIAQEAAT8QovCpppp96lE2rNFvqCiH0/sKPmY+SIFUuna4yMBL6DP/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"또봇 인티그레이션\"\n        title=\"또봇 X! Y! Z! 트라이탄! 인티그레이션!\"\n        src=\"/static/8f5565b7c5118a62ce9027ef0a275219/41099/tobot-xyz-integration.jpg\"\n        srcset=\"/static/8f5565b7c5118a62ce9027ef0a275219/aa2ed/tobot-xyz-integration.jpg 125w,\n/static/8f5565b7c5118a62ce9027ef0a275219/0479a/tobot-xyz-integration.jpg 250w,\n/static/8f5565b7c5118a62ce9027ef0a275219/41099/tobot-xyz-integration.jpg 500w,\n/static/8f5565b7c5118a62ce9027ef0a275219/b4294/tobot-xyz-integration.jpg 600w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">또봇 X! Y! Z! 트라이탄! 인티그레이션!</figcaption>\n  </figure></p>\n<p>계층 구조, 의존 관계를 코드로 표현하는 건 상당히 귀찮은 일입니다.\n의존 관계를 손으로 적어주는 건 아주 명확하지만, 사실 그렇게 재밌는 일이 아니죠.\n우리는 의존 관계를 알고 있고, 이를 자동으로 구성할 방법이 필요합니다.</p>\n<p>그래서 많은 사람들이 IoC 컨테이너 기술을 개발했습니다.\n이를 DI 컨테이너라고 부르기도 하는데,\nMartin Fowler가 프레임워크가 IoC를 말하는 걸 “내 자동차엔 바퀴가 있다”고\n이야기하는 것과 마찬가지라고 하면서 “<strong>Dependency Injection</strong>(DI)”이란\n용어를 제안했기 때문입니다. <sup id=\"fnref-주12\"><a href=\"#fn-주12\" class=\"footnote-ref\">주12</a></sup></p>\n<p>우리는 IoC 컨테이너를 통해 아주 쉽게 객체를 조립할 수 있습니다.\n예를 들어 <code class=\"language-text\">Injector</code>와 <code class=\"language-text\">Flask-Injector</code>를 사용한 코드를 보겠습니다.\n<sup id=\"fnref-주13\"><a href=\"#fn-주13\" class=\"footnote-ref\">주13</a></sup> <sup id=\"fnref-주14\"><a href=\"#fn-주14\" class=\"footnote-ref\">주14</a></sup></p>\n<p>User-side에서 Application Service에 대한 의존성을 이렇게 써줄 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/channels\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_channel</span><span class=\"token punctuation\">(</span>channel_service<span class=\"token punctuation\">:</span> ChanndelService<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    channel <span class=\"token operator\">=</span> channel_service<span class=\"token punctuation\">.</span>create_channel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> channel<span class=\"token punctuation\">.</span>to_dto<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> HTTPStatus<span class=\"token punctuation\">.</span>CREATED</code></pre></div>\n<p>프로그램을 시작할 때, 다음과 같이 써주면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">create_app</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">from</span> app <span class=\"token keyword\">import</span> app\n\n    injector <span class=\"token operator\">=</span> Injector<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">configure</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># 여기서 DB 엔진 등에 대한 팩터리를 지정할 수 있습니다.</span>\n        <span class=\"token keyword\">pass</span>\n\n    <span class=\"token comment\"># 여기서 Flask 엔드포인트에 대한 의존성을 파악하고 주입합니다.</span>\n    FlaskInjector<span class=\"token punctuation\">(</span>app<span class=\"token operator\">=</span>app<span class=\"token punctuation\">,</span> modules<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>configure<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> injector<span class=\"token operator\">=</span>injector<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> app</code></pre></div>\n<p>이제 테스트 코드는 다음과 같이 작성할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@pytest<span class=\"token punctuation\">.</span>fixture</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">channel_service</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    channel_service <span class=\"token operator\">=</span> Mock<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    channel_service<span class=\"token punctuation\">.</span>create_channel <span class=\"token operator\">=</span> Mock<span class=\"token punctuation\">(</span>\n        return_value<span class=\"token operator\">=</span>Channel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> channel_service\n\n\n<span class=\"token decorator annotation punctuation\">@pytest<span class=\"token punctuation\">.</span>fixture</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">client</span><span class=\"token punctuation\">(</span>channel_service<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">configure</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        binder<span class=\"token punctuation\">.</span>bind<span class=\"token punctuation\">(</span>ChannelService<span class=\"token punctuation\">,</span> to<span class=\"token operator\">=</span>channel_service<span class=\"token punctuation\">)</span>\n\n    FlaskInjector<span class=\"token punctuation\">(</span>app<span class=\"token operator\">=</span>app<span class=\"token punctuation\">,</span> modules<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>configure<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> app<span class=\"token punctuation\">.</span>test_client<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_create_channel</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    response <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>post<span class=\"token punctuation\">(</span><span class=\"token string\">\"/channels\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">assert</span> response<span class=\"token punctuation\">.</span>status_code <span class=\"token operator\">==</span> HTTPStatus<span class=\"token punctuation\">.</span>CREATED\n\n    <span class=\"token comment\"># 추가로 create_channel 메서드 호출 여부 등 다양한 테스트 가능.</span></code></pre></div>\n<p>우리는 User-side와 Application의 <strong>경계</strong>를 명확히 구분했습니다.\n서로 다른 관심사가 섞이는 것을 막을 수 있고, 테스트도 더 쉽게 할 수 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9615c17169c33030c7c4820e8b87fc34/07854/mystic-eyes-of-death-perception.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHPdJpKIg//xAAaEAEAAQUAAAAAAAAAAAAAAAABAAIQERMh/9oACAEBAAEFAqDmvEYrFbf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAgEBPwGbNP/EABcQAAMBAAAAAAAAAAAAAAAAAAARIDH/2gAIAQEABj8CRs//xAAaEAEBAAMBAQAAAAAAAAAAAAABABEhQTFR/9oACAEBAAE/Icj6S6JS9ahYBsY3yV+3/9oADAMBAAIAAwAAABAvH//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Q4XIL/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEhEUH/2gAIAQIBAT8Qot4Oqf/EABsQAQACAgMAAAAAAAAAAAAAAAEAETFBIWGR/9oACAEBAAE/ECSsQCF8zbIPXsNhClZCAtAmoBR4kOgIK0z/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"직사의 마안\"\n        title=\"\"\n        src=\"/static/9615c17169c33030c7c4820e8b87fc34/41099/mystic-eyes-of-death-perception.jpg\"\n        srcset=\"/static/9615c17169c33030c7c4820e8b87fc34/aa2ed/mystic-eyes-of-death-perception.jpg 125w,\n/static/9615c17169c33030c7c4820e8b87fc34/0479a/mystic-eyes-of-death-perception.jpg 250w,\n/static/9615c17169c33030c7c4820e8b87fc34/41099/mystic-eyes-of-death-perception.jpg 500w,\n/static/9615c17169c33030c7c4820e8b87fc34/07854/mystic-eyes-of-death-perception.jpg 534w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>마찬가지로 Data-side와 Application의 <strong>경계</strong>를 명확히 구분해 봅시다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@inject</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ChannelService</span><span class=\"token punctuation\">:</span>\n    channel_repository<span class=\"token punctuation\">:</span> ChannelRepository\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> channel_repository<span class=\"token punctuation\">:</span> ChannelRepository<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>channel_repository <span class=\"token operator\">=</span> channel_repository\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">create_channel</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> Channel<span class=\"token punctuation\">:</span>\n        channel <span class=\"token operator\">=</span> Channel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n        self<span class=\"token punctuation\">.</span>channel_repository<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span>channel<span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> channel</code></pre></div>\n<p>이런 순수한 파이썬 코드에 대해 테스트 코드를 작성하는 건 매우 쉽습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@pytest<span class=\"token punctuation\">.</span>fixture</span>\n<span class=\"token keyword\">def</span> <span class=\"token function\">channel_repository</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    channel_repository <span class=\"token operator\">=</span> Mock<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    channel_repository<span class=\"token punctuation\">.</span>save <span class=\"token operator\">=</span> Mock<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> channel_repository\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">channel_service</span><span class=\"token punctuation\">(</span>channel_repository<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">return</span> ChannelService<span class=\"token punctuation\">(</span>channel_repository<span class=\"token operator\">=</span>channel_repository<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">test_create_channel</span><span class=\"token punctuation\">(</span>channel_service<span class=\"token punctuation\">:</span> ChannelService<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    channel <span class=\"token operator\">=</span> channel_repository<span class=\"token punctuation\">.</span>create_channel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">assert</span> channel <span class=\"token keyword\">is</span> <span class=\"token keyword\">not</span> <span class=\"token boolean\">None</span>\n\n    <span class=\"token comment\"># 추가로 channel에 대한 제대로 된 테스트 가능.</span></code></pre></div>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>이제 우리는 기술적 이슈로부터 자유로운 Application Layer,\n더 나아가 Domain Layer를 분리할 수 있게 되었습니다.\nDomain Layer는 순수한 파이썬 객체로 구성되므로,\n평소 갈고 닦은 객체지향 프로그래밍 실력을 충분히 발휘할 수 있습니다.\n이를 위해 테스트 코드를 활용하는 것도 매우 쉽습니다.</p>\n<p>원프레딕트는 복잡한 비즈니스 문제를 더 나은 기술과 더 나은 협력을 통해 풀어낼\n동료를 찾고 있습니다.\n언제나 더 나은 방법이 있음을 믿고, 비즈니스와 코드를 조금씩 개선하는 일에\n매진하고 싶은 분,\n이를 위해 <code class=\"language-text\">도메인 주도 설계(DDD)</code>, <code class=\"language-text\">이벤트 기반 아키텍처(EDA)</code>,\n<code class=\"language-text\">데이터 중심 애플리케이션 설계(DDIA)</code> 등에 관심있는 분을 환영합니다.</p>\n<p><strong><a href=\"https://blog.onepredict.ai/\">원프레딕트 채용 정보 확인하기</a></strong></p>\n<p><img src=\"https://media.tenor.com/UTrLSr85tYEAAAAd/happy-cat-cat.gif\" alt=\"Happy Cat\"></p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-주1\">이 부분은 약간 오해할 수 있게 쓰였는데, 대중에 공개된 시기만 살펴보면\n파이썬은 1991년, 자바는 1995년입니다.<a href=\"#fnref-%EC%A3%BC1\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주2\"><a href=\"https://en.wikipedia.org/wiki/Procedural_programming\">https://en.wikipedia.org/wiki/Procedural_programming</a><a href=\"#fnref-%EC%A3%BC2\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주3\"><a href=\"https://martinfowler.com/bliki/TellDontAsk.html\">https://martinfowler.com/bliki/TellDontAsk.html</a><a href=\"#fnref-%EC%A3%BC3\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주4\">번역서 제목은 “UML을 활용한 객체지향 분석 설계”\n<a href=\"http://aladin.kr/p/AGuQ\">http://aladin.kr/p/AGuQ</a><a href=\"#fnref-%EC%A3%BC4\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주5\">흔히 “고양이과”라고 하지만 표준어는 “고양잇과”입니다. 🐈<a href=\"#fnref-%EC%A3%BC5\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주6\"><a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\">https://en.wikipedia.org/wiki/Separation_of_concerns</a><a href=\"#fnref-%EC%A3%BC6\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주7\"><a href=\"https://github.com/ahastudio/til/blob/main/architecture/layered-architecture.md\">https://github.com/ahastudio/til/blob/main/architecture/layered-architecture.md</a><a href=\"#fnref-%EC%A3%BC7\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주8\">여기선 일반적인 구분과 다르게 User-side, Data-side란 표현을 썼는데,\n이는 Alistair Cockburn이 Hexagonal Architexture를 설명할 때 사용한\n표현입니다.\n<a href=\"https://alistair.cockburn.us/hexagonal-architecture/\">https://alistair.cockburn.us/hexagonal-architecture/</a><a href=\"#fnref-%EC%A3%BC8\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주9\">위키북스에서 Eric Evans의 “도메인 주도 설계” 번역서에 실린\n“LAYERED ARCHITECTURE” 패턴에 관한 부분을 웹에 공개했습니다.\n정말 감사해요!\n<a href=\"https://wikibook.co.kr/article/layered-architecture/\">https://wikibook.co.kr/article/layered-architecture/</a><a href=\"#fnref-%EC%A3%BC9\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주10\"><a href=\"https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html\">https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html</a><a href=\"#fnref-%EC%A3%BC10\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주11\"><a href=\"https://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html\">https://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html</a><a href=\"#fnref-%EC%A3%BC11\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주12\">Martin Fowler가 쓴\n“Inversion of Control Containers and the Dependency Injection pattern”을\n꼭 읽어보세요.\n<a href=\"https://www.martinfowler.com/articles/injection.html\">https://www.martinfowler.com/articles/injection.html</a><a href=\"#fnref-%EC%A3%BC12\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주13\"><a href=\"https://github.com/python-injector/injector\">https://github.com/python-injector/injector</a><a href=\"#fnref-%EC%A3%BC13\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-주14\"><a href=\"https://github.com/python-injector/flask_injector\">https://github.com/python-injector/flask_injector</a><a href=\"#fnref-%EC%A3%BC14\" class=\"footnote-backref\">↩</a></li>\n</ol>\n</div>","fields":{"slug":"/python-web-application-architecture/"},"frontmatter":{"title":"객체지향 파이썬을 위하여","date":"October 03, 2023","description":"파이썬은 객체지향 언어입니다.\n웹 개발을 하면서 이 사실을 잊지 않으려면 어떻게 해야 할까요?\n","author":{"name":"아샬","avatar":"https://avatars.githubusercontent.com/u/36392","greeting":"원프레딕트 테크니컬 디렉터"}}},"previous":{"fields":{"slug":"/typescript-algebric-type/"},"frontmatter":{"title":"TypeScript를 이용한 대수적 타입"}},"next":{"fields":{"slug":"/pycon-retrospect/"},"frontmatter":{"title":"파이콘 발표 후기"}}},"pageContext":{"id":"6821184a-7455-56c2-a44d-2b63b960c5f1","previousPostId":"5acec3c8-9af1-5dcf-83f8-3edc7d73e8c7","nextPostId":"c47ce7e5-8904-5b34-98ad-97097ad0c578"}},"staticQueryHashes":["2094693779"],"slicesMap":{}}
{"componentChunkName":"component---src-templates-blog-post-js","path":"/playwright-e2e-part3/","result":{"data":{"site":{"siteMetadata":{"title":"Onepredict Engineering"}},"markdownRemark":{"id":"69e7cc87-4065-5500-8117-fa35b8974bdc","excerpt":"글 목록 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3 Intro…","html":"<blockquote>\n<p><strong>글 목록</strong></p>\n<ol>\n<li><strong><a href=\"/playwright-e2e-part1/\">사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1</a></strong></li>\n<li><strong><a href=\"/playwright-e2e-part2/\">사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2</a></strong></li>\n<li><strong>사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3</strong></li>\n</ol>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#intro\">Intro.</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%9A%94%EC%86%8C-%EB%A0%8C%EB%8D%94%EB%A7%81\">요소 렌더링</a></p>\n<ul>\n<li><a href=\"#%EC%A1%B0%EA%B1%B4%EB%B6%80-%EB%A0%8C%EB%8D%94%EB%A7%81\">조건부 렌더링</a></li>\n<li><a href=\"#auto-waiting\">Auto-waiting</a></li>\n<li><a href=\"#waitfor--%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\"><code class=\"language-text\">waitFor-*()</code> 사용하기</a></li>\n<li><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B7%9C%EC%B9%99\">렌더링 규칙</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%B6%94%EA%B0%80%EC%A0%81%EC%9D%B8-%EA%B8%B0%EB%8A%A5%EB%93%A4\">요소의 추가적인 기능들</a></p>\n<ul>\n<li><a href=\"#hover-drag-%EA%B8%B0%EB%8A%A5\">Hover, Drag 기능</a></li>\n<li><a href=\"#screenshot-%EA%B8%B0%EB%8A%A5\">Screenshot 기능</a></li>\n<li><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%B0%BD-%EC%97%B4%EA%B8%B0\">새로운 브라우저 창 열기</a></li>\n<li><a href=\"#%EA%B7%B8-%EC%99%B8\">그 외</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#ui-%EB%AA%A8%EB%93%9C-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\">UI 모드 활용하기</a></p>\n<ul>\n<li><a href=\"#locator-%EA%B8%B0%EB%8A%A5\">Locator 기능</a></li>\n<li><a href=\"#source-%EA%B8%B0%EB%8A%A5\">Source 기능</a></li>\n<li><a href=\"#errors-%EA%B8%B0%EB%8A%A5\">Errors 기능</a></li>\n<li><a href=\"#actions-%EA%B8%B0%EB%8A%A5\">Actions 기능</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B8%B0%ED%83%80\">기타</a></p>\n<ul>\n<li><a href=\"#pagewaitfortimeout\">page.waitForTimeout()</a></li>\n<li><a href=\"#scrollintoviewifneeded\">scrollIntoViewIfNeeded()</a></li>\n<li><a href=\"#json-%ED%8C%8C%EC%9D%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">JSON 파일 사용하기</a></li>\n<li><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">환경 변수 사용하기</a></li>\n<li><a href=\"#%EB%B0%98%EB%B3%B5%EB%AC%B8%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A4%84%EC%9D%B4%EA%B8%B0\">반복문을 사용하여 중복 코드 줄이기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%9A%8C%EA%B3%A0\">회고</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"#%ED%95%99%EC%8A%B5%EA%B3%BC-%EC%A7%80%EC%86%8D%EC%A0%81%EC%9D%B8-%ED%94%BC%EB%93%9C%EB%B0%B1\">학습과 지속적인 피드백</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1-%EC%A0%84%EB%9E%B5%EA%B3%BC-%EA%B3%A0%EB%AF%BC\">테스트 코드 작성 전략과 고민</a></li>\n<li><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%EA%B3%BC-%EC%95%88%EC%A0%95%EC%84%B1-%EC%9E%AC%EC%82%AC%EC%9A%A9%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%85%B8%EB%A0%A5\">전역 설정과 안정성, 재사용성을 위한 노력</a></li>\n<li><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A7%81%EA%B4%80%EC%84%B1-%ED%96%A5%EC%83%81\">테스트 직관성 향상</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B2%B0%EB%A1%A0\">결론</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intro.</h2>\n<p>이번 Part 3에서는 Playwright에서 찾은 요소를 어떻게 활용하는지에 대한 경험과 생각을 공유하고자 합니다.</p>\n<h2 id=\"요소-렌더링\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EC%86%8C-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"요소 렌더링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>요소 렌더링</h2>\n<h3 id=\"조건부-렌더링\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EB%B6%80-%EB%A0%8C%EB%8D%94%EB%A7%81\" aria-label=\"조건부 렌더링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조건부 렌더링</h3>\n<p>Locators를 사용하여 찾은 요소들은 조건부 렌더링을 통해 화면에 보일 수 있습니다.\n요소의 조건부 상태 값은 크게 2가지로 나눌 수 있습니다.</p>\n<ul>\n<li>visible / hidden</li>\n<li>attached / detached</li>\n</ul>\n<p>간단히 설명하자면 visible / hidden은 요소를 단순히 가리고 보여주는 것이고, attached / detached는 요소를 붙였다가 떼는 것입니다.\n요소의 상태(state) 값에 대한 자세한 내용은 <a href=\"https://playwright.dev/docs/api/class-locator#locator-wait-for-option-state\">여기</a>에서 확인할 수 있습니다.</p>\n<h3 id=\"auto-waiting\" style=\"position:relative;\"><a href=\"#auto-waiting\" aria-label=\"auto waiting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Auto-waiting</h3>\n<p>Playwright는 동작을 수행하기 전에 요소에 대한 다양한 실행 가능성을 검사하고 예상대로 동작하는지 확인합니다.\n예를 들어, 다음과 같은 코드가 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">await page.locator('.chart-wrapper').click();</code></pre></div>\n<p>이 코드는 <code class=\"language-text\">locator()</code>를 사용하여 페이지 내 <code class=\"language-text\">chart-wrapper</code> 클래스명을 가진 요소를 선택하고, 클릭 동작을 실행합니다.</p>\n<p>만일 클릭 동작이 수행되지 않는 경우, Playwright worker의 실행 포인터가 해당 코드 위치에서 계속 대기하게 됩니다.\n그리고 특정 시간이 지나고 Timeout Error가 발생하고 테스트가 실패합니다.</p>\n<p>이렇게 한 줄의 코드로 이렇게 많은 동작을 수행할 수 있는 이슈는 코드에 숨겨진 내용들이 있기 때문입니다.\n이 부분을 자세히 살펴보겠습니다.</p>\n<p>위에서 작성한 코드에는 다음과 같은 내용이 보장되어 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">1. 요소가 DOM에 붙어 있다.\n2. 요소가 visible하다.\n3. 요소가 stable하다.(애니메이션 종료)\n4. 요소가 다른 요소에 가려지지 않는 것처럼 이벤트를 수신한다.\n5. 요소가 enable되어 있다.</code></pre></div>\n<p>사용자 이벤트마다 보장되는 실행 가능한 동작들이 다릅니다.\n자세한 내용은 <a href=\"https://playwright.dev/docs/actionability\">여기</a>에서 확인할 수 있습니다.</p>\n<blockquote>\n<p><strong>force 옵션에 대해서</strong></p>\n<p>사용자 동작을 코드로 작성했을 때, 실행 가능성 검사를 수행하고 예상대로 동작하는 것은 편리합니다.\n그러나 사용자 동작이 강제적으로 실행되어야 하는 예외 상항이 발생할 수 있습니다.</p>\n<p>예를 들어 disabled 된 인풋 박스에 값을 채워 넣어야 하는 경우가 있습니다.\n<code class=\"language-text\">force</code> 옵션을 사용하여 어플리케이션에서 불가능한 동작을 강제로 수행할 수 있게 되며,\n특수한 테스트 시나리오에서 활용될 수 있습니다.</p>\n<p>또한 UI 모드에서 Locator를 이용하여 찾은 요소를 확인하는 데에도 유용하게 사용될 수 있습니다.\n따라서 <code class=\"language-text\">force</code> 옵션은 예상치 못한 동작이 필요한 경우나 특별한 테스트 상황에서 활용할 수 있습니다.</p>\n</blockquote>\n<h3 id=\"waitfor--사용하기\" style=\"position:relative;\"><a href=\"#waitfor--%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"waitfor  사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">waitFor-*()</code> 사용하기</h3>\n<p>어플리케이션에서는 사용자 동작 외에도 브라우저에 렌더링되는 요소가 보장되었는지 확인해야 합니다.\n실제 사용자의 행동과 Playwight 코드를 통한 에뮬레이터 동작이 동일하게 작동하더라도,\n테스트 실행 결과가 다를 수 있습니다.</p>\n<p>이러한 차이는 디바이스를 컨트롤하는 시간, 미세한 딜레이, 눈속임 기법 등의 영향으로 인해 발생할 수 있습니다.\n수동으로 어플리케이션을 테스트할 때는 사용자 경험을 터득하고 무의식적으로 문제점을 놓치거나 특정 부분에 매몰될 수 있습니다.</p>\n<p>예를 들어 탭을 선택하여 하위 탭 컨텐츠가 변경되는 경우,\n복잡한 돔 구조와 네트워크 딜레이 등으로 인해 렌더링 시간이 달라져 테스트가 간헐적으로 실패할 수 있습니다.</p>\n<p>따라서 테스트 코드를 작성할 때는 동적인 요소와 관련된 부분에 특별한 주의가 필요하며,\n렌더링되지 않은 요소를 동작시키려고 하는 경우가 없도록 주의해야 합니다.</p>\n<p>Playwright에서는 이러한 동기화 이슈를 해결하기 위해 요소의 변경이 완료된 상태를 보장하는 <code class=\"language-text\">waitFor-*()</code> API를 제공합니다.\n이 API는 요소의 attached, detached, visible, hidden 상태가 될 때까지 대기하는 기능을 제공하여\n사용자가 원하는 타이밍과 테스트 코드의 타이밍의 괴리를 최소화할 수 있습니다.</p>\n<h3 id=\"렌더링-규칙\" style=\"position:relative;\"><a href=\"#%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B7%9C%EC%B9%99\" aria-label=\"렌더링 규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>렌더링 규칙</h3>\n<p>어플리케이션의 렌더링 최적화를 위해 다양한 방법들이 존재합니다.\nSuspense를 이용한 Skeleton UI 방식, 로딩 마스크, CSS animation, 다양한 컴포넌트 에러 바운더리 규칙 등이 이에 속합니다.</p>\n<p>어플리케이션의 메뉴와 영역을 분리하고, 컴포넌트 요소 및 렌더링 규칙을 명확하게 정의하면 E2E 테스트 작성이 간편해집니다.\n정해진 규칙에 따라 손쉽게 테스트 코드를 작성할 수 있으며, 테스트 코드 유지보수 비용도 절감됩니다.\n또한, 이러한 디테일은 테스트의 품질과 안정성을 높일 수 있다고 생각합니다.</p>\n<p>요소의 렌더링 성공 여부에 따라 테스트를 건너뛸 것인지 실패할 것인지를 정의하는 것이 중요합니다.\n테스트 코드를 작성할 때 이러한 기준을 명확히 정의하면 효과적으로 테스트를 수행할 수 있습니다.</p>\n<h2 id=\"요소의-추가적인-기능들\" style=\"position:relative;\"><a href=\"#%EC%9A%94%EC%86%8C%EC%9D%98-%EC%B6%94%EA%B0%80%EC%A0%81%EC%9D%B8-%EA%B8%B0%EB%8A%A5%EB%93%A4\" aria-label=\"요소의 추가적인 기능들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>요소의 추가적인 기능들</h2>\n<h3 id=\"hover-drag-기능\" style=\"position:relative;\"><a href=\"#hover-drag-%EA%B8%B0%EB%8A%A5\" aria-label=\"hover drag 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hover, Drag 기능</h3>\n<p>Playwright의 특징 중 하나인 hover, drag 기능을 통해 툴팁 컴포넌트, 슬라이더 컴포넌트 등을 테스트할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">// 모든 라벨에 hover하면 툴팁이 나타난다.\nconst labelCount = await labelText.count();\nfor (let i = 0; i &lt; labelCount; ++i) {\n  const selectedLabel = labelText.nth(i);\n  await selectedLabel.hover();\n\n  await tooltipPopper.waitFor({ state: 'attached' });\n  await expect(tooltipPopper).toBeVisible();\n}</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">// 슬라이더의 마크를 처음부터 가운데까지 드래그한다.\nawait slider\n  .first()\n  .dragTo(slider.nth(Math.ceil(markCount / 2)), {\n    force: true,\n  });</code></pre></div>\n<h3 id=\"screenshot-기능\" style=\"position:relative;\"><a href=\"#screenshot-%EA%B8%B0%EB%8A%A5\" aria-label=\"screenshot 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Screenshot 기능</h3>\n<p>Screenshot 기능을 사용하면 전체 페이지나 특정 요소의 스크린샷을 캡처하여 파일로 저장할 수 있습니다.\nLocators를 통해 Playwright 에뮬레이터 상의 요소를 찾더라도 실제로 렌더링되었는지 확인하는 데 screenshot 기능은 유용합니다.</p>\n<p>하지만 개인적으로 screenshot을 선호하지 않습니다.\n이는 테스트 커버리지를 100%로 올리기 위한 치트 방식으로 보입니다.\n저장된 이미지는 노력도 적고 신뢰도가 낮은 테스트라고 여겨지며, 적용은 쉽지만 효과가 제한적인 낮은 비용의 테스트라고 생각합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">test(`테스트 명`, async ({ page }, testInfo) => {\n  // ...\n  const screenshotPath = testInfo.outputPath('screenshot.png');\n  await page.screenshot({ path: screenshotPath });\n});</code></pre></div>\n<h3 id=\"새로운-브라우저-창-열기\" style=\"position:relative;\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EC%B0%BD-%EC%97%B4%EA%B8%B0\" aria-label=\"새로운 브라우저 창 열기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>새로운 브라우저 창 열기</h3>\n<p>클릭 시 새로운 브라우저 창을 여는 동작에 대해 테스트할 수 있습니다.\nPromise 객체를 활용하여 사용자 동작과의 싱크를 맞출 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">test(`테스트 명`, async ({ context }) => {\n  const titleBox = page.locator('.title-box');\n  \n  const pagePromise = context.waitForEvent('page');\n  await titleBox.click();\n  const newPage = await pagePromise;\n  \n  await newPage.waitForURL(/* regex */);\n  \n  await expect(newPage).toHaveURL(/* regex */);\n  await newPage.close();\n})</code></pre></div>\n<h3 id=\"그-외\" style=\"position:relative;\"><a href=\"#%EA%B7%B8-%EC%99%B8\" aria-label=\"그 외 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그 외</h3>\n<p>download, page.keyboard, page.mouse, evaluate 등의 기능을 유용하게 사용하여 테스트를 진행하였습니다.</p>\n<h2 id=\"ui-모드-활용하기\" style=\"position:relative;\"><a href=\"#ui-%EB%AA%A8%EB%93%9C-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"ui 모드 활용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UI 모드 활용하기</h2>\n<p>테스트를 실행하는 방법의 하나는 터미널에서 커맨드 라인을 통해 실행하는 것입니다.\n그러나 새로운 사용자나 테스터의 입장에서 가시성이 뛰어난 것은 UI 모드를 사용하는 것입니다.\nUI 모드를 활용하면 테스트 각 단계를 시각적으로 확인하고 진행할 수 있어,\n테스트를 더욱 쉽게 탐색하고 실행하며 디버깅할 수 있습니다.</p>\n<p>개인적으로 Playwright UI 모드를 사용하는 것을 추천해 드립니다.\nUI 모드를 사용하면 테스트 실행 중에 페이지에서 어떤 일이 벌어지고 있는지 실시간으로 확인이 가능합니다.\n텍스트 기반 테스트 외에 시각적 피드백을 통해 테스트 코드의 동작을 확인할 수 있으며 디버깅이 쉬워집니다.\n이를 통해 쉽고 즐거운 테스트 경험을 할 수 있습니다.</p>\n<h3 id=\"locator-기능\" style=\"position:relative;\"><a href=\"#locator-%EA%B8%B0%EB%8A%A5\" aria-label=\"locator 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Locator 기능</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 760px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/278d53ccda41b126fd70708184144394/3c051/img.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.71875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACP0lEQVR42pWTa08TQRiF+ydEobvb7v067HIJUSgtpUC9IJQfoMYoICBFAxT0A20hAgpEBP7v8czUIDHGxA9PJnNm9ux535nJhWGINE3h2hZM04TnebAdB2HgI+KanDuWDVti93BuceC5LgLuMblukZxLIYoixF4BgaPDorGm5XsfBjEM24fpBSiSguuj4ARKk9hhDC9K4HE0ikUYuoacTCCEQBJYCB2N6Vxo/feRVOZRWe5g8vVnVFfaqK11UHvXxdRym3QU1dUDzKwfct8BgmwMWn4AOVlylqXIIhOJX4Dr+cg/6IOYbuDJ9hUWd39ggSztXaPePEPpbRcLO5dKa7SuuX6FyuoRHDECXRqOjj5EqVRFaWwY4yMJEpHR8B5EtYHZDxeob54yxTHTHKFMs0kme7z1DTMbJ0ovL3epd2Anwz1D3/cRxzEbb8I2DVWyTJjWljDTPEf5TRvT60fkEFUyRePKSlchtekNzle7vw0Nw4Cu68RQFNhcjYaDLHm2eYE5Jpl7f4r5j+cqbYWJZjmvb36lfoLnO9+Z9hhWPASdh6kM76IM+/uQsOSnuzfs3Q0WWld4tn3JRCx97Qsa1OpbZ6qPi1yr8ad2zITawN8N8zzlVJ1yG+MvW2QP4y9amOBYerVPPilt4pZ92FHWK9kJBXzXQRCEt8ieDqZDyHhgw2OPIIZGESQp75y4w6DC/4XsvbwxuTDjZiISgZSIOFE33uKruYvJ5P+Ee1zXQ67oeJDIl+Gqp2Xhzzb8Dz8BkDaSrLbgdgkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Locator 이미지\"\n        title=\"\"\n        src=\"/static/278d53ccda41b126fd70708184144394/3c051/img.png\"\n        srcset=\"/static/278d53ccda41b126fd70708184144394/6f3f2/img.png 256w,\n/static/278d53ccda41b126fd70708184144394/01e7c/img.png 512w,\n/static/278d53ccda41b126fd70708184144394/3c051/img.png 760w\"\n        sizes=\"(max-width: 760px) 100vw, 760px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n좌측 하단에 <code class=\"language-text\">Pick locator</code> 아이콘을 클릭하면 DOM 스냅샷 화면이 표시되고,\n해당 화면 위에 원하는 요소에 커서를 가져가면 선택된 요소의 locator가 시각적으로 표시됩니다.\n선택한 요소를 클릭하면 <code class=\"language-text\">Locator</code> 탭에는 해당 요소의 locator 정보가 텍스트로 나타납니다.</p>\n<p>이 기능은 E2E 테스트를 처음 다루는 사용자에게 유용하며,\n선택된 locator에 시멘틱 정보가 포함되어 있다면 작성된 테스트 코드의 안정성을 더욱 향상될 것입니다.</p>\n<h3 id=\"source-기능\" style=\"position:relative;\"><a href=\"#source-%EA%B8%B0%EB%8A%A5\" aria-label=\"source 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source 기능</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 760px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ef87d71c7b79fac7adbf6cefb82010ae/3c051/img2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.4375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAChElEQVR42n1S2W7bMBDUVxSIdfEWSUk+5UN17NhJ07RIUBR96v//yHSXdpAGaPowoLTLHc7Obua9R9t1UNpCKo2m8YgxIsQAznkfUuxfcHy6Bp5OYyystchibNFScaNzWC0SaZ7ncFrSJYOqrlEU1QUlo0R5PatKQNN9oxR914QKWd9GrBYzrGKJqcuhtabiAiqpbSClgm0kmkjFroYhFfwQ32uiROg0tJWQQqKmx7NmvkE/7ND2Aa6bQrqAKqko0ZEVy+US2+0GXx/vsd0MKEkFxxj7/YhvTw/0sEvqEuHN7hnV/geq3RMm4wvKOKAuC+SkkosOtweMuxGBvBSkgguPB4qNIzbrDbVsEhHblAg78m827dGaAkEXyRNWV9cC1nFriloSFxhBVpAF1pDXgtoXNBhJA5XJpkTIXrBPJZtKASFEIpRSJg/Zr8YbLJYtprNAxSpNk3M+GopF+ODeFJZXv7iVV3BiQheGYcD5dML5fKbzjGnfp2Ecj0fyc4vT3Qkvz89YLpaYTCbvCf8mTitBLUSygwfjPU/7otxYnYiVkmkYrJhzrJDzmXPusgbszXU5Odbxggeflpv/FSl7tYcJ2EtJpNroVM+ecz7ruh7OurR3xl03nifaBDp98opzPOE3iHffTMbffC9j6a0ilf2AyWJENdvAzee0sAEhWHiaoKOJirqilgra0QvKK17/iyInUvJQkbrWddDzEflwQL0+wK22WK5mNNkZ2hCp5QaC9q2S+kOUQkEZh0z0a8TVI9ThJz59+Y3q/hf83Xf0tw9odyfE9RF2sUcx/YxJ/zFuCOV0RObJo0DM0jaorE/eaRpC8NRuY2Ake0SrVJX/BbetpMAfRN2xRqemYo0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Source 이미지\"\n        title=\"\"\n        src=\"/static/ef87d71c7b79fac7adbf6cefb82010ae/3c051/img2.png\"\n        srcset=\"/static/ef87d71c7b79fac7adbf6cefb82010ae/6f3f2/img2.png 256w,\n/static/ef87d71c7b79fac7adbf6cefb82010ae/01e7c/img2.png 512w,\n/static/ef87d71c7b79fac7adbf6cefb82010ae/3c051/img2.png 760w\"\n        sizes=\"(max-width: 760px) 100vw, 760px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\nSource 기능은 현재 진행 중인 테스트 action에 해당하는 작성된 테스트 소스코드를 매칭시켜 줍니다.</p>\n<h3 id=\"errors-기능\" style=\"position:relative;\"><a href=\"#errors-%EA%B8%B0%EB%8A%A5\" aria-label=\"errors 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Errors 기능</h3>\n<p>테스트가 실패할 때, 해당 탭에 자세한 정보가 표시됩니다.\n타임라인에 오류가 발생한 위치가 시각적으로 표시되며, Source 탭에는 오류가 발생한 소스코드의 위치가 명시됩니다.</p>\n<p><code class=\"language-text\">expect()</code> API의 결과가 원하는 결과와 다를 경우,\n테스트 실행 중 에러가 표시되며 Expected(기대 결과), Received(실제 결과), Call log(에러 로그)가 나타납니다.\n이를 통해 어떤 부분에서 테스트가 실패했는지 쉽게 디버깅할 수 있습니다.\n이 정보를 참고하여 Given, When 부분의 테스트 코드를 효율적으로 수정할 수 있습니다.</p>\n<h3 id=\"actions-기능\" style=\"position:relative;\"><a href=\"#actions-%EA%B8%B0%EB%8A%A5\" aria-label=\"actions 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Actions 기능</h3>\n<p>좌측 상단에 위치한 Actions 탭에서는 진행 중인 테스트 action을 순차적으로 볼 수 있습니다.\n<code class=\"language-text\">test.step()</code>을 활용하면 테스트들을 단계적으로 그룹화할 수 있으며,\nUI 모드에서의 테스트 가시성, 직관성을 높일 수 있습니다.</p>\n<h2 id=\"기타\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80\" aria-label=\"기타 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타</h2>\n<h3 id=\"pagewaitfortimeout\" style=\"position:relative;\"><a href=\"#pagewaitfortimeout\" aria-label=\"pagewaitfortimeout permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>page.waitForTimeout()</h3>\n<p><code class=\"language-text\">page.waitForTimeout()</code> 기능은 공식 문서에서 권장되지는 않지만,\n최후의 수단으로 페이지를 딜레이하여 예상되는 렌더링 결과를 확인하기 위해 사용되었습니다.\n다음과 같은 특수한 경우에 이 기능을 활용하였습니다.</p>\n<ol>\n<li>서드파티 라이브러리의 특수한 동작에 대응하기 위해</li>\n<li>서드파티 라이브러리의 버그로 인한 사이드 이펙트 커버하기 위해</li>\n<li>특정 요소의 렌더링 딜레이 시간(debounce 등)을 알 수 없는 경우</li>\n<li>CSS animation 효과 딜레이 시간을 커버하기 위해</li>\n</ol>\n<h3 id=\"scrollintoviewifneeded\" style=\"position:relative;\"><a href=\"#scrollintoviewifneeded\" aria-label=\"scrollintoviewifneeded permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scrollIntoViewIfNeeded()</h3>\n<p>스크린에 보이지 않는 위치에 있는 요소를 확인하기 위해 스크롤하여 해당 요소를 화면에 노출하는 작업이 필요합니다.\nscreenshot() 기능을 사용하여 전체 화면을 캡처할 때 유용합니다.</p>\n<h3 id=\"json-파일-사용하기\" style=\"position:relative;\"><a href=\"#json-%ED%8C%8C%EC%9D%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"json 파일 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JSON 파일 사용하기</h3>\n<p>특정 테스트에서는 JSON 파일을 읽어와 이를 활용하는 로직이 필요했습니다.\n이를 위해 <code class=\"language-text\">test.beforeEach()</code> 훅에 해당 파일을 읽어오는 코드를 추가하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">test.beforeEach(async ({ page }) => {\n  try {\n    const readData = fs.readFileSync(\n      './playwright-storage/data.json',\n      'utf8'\n    );\n    const parsedData = JSON.parse(readData);\n    const firstId = parsedData?.scenes?.[0]?.id;\n    if (!firstId) {\n      console.log('첫 번째 id가 존재하지 않습니다.');\n      throw new Error();\n    }\n  } catch(e) {\n    isExistData = false;\n  }\n});</code></pre></div>\n<p>이로써 해당 테스트를 실행하기 전에 필요한 데이터를 파일에서 불러와 사용할 수 있게 되었습니다.\n반대로 JSON 파일을 생성하기 위해 <code class=\"language-text\">writeFileSync()</code>를 사용할 수 있습니다.</p>\n<h3 id=\"환경-변수-사용하기\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"환경 변수 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경 변수 사용하기</h3>\n<p><code class=\"language-text\">.env</code> 파일을 생성하고 환경 변수로 활용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">import path from 'path';\nimport dotenv from 'dotenv';\n\ndotenv.config();\ndotenv.config({ path: path.resolve(__dirname, '..', '.env') });\n\n// ...\nconst BASE_URL = process.env.VITE_API_BASE_URL;</code></pre></div>\n<p>환경 변수에 대한 내용은 <a href=\"https://playwright.dev/docs/test-parameterize#env-files\">여기</a>에서 확인할 수 있습니다.</p>\n<h3 id=\"반복문을-사용하여-중복-코드-줄이기\" style=\"position:relative;\"><a href=\"#%EB%B0%98%EB%B3%B5%EB%AC%B8%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%98%EC%97%AC-%EC%A4%91%EB%B3%B5-%EC%BD%94%EB%93%9C-%EC%A4%84%EC%9D%B4%EA%B8%B0\" aria-label=\"반복문을 사용하여 중복 코드 줄이기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>반복문을 사용하여 중복 코드 줄이기</h3>\n<p>요소를 순회하거나 반복적인 패턴을 가진 유사한 테스트를 위해 for문을 사용할 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">// case 1\nfor (const row of await page.getByRole('listitem').all())\n  console.log(await row.textContent());\n\n// case 2\nconst rows = page.getByRole('listitem');\nconst count = await rows.count();\nfor (let i = 0; i &lt; count; ++i)\n  console.log(await rows.nth(i).textContent());\n\n// case 3\nconst people = ['Alice', 'Bob'];\nfor (const name of people) {\n  test(`testing with ${name}`, async () => {\n    // ...\n  });\n  // You can also do it with test.describe() or with multiple tests as long the test name is unique.\n}</code></pre></div>\n<p>반복 관련 내용은 <a href=\"https://playwright.dev/docs/locators#rare-use-cases\">여기</a>에서 확인할 수 있습니다.</p>\n<h2 id=\"회고\" style=\"position:relative;\"><a href=\"#%ED%9A%8C%EA%B3%A0\" aria-label=\"회고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회고</h2>\n<p>과거의 테스팅 도구들은 사용하기 어렵고 불편하고 불안정한 경험을 제공하였습니다.\n그러나 Cypress, Playwright와 같은 현대의 테스팅 도구들은 사용자에게 빠른 피드백과 친숙한 환경을 제공하고 있습니다.</p>\n<p>이러한 도구의 발전은 소프트웨어 측면에서 테스트 환경을 개선하고 사용자들에게 효과적인 테스트 경험을 제공합니다.\n그러나 우리들은 소프트웨어 품질 향상에 기여하기 위해 도구만큼이나 테스팅 규칙, 문화, 전략을 도입하고 발전시켜야 한다고 생각합니다.\n어플리케이션의 품질과 안정성을 위해서는 Unit 테스트뿐만 아니라 E2E 테스트도 적절하게 적용되어야 한다고 생각합니다.</p>\n<p>제한된 자원 속에서 E2E 테스트를 어떻게 진행하였는지에 대한 고민과 해결책의 요약정리는 다음과 같습니다.</p>\n<h4 id=\"학습과-지속적인-피드백\" style=\"position:relative;\"><a href=\"#%ED%95%99%EC%8A%B5%EA%B3%BC-%EC%A7%80%EC%86%8D%EC%A0%81%EC%9D%B8-%ED%94%BC%EB%93%9C%EB%B0%B1\" aria-label=\"학습과 지속적인 피드백 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>학습과 지속적인 피드백</h4>\n<p>공식 문서와 다양한 레퍼런스를 참고하여 테스트에 적용하고 실험하였습니다.\n피드백을 주고받으며 테스트 학습과 성장을 도모하였고,\n테스트 관점에서의 시야를 확장할 수 있는 기회를 가질 수 있었습니다.</p>\n<h4 id=\"테스트-코드-작성-전략과-고민\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1-%EC%A0%84%EB%9E%B5%EA%B3%BC-%EA%B3%A0%EB%AF%BC\" aria-label=\"테스트 코드 작성 전략과 고민 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 코드 작성 전략과 고민</h4>\n<p>초반에는 Happy Case 방식으로 단순한 테스트 코드를 작성하였으나,\n시간이 흐를수록 테스트가 고도화되면서 많은 엣지 케이스도 경험할 수 있었습니다.\nLocator 규칙과 웹 접근성에 대해 고민하며 테스트 코드를 작성하였으며,\n이는 나중에 유지보수에 도움이 될 것으로 기대됩니다.\n또한, 개발 변경에 더 효과적으로 대응하기 위해 점진적으로 유연한 테스트 코드를 작성하기 위해 노력하였습니다.</p>\n<h4 id=\"전역-설정과-안정성-재사용성을-위한-노력\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%EA%B3%BC-%EC%95%88%EC%A0%95%EC%84%B1-%EC%9E%AC%EC%82%AC%EC%9A%A9%EC%84%B1%EC%9D%84-%EC%9C%84%ED%95%9C-%EB%85%B8%EB%A0%A5\" aria-label=\"전역 설정과 안정성 재사용성을 위한 노력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전역 설정과 안정성, 재사용성을 위한 노력</h4>\n<p>프로젝트에서 중요한 API 응답 값의 다수 사용 문제에 대응하고, 전역 설정을 개선하였습니다.\n데이터와 테스트의 의존성을 최소화하면서 안정적인 테스트를 유지하기 위해서 노력하였습니다.\n또한, 코드의 반복과 양이 늘어날 때마다 코드 리펙토링과 재사용성에 대해 고민하였습니다.\n테스트 함수의 동적 생성과 공통 함수 활용을 통해 코드의 가독성을 높이고 유지보수를 용이하게 만들어주었습니다.</p>\n<h4 id=\"테스트-직관성-향상\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A7%81%EA%B4%80%EC%84%B1-%ED%96%A5%EC%83%81\" aria-label=\"테스트 직관성 향상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 직관성 향상</h4>\n<p>테스트 레포트의 가시성을 높이기 위해 중첩된 테스트 구조와 훅을 활용한 코드를 작성하였습니다.\n사용자 시나리오와 테스트 간의 싱크를 맞추어 테스트 결과를 쉽게 도출할 수 있도록 노력하였습니다.</p>\n<h3 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h3>\n<p>E2E 테스트를 처음부터 진행하는 것은 끊임없는 도전의 연속이었습니다.\n단순한 테스트 코드에서부터 시작하여 다양한 측면에서 발생한 문제를 마주하고 시도하며 성장하는 과정이었습니다.\n이번 경험을 통해 얻은 노하우와 고민이 E2E 테스트를 진행하는 분들에게 많은 도움이 되었으면 좋겠습니다.</p>\n<p>사용자 시나리오와 요구사항의 명확한 이해가 개발과 테스트에 매우 중요하다는 것을 깨달았습니다.\n하나의 문화와 프로세스로 정착되기까지 더 큰 노력이 필요하겠지만,\n더 나은 소프트웨어 품질과 안정성을 위해 노력하고 발전해 나가겠습니다.</p>","fields":{"slug":"/playwright-e2e-part3/"},"frontmatter":{"title":"사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3","date":"January 24, 2024","description":"E2E 테스트를 도입하고 적용한 가이드입니다.","author":{"name":"김도은","avatar":"https://avatars.githubusercontent.com/u/10824092","greeting":"원프레딕트 프론트엔드 엔지니어"}}},"previous":{"fields":{"slug":"/playwright-e2e-part2/"},"frontmatter":{"title":"사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2"}},"next":{"fields":{"slug":"/chaotic-kubernetes-setup/"},"frontmatter":{"title":"우당탕탕! 쿠버네티스 설치기"}}},"pageContext":{"id":"69e7cc87-4065-5500-8117-fa35b8974bdc","previousPostId":"8660080c-9958-5d44-b561-98efcb5742d4","nextPostId":"538cb63c-f408-5e00-aae4-d960d63e6367"}},"staticQueryHashes":["2094693779"],"slicesMap":{}}
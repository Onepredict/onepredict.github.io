{"componentChunkName":"component---src-templates-blog-post-js","path":"/playwright-e2e-part2/","result":{"data":{"site":{"siteMetadata":{"title":"Onepredict Engineering"}},"markdownRemark":{"id":"8660080c-9958-5d44-b561-98efcb5742d4","excerpt":"글 목록 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3 Intro…","html":"<blockquote>\n<p><strong>글 목록</strong></p>\n<ol>\n<li><strong><a href=\"/playwright-e2e-part1/\">사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1</a></strong></li>\n<li><strong>사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2</strong></li>\n<li><strong><a href=\"/playwright-e2e-part3/\">사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3</a></strong></li>\n</ol>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#intro\">Intro.</a></p>\n</li>\n<li>\n<p><a href=\"#playwright-%EA%B4%80%EB%A0%A8-%EC%9E%90%EB%A3%8C\">Playwright 관련 자료</a></p>\n<ul>\n<li><a href=\"#%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C\">공식문서</a></li>\n<li><a href=\"#%EA%B8%B0%ED%83%80-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\">기타 레퍼런스</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%8F-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0\">프로젝트 및 파일 구조</a></p>\n<ul>\n<li><a href=\"#spects-%ED%8C%8C%EC%9D%BC\">*.spec.ts 파일</a></li>\n<li><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC\">전역 설정 파일</a></li>\n<li><a href=\"#playwrightconfigts-%ED%8C%8C%EC%9D%BC\">playwright.config.ts 파일</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%ED%95%B4%EC%A0%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D\">전역 설정/해제 구성 방식</a></p>\n</li>\n<li>\n<p><a href=\"#e2e-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\">E2E 코드 작성</a></p>\n<ul>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94\">테스트 그룹화</a></p>\n<ul>\n<li><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4%EC%99%80-%EB%A7%A4%EC%B9%AD%EB%90%98%EB%8A%94-e2e-%EC%BD%94%EB%93%9C-%EC%98%88%EC%8B%9C\">사용자 시나리오와 매칭되는 E2E 코드 예시</a></li>\n<li><a href=\"#test-testdescribe-%EC%A4%91%EC%B2%A9\">test(), test.describe() 중첩</a></li>\n<li><a href=\"#playwright-%EB%A0%88%ED%8F%AC%ED%8A%B8\">playwright 레포트</a></li>\n<li><a href=\"#testbeforeeach-testaftereach-%ED%9B%85\">test.beforeEach(), test.afterEach() 훅</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%A1%B0%EA%B1%B4%EB%B6%80-%ED%85%8C%EC%8A%A4%ED%8A%B8\">조건부 테스트</a></p>\n<ul>\n<li><a href=\"#testskipcondition-testfailcondition\">test.skip([condition]), test.fail([condition])</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94-1\">테스트 그룹화</a></p>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#locators%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0\">Locators를 활용한 요소 찾기</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8\">변수 선언</a></p>\n</li>\n<li>\n<p><a href=\"#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0\">효과적인 요소 찾기</a></p>\n<ul>\n<li><a href=\"#data-testid-%EC%86%8D%EC%84%B1%EA%B3%BC-pagegetbytestid-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\"><code class=\"language-text\">data-testid</code> 속성과 <code class=\"language-text\">page.getByTestId()</code> 사용하기</a></li>\n<li><a href=\"#%EA%B6%8C%EC%9E%A5-locators-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\">권장 Locators 사용하기</a></li>\n<li><a href=\"#pagelocatorselector-options-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\"><code class=\"language-text\">page.locator(selector[, options])</code> 사용하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EA%B7%B8%EB%A6%AC%EA%B3%A0\">그리고...</a></p>\n</li>\n</ul>\n</div>\n<h2 id=\"intro\" style=\"position:relative;\"><a href=\"#intro\" aria-label=\"intro permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Intro.</h2>\n<p>이번 Part 2에서는 Playwright에 대한 소개와 E2E 테스트 코드 작성 시의 경험과 생각을 공유하고자 합니다.</p>\n<h2 id=\"playwright-관련-자료\" style=\"position:relative;\"><a href=\"#playwright-%EA%B4%80%EB%A0%A8-%EC%9E%90%EB%A3%8C\" aria-label=\"playwright 관련 자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Playwright 관련 자료</h2>\n<p>Playwright를 학습하는 동안 여러 가지 자료들을 참고하였습니다. 그중에서도 유용하게 활용한 자료들은 다음과 같습니다.</p>\n<h3 id=\"공식문서\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C\" aria-label=\"공식문서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공식문서</h3>\n<p>어떤 기술이든 공식 문서가 최우선입니다.\n<a href=\"https://playwright.dev/\">Playwright 공식 문서</a>에서 Getting Started 메뉴의 내용을 튜토리얼처럼 따라 하면서,\n기본적인 설치 방법, 간단한 테스트 코드 작성, 테스트 실행, HTML 테스트 레포트 등을 실제로 경험할 수 있습니다.</p>\n<h3 id=\"기타-레퍼런스\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4\" aria-label=\"기타 레퍼런스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타 레퍼런스</h3>\n<p>Microsoft 문서 중 <a href=\"https://learn.microsoft.com/ko-kr/azure/playwright-testing/overview-what-is-microsoft-playwright-testing\">Microsoft Playwright Testing 설명서</a>를 참고하여 다양한 레퍼런스를 얻을 수 있었습니다.\n또한 <a href=\"https://github.com/microsoft/playwright\">Playwright Github</a>에서는 릴리즈 내용, 버그, 이슈에 대한 정보를 얻을 수 있습니다.\n책, 영상, 강의, 블로그 글 등을 통해서도 Playwright를 학습하는 데 도움을 받았습니다.</p>\n<h2 id=\"프로젝트-및-파일-구조\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%8F-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0\" aria-label=\"프로젝트 및 파일 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로젝트 및 파일 구조</h2>\n<p>Playwright로 구성된 프로젝트의 구조와 파일의 설명은 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">ㄴ .gitlab // gitlab pipeline script가 존재\nㄴ .husky\nㄴ e2e // 테스트 폴더\n    ㄴ dataAnalysis.spec.ts\n    ㄴ login.spec.ts\n    ㄴ trendAnalysis.spec.ts\n    ㄴ digitalTwin.spec.ts\n    ㄴ global.setup.ts // 전역 설정 파일\n    ㄴ global.teardown.ts // 전역 설정해제 파일\n    ㄴ //...\nㄴ node_modules\nㄴ .env // 전역 변수\nㄴ .eslintrc.json\nㄴ .gitignore\nㄴ playwright.config.ts // playwright 설정 파일\nㄴ tsconfig.json\nㄴ README.md</code></pre></div>\n<h3 id=\"spects-파일\" style=\"position:relative;\"><a href=\"#spects-%ED%8C%8C%EC%9D%BC\" aria-label=\"spects 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>*.spec.ts 파일</h3>\n<p>테스트 코드를 작성하는 파일입니다. 각 테스트 파일은 기본적으로 하나의 메뉴 테스트를 담당하고 있습니다.\n메뉴 테스트의 일부가 반복되는 경우 중복되는 테스트 함수를 모듈화하였습니다.</p>\n<h3 id=\"전역-설정-파일\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC\" aria-label=\"전역 설정 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전역 설정 파일</h3>\n<p><code class=\"language-text\">global.setup.ts</code>와 <code class=\"language-text\">global.teardown.ts</code>파일은 전역 설정을 등록하거나 해제하는 데 사용됩니다.\n전역 설정과 해제에 대한 자세한 내용은 <a href=\"https://playwright.dev/docs/test-global-setup-teardown\">여기</a>에서 확인할 수 있습니다.</p>\n<h3 id=\"playwrightconfigts-파일\" style=\"position:relative;\"><a href=\"#playwrightconfigts-%ED%8C%8C%EC%9D%BC\" aria-label=\"playwrightconfigts 파일 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>playwright.config.ts 파일</h3>\n<p><code class=\"language-text\">playwright.config.ts</code> 파일은 Playwright 테스트를 위한 설정 파일입니다.\n기본적인 설정은 <a href=\"https://playwright.dev/docs/test-configuration\">여기</a>에서 확인할 수 있습니다.</p>\n<ul>\n<li>테스트 파일 디렉토리, 테스트 파일 매치, 테스트 병렬 실행, retry, worker 제한 개수, 전역 설정, 전역 해제 설정 등을 설정할 수 있습니다.</li>\n<li>브라우저 옵션, 전역 timeout 옵션, 에뮬레이션 옵션, 네트워크 옵션, 레코딩(screenshot, trace, video) 옵션, viewport 등을 설정할 수 있습니다.</li>\n</ul>\n<h2 id=\"전역-설정해제-구성-방식\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%ED%95%B4%EC%A0%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D\" aria-label=\"전역 설정해제 구성 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전역 설정/해제 구성 방식</h2>\n<p>Playwright 테스트에서 전역 설정과 해제를 구성하는 방식은 크게 두 가지입니다.</p>\n<ol>\n<li>Project Dependencies</li>\n<li>Configure globalSetup, globalTeardown</li>\n</ol>\n<p>두 방식 각각에는 장단점이 존재하며, 공식 문서에서는 테스트 독립성, 추적, 레포트 등의 이유로 Project Dependencies 방식을 권장하고 있습니다.\n하지만 저는 Configure globalSetup, globalTeardown 방식을 사용하였는데, 그 이유로는 다음과 같습니다.</p>\n<ul>\n<li>전역 설정이나 해제할 내용이 많지 않고, 거의 모든 테스트에 동일한 전역 설정과 해제를 하는 환경이었습니다.</li>\n<li>복잡한 디펜던시 설정이 필요하지 않는 단순한 프로젝트 환경이었습니다.</li>\n<li>전역 설정/해제 파일을 분리하고 해당 파일만 업데이트하는 편리성이 있었습니다.</li>\n<li>Project Dependencies 환경에서는 코드를 새로 작성하거나 수정하고 테스트를 실행할 때마다 매 번 디펜던시 테스트가 실행되는 오버헤드가 존재합니다.</li>\n</ul>\n<h2 id=\"e2e-코드-작성\" style=\"position:relative;\"><a href=\"#e2e-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1\" aria-label=\"e2e 코드 작성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>E2E 코드 작성</h2>\n<p>E2E 테스트 코드를 작성하면서 익힌 노하우와 유용한 팁을 공유하려고 합니다.\n기본적으로 메뉴마다 하나의 테스트 파일로 구성하는 규칙을 채택하였습니다.</p>\n<h3 id=\"테스트-그룹화\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94\" aria-label=\"테스트 그룹화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 그룹화</h3>\n<p>각 메뉴에는 다양한 사용자 시나리오가 존재합니다.\n이러한 사용자 시나리오를 E2E 테스트 코드로 옮겨보면\n대부분의 시나리오(또는 코드)에서 반복되는 패턴을 발견할 수 있었습니다.</p>\n<h4 id=\"사용자-시나리오와-매칭되는-e2e-코드-예시\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4%EC%99%80-%EB%A7%A4%EC%B9%AD%EB%90%98%EB%8A%94-e2e-%EC%BD%94%EB%93%9C-%EC%98%88%EC%8B%9C\" aria-label=\"사용자 시나리오와 매칭되는 e2e 코드 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용자 시나리오와 매칭되는 E2E 코드 예시</h4>\n<ul>\n<li>사용자는 메인 화면을 볼 수 있다. -> 메인 화면의 특정 요소가 정상적으로 렌더링된다.</li>\n<li>사용자는 (메인 화면의) 헤더 영역을 볼 수 있다. -> 메인 화면의 특정 요소가 정상적으로 렌더링된다. + 메인 화면의 헤더 영역의 특정 요소가 정상적으로 렌더링된다.</li>\n<li>사용자는 (메인 화면의 헤더 영역에서) 트레인 뷰 타입을 변경할 수 있다 -> 메인 화면의 특정 요소가 정상적으로 렌더링된다. + 메인 화면의 헤더 영역의 특정 요소가 정상적으로 렌더링된다. + 메인 화면에서 헤더 영역의 트레인 뷰 타입의 요소가 정상적으로 렌더링되며, 뷰 타입을 클릭 이벤트로 변경할 수 있다.</li>\n</ul>\n<h4 id=\"test-testdescribe-중첩\" style=\"position:relative;\"><a href=\"#test-testdescribe-%EC%A4%91%EC%B2%A9\" aria-label=\"test testdescribe 중첩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>test(), test.describe() 중첩</h4>\n<p>반복되는 패턴을 관리하기 위해 test(), test.describe() API를 사용하여 중첩된 테스트 구조를 구성하였습니다.\n아래 이미지는 중첩된 테스트를 UI 모드에서 본 이미지입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9e2d6fe15ff97282cb936c1d149596dd/68947/img.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZklEQVR42j2RyW7jMBBE9R22tZIUKXETtdB2EiSHmQHmlv//mkqJQXIoqFsgi6+rq+AD1rTCzhbjqKG1htEG1lrWBkophBAQqW1d4UOE5x2lRgghi85a8jsMAtXsI9KaMbsIpWcIZSiNaZrQ9z3qukbXdWiaBoMQuLG/XK+o2xZ107Ln/6EvxjXr6rL+gfn4hHj8R338w2X7iza9kyohkXyaPfRIgskhbneSery+ZvgY4ZzHui14PHf444m2H1Cp0WBJGyl3ONLqyUJyhJOqiJQt6YRxSPmJnA+ecxg4xbbvyPcMbRhVPNB2pyEvB+aSUvrNTUpZRvxRfbtBzQFhf4H1HvmZSbtjcqH0x+NAyG9o2h6VlAoxLtj3A+u6YePBczlndr+6XTFoi3Q8cCfhsjBvMxfCnbqT0m0vNOxQnUTLshSzyFysdWVr31JFZ+CaBp65nks0s8PIbKWeIPi4pIfmBIOQ+AIAP8/spGDYCQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"UI 모드 이미지\"\n        title=\"\"\n        src=\"/static/9e2d6fe15ff97282cb936c1d149596dd/0b533/img.png\"\n        srcset=\"/static/9e2d6fe15ff97282cb936c1d149596dd/fac75/img.png 125w,\n/static/9e2d6fe15ff97282cb936c1d149596dd/63868/img.png 250w,\n/static/9e2d6fe15ff97282cb936c1d149596dd/0b533/img.png 500w,\n/static/9e2d6fe15ff97282cb936c1d149596dd/1d69c/img.png 750w,\n/static/9e2d6fe15ff97282cb936c1d149596dd/00d43/img.png 1000w,\n/static/9e2d6fe15ff97282cb936c1d149596dd/68947/img.png 1281w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4 id=\"playwright-레포트\" style=\"position:relative;\"><a href=\"#playwright-%EB%A0%88%ED%8F%AC%ED%8A%B8\" aria-label=\"playwright 레포트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>playwright 레포트</h4>\n<p>화면에 특정 요소가 렌더링되면 해당 화면이 사용자에게 시각적으로 표시된다는 의미입니다.\n이 시나리오들은 단순하면서도 하위 시나리오에서 반복되어 사용됩니다.</p>\n<p>playwright에서 제공되는 레포트에서는 중첩된 테스트명을 <code class=\"language-text\">></code> 특수문자를 사용하여 나열하고 있습니다.\n모든 시나리오를 테스트명으로 나열하게 되면 가시성이 낮아지게 됩니다.\n이를 개선하기 위해 반복되는 시나리오를 모두 나열하기보다는 어느 영역인지 표시해 주도록 정의하였습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">AS-IS] 사용자는 메인 화면을 볼 수 있다. > 사용자는 헤더 영역을 볼 수 있다. > 사용자는 트레인 뷰 타입을 변경할 수 있다.\nTO-BE] 메인 화면 > 헤더 영역 > 사용자는 트레인 뷰 타입을 변경할 수 있다.</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/85dd213d32258ed353dc3adea44f9399/91f10/img2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVR42oWRW2/DIAyFeV23dl1IgIRwzU1Vpb7s//+2M9vppmlT1YdPNgaOD0a9nzVeXk/EEQeKh7fTHv9wPJ4RYsQ4jkg5UwyIKSMEqoWAXAo81ZTtR/Q+orMDPrQRmtZCd+4fxnmB77ghoB8iHN2VfExU91A+Flxvn5i3K/K0oSwXxLJQAy8irRnQkQjTUlNeC7/z+5obKWON2E1kP8aEJHmC954c0CFr0TTNU3SrYZ2DckOPdbtgXlaUOok4x2XdiFXm02j9FN22cCxonN1d5R0W4OFHcslD567igi894FvQGAvFz1q3TcTqNMkPZspZtJQqjqdpFrf7WCIqvaBSjfdLrfIa/n1jDNTgx7sTmpfrYWhmxroH2Af79ocvPEbOOcmhrzIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"레포트 이미지\"\n        title=\"\"\n        src=\"/static/85dd213d32258ed353dc3adea44f9399/0b533/img2.png\"\n        srcset=\"/static/85dd213d32258ed353dc3adea44f9399/fac75/img2.png 125w,\n/static/85dd213d32258ed353dc3adea44f9399/63868/img2.png 250w,\n/static/85dd213d32258ed353dc3adea44f9399/0b533/img2.png 500w,\n/static/85dd213d32258ed353dc3adea44f9399/1d69c/img2.png 750w,\n/static/85dd213d32258ed353dc3adea44f9399/91f10/img2.png 992w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h4 id=\"testbeforeeach-testaftereach-훅\" style=\"position:relative;\"><a href=\"#testbeforeeach-testaftereach-%ED%9B%85\" aria-label=\"testbeforeeach testaftereach 훅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>test.beforeEach(), test.afterEach() 훅</h4>\n<p>beforeEach(), afterEach() 훅은 실행 코드가 속한 스코프에 있는 모든 하위의 test에 대해 전/후처리를 실행하는 API입니다.\n이 훅을 잘 활용하면 반복되는 테스트 코드를 재사용할 수 있습니다.</p>\n<h3 id=\"조건부-테스트\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EB%B6%80-%ED%85%8C%EC%8A%A4%ED%8A%B8\" aria-label=\"조건부 테스트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조건부 테스트</h3>\n<p><code class=\"language-text\">test.skip()</code>, <code class=\"language-text\">test.fail()</code>이나 <code class=\"language-text\">return</code>을 활용하면 테스트를 중단할 수 있습니다.\n특정 조건이 성립될 경우 테스트를 skip하거나 fail 처리를 할 수 있습니다.\n중첩된 구조의 테스트를 실행할 때 상위 테스트가 실패할 경우 하위의 모든 테스트들이 실패하게 됩니다.\n그러나 playwright의 기본 설정에 의해 하위의 모든 테스트가 실패하더라도 30초의 timeout 딜레이가 발생하게 됩니다.\n이런 딜레이를 막기 위해 상위 테스트가 특정 조건에 의해 skip/fail 할 경우 하위 테스트가 바로 skip/fail 하도록 설정할 때 사용하기 좋습니다.</p>\n<h4 id=\"testskipcondition-testfailcondition\" style=\"position:relative;\"><a href=\"#testskipcondition-testfailcondition\" aria-label=\"testskipcondition testfailcondition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>test.skip([condition]), test.fail([condition])</h4>\n<p>테스트를 스킵하거나 실패하기 위해 사용되는 API입니다.\n파라미터로 boolean 값의 조건부 변수를 넣어 사용할 수 있습니다.</p>\n<h3 id=\"테스트-그룹화-1\" style=\"position:relative;\"><a href=\"#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94-1\" aria-label=\"테스트 그룹화 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>테스트 그룹화</h3>\n<p><code class=\"language-text\">test.step()</code>을 사용하여 일련의 테스트 하나의 단위로 그룹화하여 테스트 코드의 가독성을 높일 수 있습니다.\n<code class=\"language-text\">test.step()</code>도 중첩된 형태를 가질 수 있으며, playwright 레포트, UI 모드에서 유용합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6f743f6f83870906ad901498412c6c6c/0f7d5/img3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 79.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVR42qVTW5KbMBDkAsYGBBLowdNr8DpVuf/lOj2D7XWlKpvd5KNrpNGo1eqRsmlesJzfcFk3YsXbZcOy7PN1u2JezljXK7brDakfEEJETAnDOKLnvOu85uq6RlEUyGTz++0HiVYI+YWEQjJzPJ/PGIZRx7o+zRinSQ/a3m+slT2z7nPOKWnWjD9Ru0T2I455vuMoOGo83WP+ks/zA/LD4aU25/4TjKmQ+dij7QIqU8PUzT9D9leVQdaGAeOywXY9jKUXbVLFGh9wvyPueF3XGJCVlOlDwDhOsPTB8CTxwhjzhMw/y4myhirbtiNhVZLQs2uTNkAg5CFGpNQjxvTMpb5HPwwKrWenZT2x6957WtftCjsqlEWBkrAgsFAKbCMnt+xiC2udRumoe+ScRWMt1+xOWCnhrtD7oElBzSuUZalv68QOFgqOT3vc8ZGTw56Enteb57M+VFHm+VDFD/FHSP8GIRWFIuipUDySq3ZMdvTD8jrfIWzEmofCEIP+hqjmBoXTjn+dUOpVoSTkuUiny7K4o1R/PuafQ2qbe/My1/GzDzO7FmAaXtMK2BTCfAeNwJHQJ/6UFW3oNVlb/x8QD6vq7lf15Sv+GSV+AQ1RmIvTqMVQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"레포트 상세 이미지\"\n        title=\"\"\n        src=\"/static/6f743f6f83870906ad901498412c6c6c/0b533/img3.png\"\n        srcset=\"/static/6f743f6f83870906ad901498412c6c6c/fac75/img3.png 125w,\n/static/6f743f6f83870906ad901498412c6c6c/63868/img3.png 250w,\n/static/6f743f6f83870906ad901498412c6c6c/0b533/img3.png 500w,\n/static/6f743f6f83870906ad901498412c6c6c/1d69c/img3.png 750w,\n/static/6f743f6f83870906ad901498412c6c6c/0f7d5/img3.png 993w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"locators를-활용한-요소-찾기\" style=\"position:relative;\"><a href=\"#locators%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0\" aria-label=\"locators를 활용한 요소 찾기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Locators를 활용한 요소 찾기</h2>\n<p>Locators는 playwright에서 제공하는 auto-waiting, retry-ability와 관련된 핵심 기능으로,\n언제 어디서나 페이지 내에서 항상 최신 상태의 요소를 찾을 수 있도록 도와주는 강력한 기능입니다.\nLocators에 대한 자세한 내용은 <a href=\"https://playwright.dev/docs/locators\">여기</a>에서 확인할 수 있습니다.</p>\n<h2 id=\"변수-선언\" style=\"position:relative;\"><a href=\"#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8\" aria-label=\"변수 선언 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변수 선언</h2>\n<p>테스트 코드를 작성할 때, Locators의 반환 값을 변수에 할당하고 범위를 좁혀나가는 방식을 사용하였습니다.\n범위를 좁히지 않는다면 특정 요소를 찾기 위해 불필요한 작업을 해야 합니다.\n적당한 요소를 찾아 변수로 선언하고, 이를 재사용함으로써 코드의 가시성, 재사용성, 유지보수성이 향상됩니다.</p>\n<p>Playwright에서 JS의 Execution context, Scope 등의 기본 문법에 대한 이해가 있다면 코드 작성에 도움이 됩니다.\n변수를 선언하고 요소를 찾아 참조 값을 할당하는 방법은 무엇일까요? 요소를 어떻게 효율적으로 찾을 수 있을까요?</p>\n<h2 id=\"효과적인-요소-찾기\" style=\"position:relative;\"><a href=\"#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0\" aria-label=\"효과적인 요소 찾기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>효과적인 요소 찾기</h2>\n<p>Playwright의 Locators를 활용하여 요소를 찾을 수 있습니다.\n공식 문서에서 추천하는 Locators를 사용해 보며 우선순위와 장단점을 소개해 보고자 합니다.</p>\n<h3 id=\"data-testid-속성과-pagegetbytestid-사용하기\" style=\"position:relative;\"><a href=\"#data-testid-%EC%86%8D%EC%84%B1%EA%B3%BC-pagegetbytestid-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"data testid 속성과 pagegetbytestid 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">data-testid</code> 속성과 <code class=\"language-text\">page.getByTestId()</code> 사용하기</h3>\n<p><code class=\"language-text\">page.getByTestId()</code>는 <code class=\"language-text\">data-testid</code>와 같은 테스트 목적의 속성으로 요소를 찾는 방법입니다.\n이 방식은 다음과 같은 장점을 가집니다.</p>\n<ol>\n<li>테스트 용이성 증가\n<ol>\n<li>CSS나 Xpath를 이용하여 요소를 찾는 방법보다 <code class=\"language-text\">data-testid</code>를 사용한다면 DOM이 변경되더라도 테스트가 유연하게 진행될 수 있습니다.</li>\n</ol>\n</li>\n<li>코드 가독성 향상\n<ol>\n<li>요소를 쉽게 찾을 수 있으며, 작성된 코드가 줄어듭니다.</li>\n</ol>\n</li>\n<li>관심사의 분리\n<ol>\n<li><code class=\"language-text\">data-testid</code>는 DOM 구조나 class명이 변경되는 것보다 테스트 목적의 값이 변경될 가능성이 적습니다.</li>\n<li>사용자 동작과 관련 있는 <code class=\"language-text\">data-testid</code>를 만들어 코드 작성에 도움을 줄 수 있습니다.</li>\n</ol>\n</li>\n<li>명확한 의미와 규칙\n<ol>\n<li>공통된 <code class=\"language-text\">data-testid</code>를 통해 용어 통일과 문서 작성 시 도움을 줄 수 있습니다.</li>\n<li>각 요소의 목적과 의도된 동작을 이해하기 쉽습니다.</li>\n</ol>\n</li>\n</ol>\n<p>이 방식은 개발자가 요소에 <code class=\"language-text\">data-testid</code>를 부여해야 하므로 정확한 규칙이 필요합니다.\n또한, E2E 테스트 외에 단위 테스트에서도 테스트 목적의 속성이 사용될 수 있으므로 유의해야 합니다.</p>\n<h3 id=\"권장-locators-사용하기\" style=\"position:relative;\"><a href=\"#%EA%B6%8C%EC%9E%A5-locators-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"권장 locators 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>권장 Locators 사용하기</h3>\n<p>Playwright에서는 다양한 Locators를 권장하고 있습니다. 여러 상황에 맞게 선택할 수 있으며, 특히 웹 접근성이 잘 구성된 경우 유용합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">page.getByRole()\npage.getByText()\npage.getByLabel()\npage.getByPlaceholder()\npage.getByAltText()\npage.getByTitle()\npage.getByTestId()</code></pre></div>\n<p>이 API들은 <code class=\"language-text\">page.getBy-*</code> 형태를 가지고 있으며, 정해진 규칙을 통해 요소를 찾습니다.</p>\n<p>특히, <code class=\"language-text\">page.getByText()</code>나 <code class=\"language-text\">page.getPlaceholder()</code> 등은 다국어 처리 시에 주의가 필요합니다.\nplaywright에 다국어와 타임존 설정에 대한 설명은 <a href=\"https://playwright.dev/docs/emulation#locale--timezone\">여기</a>에서 확인할 수 있습니다.</p>\n<h3 id=\"pagelocatorselector-options-사용하기\" style=\"position:relative;\"><a href=\"#pagelocatorselector-options-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"pagelocatorselector options 사용하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">page.locator(selector[, options])</code> 사용하기</h3>\n<p>일반적으로 <code class=\"language-text\">page.locator()</code>를 사용하여 요소를 찾을 때는 class명, id, tag명 등을 이용합니다.\n그러나 복잡하고 깊은 구조를 가진 웹 페이지에서는 특정 요소를 찾기 어려울 수 있습니다.\n이런 경우에는 CSS나 XPath locators를 사용하여 요소에 접근할 수 있습니다.</p>\n<p>page.locator()에 대한 설명은 <a href=\"https://playwright.dev/docs/api/class-page#page-locator\">여기</a>에서 확인할 수 있습니다.\n다만, DOM이 자주 변경되는 경우에는 테스트가 깨질 확률이 높기 때문에 이러한 방법이 권장되지 않습니다.</p>\n<p>애플리케이션이 웹 접근성이 떨어지는 환경이거나, 급한 일정 속에서 테스트를 수행해야 할 경우에는 최후의 수단(?)으로 사용될 수 있습니다.\n이런 경우에는 먼저 테스트 코드를 작성하고, 이후에 점진적으로 리팩토링을 진행하는 것이 좋습니다.</p>\n<h2 id=\"그리고\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A6%AC%EA%B3%A0\" aria-label=\"그리고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그리고...</h2>\n<p>Part 2에서는 간단한 playwright 설정 방식과 E2E 코드를 작성 시 테스트 그룹화 및 요소를 찾는 방식에 대해 작성하였습니다.\n다음 파트에서는 찾은 요소들을 활용하는 방식에 대해 작성해 보고자 합니다.</p>","fields":{"slug":"/playwright-e2e-part2/"},"frontmatter":{"title":"사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2","date":"January 16, 2024","description":"E2E 테스트를 도입하고 적용한 가이드입니다.","author":{"name":"김도은","avatar":"https://avatars.githubusercontent.com/u/10824092","greeting":"원프레딕트 프론트엔드 엔지니어"}}},"previous":{"fields":{"slug":"/playwright-e2e-part1/"},"frontmatter":{"title":"사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1"}},"next":{"fields":{"slug":"/playwright-e2e-part3/"},"frontmatter":{"title":"사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 3"}}},"pageContext":{"id":"8660080c-9958-5d44-b561-98efcb5742d4","previousPostId":"6891c193-9f61-515f-b029-6c4a354f6205","nextPostId":"69e7cc87-4065-5500-8117-fa35b8974bdc"}},"staticQueryHashes":["2094693779"],"slicesMap":{}}
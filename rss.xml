<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Gatsby Starter Blog RSS Feed]]></title><description><![CDATA[Onepredict]]></description><link>http://onepredict.github.io</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 18 Jan 2024 01:36:43 GMT</lastBuildDate><item><title><![CDATA[사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2]]></title><description><![CDATA[글 목록 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2 Intro. Playwright…]]></description><link>http://onepredict.github.io/playwright-e2e-part2/</link><guid isPermaLink="false">http://onepredict.github.io/playwright-e2e-part2/</guid><pubDate>Tue, 16 Jan 2024 15:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;글 목록&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/playwright-e2e-part1/&quot;&gt;사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#intro&quot;&gt;Intro.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#playwright-%EA%B4%80%EB%A0%A8-%EC%9E%90%EB%A3%8C&quot;&gt;Playwright 관련 자료&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C&quot;&gt;공식문서&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EA%B8%B0%ED%83%80-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot;&gt;기타 레퍼런스&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%8F-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0&quot;&gt;프로젝트 및 파일 구조&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#spects-%ED%8C%8C%EC%9D%BC&quot;&gt;*.spec.ts 파일&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC&quot;&gt;전역 설정 파일&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#playwrightconfigts-%ED%8C%8C%EC%9D%BC&quot;&gt;playwright.config.ts 파일&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%ED%95%B4%EC%A0%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D&quot;&gt;전역 설정/해제 구성 방식&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#e2e-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1&quot;&gt;E2E 코드 작성&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94&quot;&gt;테스트 그룹화&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4%EC%99%80-%EB%A7%A4%EC%B9%AD%EB%90%98%EB%8A%94-e2e-%EC%BD%94%EB%93%9C-%EC%98%88%EC%8B%9C&quot;&gt;사용자 시나리오와 매칭되는 E2E 코드 예시&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#test-testdescribe-%EC%A4%91%EC%B2%A9&quot;&gt;test(), test.describe() 중첩&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#playwright-%EB%A0%88%ED%8F%AC%ED%8A%B8&quot;&gt;playwright 레포트&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#testbeforeeach-testaftereach-%ED%9B%85&quot;&gt;test.beforeEach(), test.afterEach() 훅&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%A1%B0%EA%B1%B4%EB%B6%80-%ED%85%8C%EC%8A%A4%ED%8A%B8&quot;&gt;조건부 테스트&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#testskipcondition-testfailcondition&quot;&gt;test.skip([condition]), test.fail([condition])&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94-1&quot;&gt;테스트 그룹화&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#locators%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0&quot;&gt;Locators를 활용한 요소 찾기&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8&quot;&gt;변수 선언&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0&quot;&gt;효과적인 요소 찾기&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#data-testid-%EC%86%8D%EC%84%B1%EA%B3%BC-pagegetbytestid-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt; 속성과 &lt;code class=&quot;language-text&quot;&gt;page.getByTestId()&lt;/code&gt; 사용하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EA%B6%8C%EC%9E%A5-locators-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;권장 Locators 사용하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#pagelocatorselector-options-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;page.locator(selector[, options])&lt;/code&gt; 사용하기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EA%B7%B8%EB%A6%AC%EA%B3%A0&quot;&gt;그리고...&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro.&lt;/h2&gt;
&lt;p&gt;이번 Part 2에서는 Playwright에 대한 소개와 E2E 테스트 코드 작성 시의 경험과 생각을 공유하고자 합니다.&lt;/p&gt;
&lt;h2 id=&quot;playwright-관련-자료&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#playwright-%EA%B4%80%EB%A0%A8-%EC%9E%90%EB%A3%8C&quot; aria-label=&quot;playwright 관련 자료 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Playwright 관련 자료&lt;/h2&gt;
&lt;p&gt;Playwright를 학습하는 동안 여러 가지 자료들을 참고하였습니다. 그중에서도 유용하게 활용한 자료들은 다음과 같습니다.&lt;/p&gt;
&lt;h3 id=&quot;공식문서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C&quot; aria-label=&quot;공식문서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;공식문서&lt;/h3&gt;
&lt;p&gt;어떤 기술이든 공식 문서가 최우선입니다.
&lt;a href=&quot;https://playwright.dev/&quot;&gt;Playwright 공식 문서&lt;/a&gt;에서 Getting Started 메뉴의 내용을 튜토리얼처럼 따라 하면서,
기본적인 설치 방법, 간단한 테스트 코드 작성, 테스트 실행, HTML 테스트 레포트 등을 실제로 경험할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;기타-레퍼런스&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B8%B0%ED%83%80-%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4&quot; aria-label=&quot;기타 레퍼런스 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;기타 레퍼런스&lt;/h3&gt;
&lt;p&gt;Microsoft 문서 중 &lt;a href=&quot;https://learn.microsoft.com/ko-kr/azure/playwright-testing/overview-what-is-microsoft-playwright-testing&quot;&gt;Microsoft Playwright Testing 설명서&lt;/a&gt;를 참고하여 다양한 레퍼런스를 얻을 수 있었습니다.
또한 &lt;a href=&quot;https://github.com/microsoft/playwright&quot;&gt;Playwright Github&lt;/a&gt;에서는 릴리즈 내용, 버그, 이슈에 대한 정보를 얻을 수 있습니다.
책, 영상, 강의, 블로그 글 등을 통해서도 Playwright를 학습하는 데 도움을 받았습니다.&lt;/p&gt;
&lt;h2 id=&quot;프로젝트-및-파일-구조&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B0%8F-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0&quot; aria-label=&quot;프로젝트 및 파일 구조 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;프로젝트 및 파일 구조&lt;/h2&gt;
&lt;p&gt;Playwright로 구성된 프로젝트의 구조와 파일의 설명은 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;ㄴ .gitlab // gitlab pipeline script가 존재
ㄴ .husky
ㄴ e2e // 테스트 폴더
    ㄴ dataAnalysis.spec.ts
    ㄴ login.spec.ts
    ㄴ trendAnalysis.spec.ts
    ㄴ digitalTwin.spec.ts
    ㄴ global.setup.ts // 전역 설정 파일
    ㄴ global.teardown.ts // 전역 설정해제 파일
    ㄴ //...
ㄴ node_modules
ㄴ .env // 전역 변수
ㄴ .eslintrc.json
ㄴ .gitignore
ㄴ playwright.config.ts // playwright 설정 파일
ㄴ tsconfig.json
ㄴ README.md&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;spects-파일&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#spects-%ED%8C%8C%EC%9D%BC&quot; aria-label=&quot;spects 파일 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;*.spec.ts 파일&lt;/h3&gt;
&lt;p&gt;테스트 코드를 작성하는 파일입니다. 각 테스트 파일은 기본적으로 하나의 메뉴 테스트를 담당하고 있습니다.
메뉴 테스트의 일부가 반복되는 경우 중복되는 테스트 함수를 모듈화하였습니다.&lt;/p&gt;
&lt;h3 id=&quot;전역-설정-파일&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC&quot; aria-label=&quot;전역 설정 파일 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;전역 설정 파일&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;global.setup.ts&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;global.teardown.ts&lt;/code&gt;파일은 전역 설정을 등록하거나 해제하는 데 사용됩니다.
전역 설정과 해제에 대한 자세한 내용은 &lt;a href=&quot;https://playwright.dev/docs/test-global-setup-teardown&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;playwrightconfigts-파일&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#playwrightconfigts-%ED%8C%8C%EC%9D%BC&quot; aria-label=&quot;playwrightconfigts 파일 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;playwright.config.ts 파일&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;playwright.config.ts&lt;/code&gt; 파일은 Playwright 테스트를 위한 설정 파일입니다.
기본적인 설정은 &lt;a href=&quot;https://playwright.dev/docs/test-configuration&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;테스트 파일 디렉토리, 테스트 파일 매치, 테스트 병렬 실행, retry, worker 제한 개수, 전역 설정, 전역 해제 설정 등을 설정할 수 있습니다.&lt;/li&gt;
&lt;li&gt;브라우저 옵션, 전역 timeout 옵션, 에뮬레이션 옵션, 네트워크 옵션, 레코딩(screenshot, trace, video) 옵션, viewport 등을 설정할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;전역-설정해제-구성-방식&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%84%EC%97%AD-%EC%84%A4%EC%A0%95%ED%95%B4%EC%A0%9C-%EA%B5%AC%EC%84%B1-%EB%B0%A9%EC%8B%9D&quot; aria-label=&quot;전역 설정해제 구성 방식 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;전역 설정/해제 구성 방식&lt;/h2&gt;
&lt;p&gt;Playwright 테스트에서 전역 설정과 해제를 구성하는 방식은 크게 두 가지입니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Project Dependencies&lt;/li&gt;
&lt;li&gt;Configure globalSetup, globalTeardown&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;두 방식 각각에는 장단점이 존재하며, 공식 문서에서는 테스트 독립성, 추적, 레포트 등의 이유로 Project Dependencies 방식을 권장하고 있습니다.
하지만 저는 Configure globalSetup, globalTeardown 방식을 사용하였는데, 그 이유로는 다음과 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;전역 설정이나 해제할 내용이 많지 않고, 거의 모든 테스트에 동일한 전역 설정과 해제를 하는 환경이었습니다.&lt;/li&gt;
&lt;li&gt;복잡한 디펜던시 설정이 필요하지 않dms 단순한 프로젝트 환경이었습니다.&lt;/li&gt;
&lt;li&gt;전역 설정/해제 파일을 분리하고 해당 파일만 업데이트하는 편리성이 있었습니다.&lt;/li&gt;
&lt;li&gt;Project Dependencies 환경에서는 코드를 새로 작성하거나 수정하고 테스트를 실행할 때마다 매 번 디펜던시 테스트가 실행되는 오버헤드가 존재합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;e2e-코드-작성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#e2e-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1&quot; aria-label=&quot;e2e 코드 작성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;E2E 코드 작성&lt;/h2&gt;
&lt;p&gt;E2E 테스트 코드를 작성하면서 익힌 노하우와 유용한 팁을 공유하려고 합니다.
기본적으로 메뉴마다 하나의 테스트 파일로 구성하는 규칙을 채택하였습니다.&lt;/p&gt;
&lt;h3 id=&quot;테스트-그룹화&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94&quot; aria-label=&quot;테스트 그룹화 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트 그룹화&lt;/h3&gt;
&lt;p&gt;각 메뉴에는 다양한 사용자 시나리오가 존재합니다.
이러한 사용자 시나리오를 E2E 테스트 코드로 옮겨보면
대부분의 시나리오(또는 코드)에서 반복되는 패턴을 발견할 수 있었습니다.&lt;/p&gt;
&lt;h4 id=&quot;사용자-시나리오와-매칭되는-e2e-코드-예시&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4%EC%99%80-%EB%A7%A4%EC%B9%AD%EB%90%98%EB%8A%94-e2e-%EC%BD%94%EB%93%9C-%EC%98%88%EC%8B%9C&quot; aria-label=&quot;사용자 시나리오와 매칭되는 e2e 코드 예시 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;사용자 시나리오와 매칭되는 E2E 코드 예시&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;사용자는 메인 화면을 볼 수 있다. -&gt; 메인 화면의 특정 요소가 정상적으로 렌더링된다.&lt;/li&gt;
&lt;li&gt;사용자는 (메인 화면의) 헤더 영역을 볼 수 있다. -&gt; 메인 화면의 특정 요소가 정상적으로 렌더링된다. + 메인 화면의 헤더 영역의 특정 요소가 정상적으로 렌더링된다.&lt;/li&gt;
&lt;li&gt;사용자는 (메인 화면의 헤더 영역에서) 트레인 뷰 타입을 변경할 수 있다 -&gt; 메인 화면의 특정 요소가 정상적으로 렌더링된다. + 메인 화면의 헤더 영역의 특정 요소가 정상적으로 렌더링된다. + 메인 화면에서 헤더 영역의 트레인 뷰 타입의 요소가 정상적으로 렌더링되며, 뷰 타입을 클릭 이벤트로 변경할 수 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;test-testdescribe-중첩&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#test-testdescribe-%EC%A4%91%EC%B2%A9&quot; aria-label=&quot;test testdescribe 중첩 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;test(), test.describe() 중첩&lt;/h4&gt;
&lt;p&gt;반복되는 패턴을 관리하기 위해 test(), test.describe() API를 사용하여 중첩된 테스트 구조를 구성하였습니다.
아래 이미지는 중첩된 테스트를 UI 모드에서 본 이미지입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9e2d6fe15ff97282cb936c1d149596dd/68947/img.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABZklEQVR42j2RyW7jMBBE9R22tZIUKXETtdB2EiSHmQHmlv//mkqJQXIoqFsgi6+rq+AD1rTCzhbjqKG1htEG1lrWBkophBAQqW1d4UOE5x2lRgghi85a8jsMAtXsI9KaMbsIpWcIZSiNaZrQ9z3qukbXdWiaBoMQuLG/XK+o2xZ107Ln/6EvxjXr6rL+gfn4hHj8R338w2X7iza9kyohkXyaPfRIgskhbneSery+ZvgY4ZzHui14PHf444m2H1Cp0WBJGyl3ONLqyUJyhJOqiJQt6YRxSPmJnA+ecxg4xbbvyPcMbRhVPNB2pyEvB+aSUvrNTUpZRvxRfbtBzQFhf4H1HvmZSbtjcqH0x+NAyG9o2h6VlAoxLtj3A+u6YePBczlndr+6XTFoi3Q8cCfhsjBvMxfCnbqT0m0vNOxQnUTLshSzyFysdWVr31JFZ+CaBp65nks0s8PIbKWeIPi4pIfmBIOQ+AIAP8/spGDYCQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;UI 모드 이미지&quot;
        title=&quot;&quot;
        src=&quot;/static/9e2d6fe15ff97282cb936c1d149596dd/0b533/img.png&quot;
        srcset=&quot;/static/9e2d6fe15ff97282cb936c1d149596dd/fac75/img.png 125w,
/static/9e2d6fe15ff97282cb936c1d149596dd/63868/img.png 250w,
/static/9e2d6fe15ff97282cb936c1d149596dd/0b533/img.png 500w,
/static/9e2d6fe15ff97282cb936c1d149596dd/1d69c/img.png 750w,
/static/9e2d6fe15ff97282cb936c1d149596dd/00d43/img.png 1000w,
/static/9e2d6fe15ff97282cb936c1d149596dd/68947/img.png 1281w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;playwright-레포트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#playwright-%EB%A0%88%ED%8F%AC%ED%8A%B8&quot; aria-label=&quot;playwright 레포트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;playwright 레포트&lt;/h4&gt;
&lt;p&gt;화면에 특정 요소가 렌더링되면 해당 화면이 사용자에게 시각적으로 표시된다는 의미입니다.
이 시나리오들은 단순하면서도 하위 시나리오에서 반복되어 사용됩니다.&lt;/p&gt;
&lt;p&gt;playwright에서 제공되는 레포트에서는 중첩된 테스트명을 &lt;code class=&quot;language-text&quot;&gt;&gt;&lt;/code&gt; 특수문자를 사용하여 나열하고 있습니다.
모든 시나리오를 테스트명으로 나열하게 되면 가시성이 낮아지게 됩니다.
이를 개선하기 위해 반복되는 시나리오를 모두 나열하기보다는 어느 영역인지 표시해 주도록 정의하였습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;AS-IS] 사용자는 메인 화면을 볼 수 있다. &gt; 사용자는 헤더 영역을 볼 수 있다. &gt; 사용자는 트레인 뷰 타입을 변경할 수 있다.
TO-BE] 메인 화면 &gt; 헤더 영역 &gt; 사용자는 트레인 뷰 타입을 변경할 수 있다.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/85dd213d32258ed353dc3adea44f9399/91f10/img2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABH0lEQVR42oWRW2/DIAyFeV23dl1IgIRwzU1Vpb7s//+2M9vppmlT1YdPNgaOD0a9nzVeXk/EEQeKh7fTHv9wPJ4RYsQ4jkg5UwyIKSMEqoWAXAo81ZTtR/Q+orMDPrQRmtZCd+4fxnmB77ghoB8iHN2VfExU91A+Flxvn5i3K/K0oSwXxLJQAy8irRnQkQjTUlNeC7/z+5obKWON2E1kP8aEJHmC954c0CFr0TTNU3SrYZ2DckOPdbtgXlaUOok4x2XdiFXm02j9FN22cCxonN1d5R0W4OFHcslD567igi894FvQGAvFz1q3TcTqNMkPZspZtJQqjqdpFrf7WCIqvaBSjfdLrfIa/n1jDNTgx7sTmpfrYWhmxroH2Af79ocvPEbOOcmhrzIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;레포트 이미지&quot;
        title=&quot;&quot;
        src=&quot;/static/85dd213d32258ed353dc3adea44f9399/0b533/img2.png&quot;
        srcset=&quot;/static/85dd213d32258ed353dc3adea44f9399/fac75/img2.png 125w,
/static/85dd213d32258ed353dc3adea44f9399/63868/img2.png 250w,
/static/85dd213d32258ed353dc3adea44f9399/0b533/img2.png 500w,
/static/85dd213d32258ed353dc3adea44f9399/1d69c/img2.png 750w,
/static/85dd213d32258ed353dc3adea44f9399/91f10/img2.png 992w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;testbeforeeach-testaftereach-훅&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#testbeforeeach-testaftereach-%ED%9B%85&quot; aria-label=&quot;testbeforeeach testaftereach 훅 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;test.beforeEach(), test.afterEach() 훅&lt;/h4&gt;
&lt;p&gt;beforeEach(), afterEach() 훅은 실행 코드가 속한 스코프에 있는 모든 하위의 test에 대해 전/후처리를 실행하는 API입니다.
이 훅을 잘 활용하면 반복되는 테스트 코드를 재사용할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;조건부-테스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A1%B0%EA%B1%B4%EB%B6%80-%ED%85%8C%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;조건부 테스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;조건부 테스트&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;test.skip()&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;test.fail()&lt;/code&gt;이나 &lt;code class=&quot;language-text&quot;&gt;return&lt;/code&gt;을 활용하면 테스트를 중단할 수 있습니다.
특정 조건이 성립될 경우 테스트를 skip하거나 fail 처리를 할 수 있습니다.
중첩된 구조의 테스트를 실행할 때 상위 테스트가 실패할 경우 하위의 모든 테스트들이 실패하게 됩니다.
그러나 playwright의 기본 설정에 의해 하위의 모든 테스트가 실패하더라도 30초의 timeout 딜레이가 발생하게 됩니다.
이런 딜레이를 막기 위해 상위 테스트가 특정 조건에 의해 skip/fail 할 경우 하위 테스트가 바로 skip/fail 하도록 설정할 때 사용하기 좋습니다.&lt;/p&gt;
&lt;h4 id=&quot;testskipcondition-testfailcondition&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#testskipcondition-testfailcondition&quot; aria-label=&quot;testskipcondition testfailcondition permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;test.skip([condition]), test.fail([condition])&lt;/h4&gt;
&lt;p&gt;테스트를 스킵하거나 실패하기 위해 사용되는 API입니다.
파라미터로 boolean 값의 조건부 변수를 넣어 사용할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;테스트-그룹화-1&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8-%EA%B7%B8%EB%A3%B9%ED%99%94-1&quot; aria-label=&quot;테스트 그룹화 1 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트 그룹화&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;test.step()&lt;/code&gt;을 사용하여 일련의 테스트 하나의 단위로 그룹화하여 테스트 코드의 가독성을 높일 수 있습니다.
&lt;code class=&quot;language-text&quot;&gt;test.step()&lt;/code&gt;도 중첩된 형태를 가질 수 있으며, playwright 레포트, UI 모드에서 유용합니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6f743f6f83870906ad901498412c6c6c/0f7d5/img3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 79.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzklEQVR42qVTW5KbMBDkAsYGBBLowdNr8DpVuf/lOj2D7XWlKpvd5KNrpNGo1eqRsmlesJzfcFk3YsXbZcOy7PN1u2JezljXK7brDakfEEJETAnDOKLnvOu85uq6RlEUyGTz++0HiVYI+YWEQjJzPJ/PGIZRx7o+zRinSQ/a3m+slT2z7nPOKWnWjD9Ru0T2I455vuMoOGo83WP+ks/zA/LD4aU25/4TjKmQ+dij7QIqU8PUzT9D9leVQdaGAeOywXY9jKUXbVLFGh9wvyPueF3XGJCVlOlDwDhOsPTB8CTxwhjzhMw/y4myhirbtiNhVZLQs2uTNkAg5CFGpNQjxvTMpb5HPwwKrWenZT2x6957WtftCjsqlEWBkrAgsFAKbCMnt+xiC2udRumoe+ScRWMt1+xOWCnhrtD7oElBzSuUZalv68QOFgqOT3vc8ZGTw56Enteb57M+VFHm+VDFD/FHSP8GIRWFIuipUDySq3ZMdvTD8jrfIWzEmofCEIP+hqjmBoXTjn+dUOpVoSTkuUiny7K4o1R/PuafQ2qbe/My1/GzDzO7FmAaXtMK2BTCfAeNwJHQJ/6UFW3oNVlb/x8QD6vq7lf15Sv+GSV+AQ1RmIvTqMVQAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;레포트 상세 이미지&quot;
        title=&quot;&quot;
        src=&quot;/static/6f743f6f83870906ad901498412c6c6c/0b533/img3.png&quot;
        srcset=&quot;/static/6f743f6f83870906ad901498412c6c6c/fac75/img3.png 125w,
/static/6f743f6f83870906ad901498412c6c6c/63868/img3.png 250w,
/static/6f743f6f83870906ad901498412c6c6c/0b533/img3.png 500w,
/static/6f743f6f83870906ad901498412c6c6c/1d69c/img3.png 750w,
/static/6f743f6f83870906ad901498412c6c6c/0f7d5/img3.png 993w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;locators를-활용한-요소-찾기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#locators%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0&quot; aria-label=&quot;locators를 활용한 요소 찾기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Locators를 활용한 요소 찾기&lt;/h2&gt;
&lt;p&gt;Locators는 playwright에서 제공하는 auto-waiting, retry-ability와 관련된 핵심 기능으로,
언제 어디서나 페이지 내에서 항상 최신 상태의 요소를 찾을 수 있도록 도와주는 강력한 기능입니다.
Locators에 대한 자세한 내용은 &lt;a href=&quot;https://playwright.dev/docs/locators&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;변수-선언&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%80%EC%88%98-%EC%84%A0%EC%96%B8&quot; aria-label=&quot;변수 선언 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;변수 선언&lt;/h2&gt;
&lt;p&gt;테스트 코드를 작성할 때, Locators의 반환 값을 변수에 할당하고 범위를 좁혀나가는 방식을 사용하였습니다.
범위를 좁히지 않는다면 특정 요소를 찾기 위해 불필요한 작업을 해야 합니다.
적당한 요소를 찾아 변수로 선언하고, 이를 재사용함으로써 코드의 가시성, 재사용성, 유지보수성이 향상됩니다.&lt;/p&gt;
&lt;p&gt;Playwright에서 JS의 Execution context, Scope 등의 기본 문법에 대한 이해가 있다면 코드 작성에 도움이 됩니다.
변수를 선언하고 요소를 찾아 참조 값을 할당하는 방법은 무엇일까요? 요소를 어떻게 효율적으로 찾을 수 있을까요?&lt;/p&gt;
&lt;h2 id=&quot;효과적인-요소-찾기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9A%A8%EA%B3%BC%EC%A0%81%EC%9D%B8-%EC%9A%94%EC%86%8C-%EC%B0%BE%EA%B8%B0&quot; aria-label=&quot;효과적인 요소 찾기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;효과적인 요소 찾기&lt;/h2&gt;
&lt;p&gt;Playwright의 Locators를 활용하여 요소를 찾을 수 있습니다.
공식 문서에서 추천하는 Locators를 사용해 보며 우선순위와 장단점을 소개해 보고자 합니다.&lt;/p&gt;
&lt;h3 id=&quot;data-testid-속성과-pagegetbytestid-사용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#data-testid-%EC%86%8D%EC%84%B1%EA%B3%BC-pagegetbytestid-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;data testid 속성과 pagegetbytestid 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt; 속성과 &lt;code class=&quot;language-text&quot;&gt;page.getByTestId()&lt;/code&gt; 사용하기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;page.getByTestId()&lt;/code&gt;는 &lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;와 같은 테스트 목적의 속성으로 요소를 찾는 방법입니다.
이 방식은 다음과 같은 장점을 가집니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;테스트 용이성 증가
&lt;ol&gt;
&lt;li&gt;CSS나 Xpath를 이용하여 요소를 찾는 방법보다 &lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;를 사용한다면 DOM이 변경되더라도 테스트가 유연하게 진행될 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;코드 가독성 향상
&lt;ol&gt;
&lt;li&gt;요소를 쉽게 찾을 수 있으며, 작성된 코드가 줄어듭니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;관심사의 분리
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;는 DOM 구조나 class명이 변경되는 것보다 테스트 목적의 값이 변경될 가능성이 적습니다.&lt;/li&gt;
&lt;li&gt;사용자 동작과 관련 있는 &lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;를 만들어 코드 작성에 도움을 줄 수 있습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;명확한 의미와 규칙
&lt;ol&gt;
&lt;li&gt;공통된 &lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;를 통해 용어 통일과 문서 작성 시 도움을 줄 수 있습니다.&lt;/li&gt;
&lt;li&gt;각 요소의 목적과 의도된 동작을 이해하기 쉽습니다.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이 방식은 개발자가 요소에 &lt;code class=&quot;language-text&quot;&gt;data-testid&lt;/code&gt;를 부여해야 하므로 정확한 규칙이 필요합니다.
또한, E2E 테스트 외에 단위 테스트에서도 테스트 목적의 속성이 사용될 수 있으므로 유의해야 합니다.&lt;/p&gt;
&lt;h3 id=&quot;권장-locators-사용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B6%8C%EC%9E%A5-locators-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;권장 locators 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;권장 Locators 사용하기&lt;/h3&gt;
&lt;p&gt;Playwright에서는 다양한 Locators를 권장하고 있습니다. 여러 상황에 맞게 선택할 수 있으며, 특히 웹 접근성이 잘 구성된 경우 유용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;page.getByRole()
page.getByText()
page.getByLabel()
page.getByPlaceholder()
page.getByAltText()
page.getByTitle()
page.getByTestId()&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 API들은 &lt;code class=&quot;language-text&quot;&gt;page.getBy-*&lt;/code&gt; 형태를 가지고 있으며, 정해진 규칙을 통해 요소를 찾습니다.&lt;/p&gt;
&lt;p&gt;특히, &lt;code class=&quot;language-text&quot;&gt;page.getByText()&lt;/code&gt;나 &lt;code class=&quot;language-text&quot;&gt;page.getPlaceholder()&lt;/code&gt; 등은 다국어 처리 시에 주의가 필요합니다.
playwright에 다국어와 타임존 설정에 대한 설명은 &lt;a href=&quot;https://playwright.dev/docs/emulation#locale--timezone&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;pagelocatorselector-options-사용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#pagelocatorselector-options-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;pagelocatorselector options 사용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;page.locator(selector[, options])&lt;/code&gt; 사용하기&lt;/h3&gt;
&lt;p&gt;일반적으로 &lt;code class=&quot;language-text&quot;&gt;page.locator()&lt;/code&gt;를 사용하여 요소를 찾을 때는 class명, id, tag명 등을 이용합니다.
그러나 복잡하고 깊은 구조를 가진 웹 페이지에서는 특정 요소를 찾기 어려울 수 있습니다.
이런 경우에는 CSS나 XPath locators를 사용하여 요소에 접근할 수 있습니다.&lt;/p&gt;
&lt;p&gt;page.locator()에 대한 설명은 &lt;a href=&quot;https://playwright.dev/docs/api/class-page#page-locator&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.
다만, DOM이 자주 변경되는 경우에는 테스트가 깨질 확률이 높기 때문에 이러한 방법이 권장되지 않습니다.&lt;/p&gt;
&lt;p&gt;애플리케이션이 웹 접근성이 떨어지는 환경이거나, 급한 일정 속에서 테스트를 수행해야 할 경우에는 최후의 수단(?)으로 사용될 수 있습니다.
이런 경우에는 먼저 테스트 코드를 작성하고, 이후에 점진적으로 리팩토링을 진행하는 것이 좋습니다.&lt;/p&gt;
&lt;h2 id=&quot;그리고&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%A6%AC%EA%B3%A0&quot; aria-label=&quot;그리고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그리고...&lt;/h2&gt;
&lt;p&gt;Part 2에서는 간단한 playwright 설정 방식과 E2E 코드를 작성 시 테스트 그룹화 및 요소를 찾는 방식에 대해 작성하였습니다.
다음 파트에서는 찾은 요소들을 활용하는 방식에 대해 작성해 보고자 합니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1]]></title><description><![CDATA[글 목록 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1 사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2 Intro. E2E 테스트 ATDD…]]></description><link>http://onepredict.github.io/playwright-e2e-part1/</link><guid isPermaLink="false">http://onepredict.github.io/playwright-e2e-part1/</guid><pubDate>Wed, 06 Dec 2023 09:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;글 목록&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 1&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/playwright-e2e-part2/&quot;&gt;사용자 동작을 중심으로 Playwright로 E2E 테스트 작성하기 - Part 2&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#intro&quot;&gt;Intro.&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8&quot;&gt;E2E 테스트&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#atdd-%EC%9D%B8%EC%88%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C&quot;&gt;ATDD (인수 테스트 주도 개발)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#playwright&quot;&gt;Playwright&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%9E%91%EC%84%B1&quot;&gt;시나리오 작성&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#e2e-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%96%91%EC%8B%9D-%EC%98%88%EC%8B%9C&quot;&gt;E2E 시나리오 양식 예시&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-api%EB%8A%94-%EC%A0%9C%EC%99%B8&quot;&gt;E2E 테스트에서 API는 제외&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C&quot;&gt;그래서...&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro.&lt;/h2&gt;
&lt;p&gt;Playwright를 이용하여 E2E 테스트를 진행한 과정을 기록한 글입니다.&lt;/p&gt;
&lt;h2 id=&quot;e2e-테스트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8&quot; aria-label=&quot;e2e 테스트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;E2E 테스트&lt;/h2&gt;
&lt;p&gt;어플리케이션의 안정성, 신뢰도 등을 위해 QA 단계에서 테스트가 진행되어야 합니다.
수동 테스트는 테스터들의 많은 시간과 노력이 들어가며, 휴먼 에러가 발생할 수 있습니다.&lt;/p&gt;
&lt;p&gt;기능이 추가/수정하여 버그가 발생되는 경우
코드를 작성하는 개발자는 어느 정도(?) 사이드 이펙트를 예측할 수 있지만,
어플리케이션을 사용하는 테스터는 발생 원인을 예측할 수 없으므로 처음부터 끝까지 반복하여 테스트를 진행해야 합니다.&lt;/p&gt;
&lt;p&gt;어플리케이션의 복잡성이 증가할수록 어느 순간부터 테스트없이 개발하게 된다면 시간이 더 소모됩니다.
특히 복잡한 시나리오에서는 E2E 테스트를 통해 취약점을 파악할 수 있으며 개발 프로세스의 향상으로
효율적인 개발을 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;프론트엔드에서 E2E 테스트는 사용자 중심으로 어플리케이션의 유저 시나리오를 검증하는 방법입니다.
단위 테스트에 비해 무겁고 느리지만, 반드시 수행되어야 합니다. 또한 단순히 어플리케이션의 결함을 찾고 예방하는데 그치지 않고,
사용자가 필요로 하는 기능을 이해하고 결과를 예측 가능할 수 있게 도움을 줍니다.&lt;/p&gt;
&lt;p&gt;예를 들어 사용자가 로그인을 정상적으로 한다는 시나리오에는&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;사용자가 로그인 페이지에서 접속하고&lt;/li&gt;
&lt;li&gt;인풋 박스에 올바른 아이디/비밀번호를 입력하고&lt;/li&gt;
&lt;li&gt;로그인 버튼을 클릭할 때 정상적으로 로그인이 되는&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;동작이 예상되어야 합니다.&lt;/p&gt;
&lt;h2 id=&quot;atdd-인수-테스트-주도-개발&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#atdd-%EC%9D%B8%EC%88%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C&quot; aria-label=&quot;atdd 인수 테스트 주도 개발 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ATDD (인수 테스트 주도 개발)&lt;/h2&gt;
&lt;p&gt;우리 조직은 개발 프로세스를 이해하는 당사자 간의 &lt;code class=&quot;language-text&quot;&gt;협업&lt;/code&gt;을 강화하고 &lt;code class=&quot;language-text&quot;&gt;요구사항을 명확하게 정의&lt;/code&gt;하기 위해서
ATDD 테스팅 방식을 선택하게 되었습니다.
ATDD는 인수 조건을 시나리오 형태로 작성하여 검증하므로, &lt;code class=&quot;language-text&quot;&gt;기대 결과&lt;/code&gt;가 명확하게 나타납니다.
사용자 시나리오를 통해 전 구간 테스트를 작성함으로써 사용자 의도를 명확하게 전달할 수 있습니다.
사용자 시나리오에 대한 깊은 이해를 기반으로 개발한다면
사용자, 엔지니어, 개발자, 기획자, 테스터들이 하나의 목표를 향해 협력하여 결과물을 도출할 수 있습니다.
또한, 사용자의 의도의 기대를 충족시킬 수 있다고 생각합니다.&lt;/p&gt;
&lt;h2 id=&quot;playwright&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#playwright&quot; aria-label=&quot;playwright permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Playwright&lt;/h2&gt;
&lt;p&gt;Mircosoft의 오픈 소스 라이브러리인 Playwright는 최근 테스트 자동화에서 큰 주목을 받고있습니다.
Playwright를 선택한 10가지 이유는 다음과 같습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;무료로 병렬 실행이 가능하며, 다른 테스팅 도구보다 빠른 속도를 자랑합니다.
&lt;ul&gt;
&lt;li&gt;외부 솔루션이나 서드파티 도구를 사용하지 않아도 되어 비용 절감이 가능합니다.&lt;/li&gt;
&lt;li&gt;속도 비교는 &lt;a href=&quot;https://rag0g.medium.com/cypress-vs-selenium-vs-playwright-vs-puppeteer-speed-comparison-73fd057c2ae9&quot;&gt;여기&lt;/a&gt;에서 확인할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;UI 모드와 디버깅 실행 보고서 기능을 지원하여 테스터의 편의성을 높입니다.&lt;/li&gt;
&lt;li&gt;테스트 중 브라우저 페이지 내 JavaScript의 실행 컨텍스트 스코프의 제약을 넘나들 수 있습니다.
&lt;ul&gt;
&lt;li&gt;Multi Tab, Multi User, Multi Origin/Domain, Iframe의 테스트를 구현할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Chromium, Microsoft Edge, Safari 등 다양한 브라우저를 지원합니다.&lt;/li&gt;
&lt;li&gt;Microsoft에서 Github로 관리하며, 오픈소스로 기여할 수 있는 환경을 제공합니다.
&lt;ul&gt;
&lt;li&gt;VSCode의 Extension을 지원합니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;기본적인 장치별 이벤트 외에도 &lt;code class=&quot;language-text&quot;&gt;hover&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;drag&lt;/code&gt; 이벤트를 공식적으로 활용하여 테스트가 용이합니다.
&lt;ul&gt;
&lt;li&gt;툴팁, 슬라이더 등 다양한 동작을 테스트할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Auth 정보를 Json으로 저장하여 로그인된 상태를 테스트 중에 재사용할 수 있습니다.
&lt;ul&gt;
&lt;li&gt;의존성을 통해 로그인된 상태를 기준으로 테스트할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;API 테스트를 지원하며, 컴포넌트 테스트(실험 단계)도 가능합니다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Locators&lt;/code&gt; 라는 강력한 기능을 활용하여 언제든지 요소를 쉽게 찾을 수 있습니다.
&lt;ul&gt;
&lt;li&gt;Auto Waiting, Retry Ability 기능의 핵심입니다.&lt;/li&gt;
&lt;li&gt;Role, Text, Label, Placeholder, Alt, Title, TestId, CSS, XPath 등을 통해 요소를 탐색할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;JavaScript 코드를 작성하듯이 테스트 코드를 작성할 수 있어, 다른 테스팅 도구보다 비교적 낮은 러닝커브를 가집니다.
&lt;ul&gt;
&lt;li&gt;Async/Await를 활용하여 비동기를 제어할 수 있습니다.&lt;/li&gt;
&lt;li&gt;체이닝없이 코드를 작성할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;개인적으로 생각하는 Playwright의 아쉬운점과 한계점은 다음과 같습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;공식문서가 너무나 친절하긴 하지만 분량이 매우 방대하고 레거시 레퍼런스가 많아 초보자에게 다소 어려울 수 있습니다.&lt;/li&gt;
&lt;li&gt;관련 커뮤니티가 한정적이며 최근 자료의 양이 작습니다.&lt;/li&gt;
&lt;li&gt;HTML Canvas(ex. 차트)에 대해 제약이 있어 특정 상황에서는 다루기 어려울 수 있습니다.&lt;/li&gt;
&lt;li&gt;다른 테스팅 도구에 비해 API 테스팅 기능이 상대적으로 부족합니다.&lt;/li&gt;
&lt;li&gt;IE 11 이전 버전의 브라우저는 지원하지 않습니다.&lt;/li&gt;
&lt;li&gt;테스트를 위해 실제 장치가 아닌 에뮬레이터를 사용하는 점이 제한적일 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;위의 이유로 Playwright를 선정하였습니다. 그렇다면 유저 시나리오는 어떻게 작성해야할 지 고민해봤습니다.&lt;/p&gt;
&lt;h2 id=&quot;시나리오-작성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%9E%91%EC%84%B1&quot; aria-label=&quot;시나리오 작성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시나리오 작성&lt;/h2&gt;
&lt;p&gt;시나리오는 기본적으로 &lt;code class=&quot;language-text&quot;&gt;Given&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;When&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Then&lt;/code&gt; 방식으로 구문을 작성합니다.&lt;/p&gt;
&lt;p&gt;예제를 통해 시나리오에 대해 설명하도록 하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;1. 유저는 데이터 조회 메뉴의 Overview에서 다른 트레인을 선택할 수 있다.

- Given (사전 조건)
유저가 데이터 조회 메뉴의 Overview 영역에 정상적으로 진입합니다.

- When (검증 대상)
셀렉트 박스의 N 번째 위치한 트레인을 선택합니다.

- Then (기대 결과)
N번째 트레인이 선택됩니다.

2. 유저는 대시보드 메뉴에서 베어링 정보 카드를 볼 수 있다.

- Given (사전 조건)
유저가 대시보드 메뉴에 정상적으로 진입합니다.

- When (검증 대상)
유저는 베어링 이미지 위에 마우스를 호버합니다.

- Then (기대 결과)
베어링 정보 카드가 툴팁 형태로 나타납니다.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에 작성한 시나리오는 어플리케이션을 사용자가 생각하는 기본적인 시나리오입니다.&lt;/p&gt;
&lt;p&gt;하지만 실제 테스트 코드로 작성된 시나리오는 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;1. 유저는 데이터 조회 메뉴의 Overview에서 다른 트레인을 선택할 수 있다.

- Given (사전 조건)
유저가 성공적으로 로그인하였습니다.
유저가 데이터 조회 메뉴에 정상적으로 진입합니다(메뉴 요소가 정상적으로 렌더링됩니다).
유저가 데이터 조회 메뉴의 Overview 영역에 정상적으로 진입합니다(Overview 영역 요소가 정상적으로 렌더링됩니다).

- When (검증 대상)
(셀렉트 박스를 클릭합니다.)
셀렉트 박스의 N 번째 위치한 트레인을 선택합니다.

- Then (기대 결과)
N번째 트레인이 선택됩니다.
선택된 N번째 트레인의 데이터 조회 메뉴 URL로 이동합니다.

2. 유저는 대시보드 메뉴에서 모든 베어링 정보 카드를 볼 수 있다.

- Given (사전 조건)
유저가 성공적으로 로그인하였습니다.
유저가 대시보드 메뉴에 정상적으로 진입합니다.
유저가 대시보드 메뉴의 베어링 이미지가 1개 이상 있는지 확인합니다.

- When (검증 대상)
유저는 반복하면서 모든 베어링 이미지 위에 마우스를 호버합니다.

- Then (기대 결과)
모든 베어링에 연관된 베어링 정보 카드가 툴팁 형태로 나타납니다.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;특정 페이지에 진입하고 특정 요소의 렌더링, 사용자 이벤트 실행은 E2E 테스트 코드에서는 필수적인 부분입니다.
실제로 테스트 코드를 작성하면 예상보다 더 많은 Given (사전 조건)과 When (검증 대상)을 고려해야 합니다.&lt;/p&gt;
&lt;p&gt;모든 테스트 항목을 E2E 테스트로 완벽하게 커버하는 것은 어렵습니다.
그러나 요구사항에서부터 사용자 시나리오가 유도되고, 개발된 내용을 통해서 E2E 테스트 항목이 정의됩니다.
이는 기획, 개발, 테스트가 동일한 결과물에 대해 공유하고 협업할 수 있게 해줍니다.&lt;/p&gt;
&lt;h3 id=&quot;e2e-시나리오-양식-예시&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#e2e-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4-%EC%96%91%EC%8B%9D-%EC%98%88%EC%8B%9C&quot; aria-label=&quot;e2e 시나리오 양식 예시 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;E2E 시나리오 양식 예시&lt;/h3&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/502e0562d38311c31cd085575d9e528b/ae953/img.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 48.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVR42m1SV5KFMAzj/pd8syy9l1ACJF5LEN7PZsYTcJElO1Ga1/KbllLWnWT6jf9PnEucFBKrH3eSVdL2o4yToRVle8fVmnagbxhnWjTNi+zWij1OOdTscchxnnJdThDr+okFrd6D3rs9aNtu7/gwijEr6+GPEPDey3/HOSfnebEJCtDk9nvGLMEtc8KJzLLRiQQAg+W+2xcI8SAHoDhkqTlmWcl+MgtrYdG67nd3597kZd14o0loACXOuZc5fJj1J84kK5p3NBFQ3SOZ35oc2HrvVOZFtsd1craBCb6xrJ+klEQXiaXOypSAs1Jft52gTTeyM24wx8Cn+dliWIqyg80GkhcyCwslIGYB6TijFhZVy2eCJthk+kgCwDAaNtk2K7U+GcSDAeMLqMVBTjiQBVZ4p003MA+ysCjkQ2aubzIrasm1KVgScFHk7QH8zs9zfgAB46rpuSwwC28RY6nbXqr6NrD8A5XxBrQjNOToAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;시나리오 양식 예시&quot;
        title=&quot;시나리오 양식 예시&quot;
        src=&quot;/static/502e0562d38311c31cd085575d9e528b/0b533/img.png&quot;
        srcset=&quot;/static/502e0562d38311c31cd085575d9e528b/fac75/img.png 125w,
/static/502e0562d38311c31cd085575d9e528b/63868/img.png 250w,
/static/502e0562d38311c31cd085575d9e528b/0b533/img.png 500w,
/static/502e0562d38311c31cd085575d9e528b/1d69c/img.png 750w,
/static/502e0562d38311c31cd085575d9e528b/00d43/img.png 1000w,
/static/502e0562d38311c31cd085575d9e528b/ae953/img.png 1132w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;시나리오 양식 예시&lt;/figcaption&gt;
  &lt;/figure&gt;
위 이미지는 E2E 테스트를 위한 양식의 예시입니다.&lt;/p&gt;
&lt;p&gt;해당 표의 핵심은 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;html&quot;&gt;&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;코드화, Depth, 시나리오 그룹&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;코드화는 요구사항 명세서나 테스트 케이스 문서와의 호환성을 고려하여 추가하였으며,
시나리오 그룹은 테스트 코드의 단위를 효과적으로 묶기 위해 정의되었습니다.&lt;/p&gt;
&lt;h2 id=&quot;e2e-테스트에서-api는-제외&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#e2e-%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90%EC%84%9C-api%EB%8A%94-%EC%A0%9C%EC%99%B8&quot; aria-label=&quot;e2e 테스트에서 api는 제외 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;E2E 테스트에서 API는 제외&lt;/h2&gt;
&lt;p&gt;서버 상태와의 완벽한 일관성을 유지할 수 없어 API Mocking 방식이나 API 테스트를 제외하였습니다.
또한, API가 변경되는 경우 E2E 테스트도 수정되어야하는 관리적인 리소스를 고려하였습니다.&lt;/p&gt;
&lt;p&gt;우리가 구축하는 E2E 테스트의 방향성은 모든 범위를 완벽하게 커버하는 것보다는 주로
&lt;code class=&quot;language-text&quot;&gt;사용자 동작/시나리오&lt;/code&gt;에 중점을 둔 테스트 방식을 채택하게 되었습니다.&lt;/p&gt;
&lt;h2 id=&quot;그래서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C&quot; aria-label=&quot;그래서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서...&lt;/h2&gt;
&lt;p&gt;Part 1에서는 간단하게 E2E 테스트와 Playwight에 대한 간략한 내용을 다뤘습니다.
Playwright에 관심이 있거나 활용하려는 분들에게 도움이 되었으면 합니다.&lt;/p&gt;
&lt;p&gt;다음 시리즈에서는 실제 작성한 코드에 대해 설명할 예정입니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[커스텀 대시보드를 위한 Scene]]></title><description><![CDATA[Intro. Scene 이란? Element 란? Scene 만들어 보기 Text Element 만들기 마무리. Intro. Onepredict Frontend…]]></description><link>http://onepredict.github.io/about-scene/</link><guid isPermaLink="false">http://onepredict.github.io/about-scene/</guid><pubDate>Wed, 29 Nov 2023 09:38:00 GMT</pubDate><content:encoded>&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#intro&quot;&gt;Intro.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#scene-%EC%9D%B4%EB%9E%80&quot;&gt;Scene 이란?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#element-%EB%9E%80&quot;&gt;Element 란?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#scene-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EA%B8%B0&quot;&gt;Scene 만들어 보기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#text-element-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot;&gt;Text Element 만들기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot;&gt;마무리.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro.&lt;/h2&gt;
&lt;p&gt;Onepredict Frontend 팀은 설비의 상태를 예측하고 진단할 수 있는 예지보전 솔루션을 위한 대시보드 개발을 하고 있습니다.&lt;/p&gt;
&lt;p&gt;B2B 사업의 특성상 고객사의 요청 사항에 대응하기 위한 커스터마이징 필요한데, 동일한 API를 사용하더라도 어느 고객사는 테이블로 보여주고 어느 고객사는 그래프로 보여주는 식으로 말이죠.&lt;/p&gt;
&lt;p&gt;모든 요청 사항을 개발하다 보면 대시보드가 비대해지거나 git에서 고객사별 branch가 파편화되어 생성될 수도 있습니다. 이렇게 쌓이다 보면 결국 비대해진 프로젝트는 복잡하고 유지보수하기 어려운 코드가 만들어지고, 개발의 퍼포먼스가 줄어들게 됩니다.&lt;/p&gt;
&lt;p&gt;저희는 이러한 문제들에 대해서 고민하였고 고객사들의 커스터마이징에 유연하게 대처할 수 있고 현장에서도 가능하다면 빠르게 대응할 방안을 고민한 끝에 Scene이라는 메타포를 만들었습니다.&lt;/p&gt;
&lt;h2 id=&quot;scene-이란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#scene-%EC%9D%B4%EB%9E%80&quot; aria-label=&quot;scene 이란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Scene 이란?&lt;/h2&gt;
&lt;p&gt;Scene은 canvas처럼 빈 Box Layer로 우리가 그리고 싶은 Element를 배치하여 대시보드 화면을 만들어 낼 수 있습니다. 이 모든 Scene은 Backend로부터 전달받아 렌더링이 이루어지기 때문에 프론트엔드의 배포 없이도 대시보드 화면을 수정하고 변경하는 게 가능해집니다.&lt;/p&gt;
&lt;h2 id=&quot;element-란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#element-%EB%9E%80&quot; aria-label=&quot;element 란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Element 란?&lt;/h2&gt;
&lt;p&gt;Scene 내부에서 렌더링할 때 필요한 Component를 Element라 부릅니다. Element는 몇 가지의 규칙으로 만들어집니다. Element는 독자적으로 렌더링할 수 있어야 하고 내부적으로 API에 대한 참조는 일어나지 않습니다. 모든 데이터는 Prop을 통해 전달받습니다.&lt;/p&gt;
&lt;h2 id=&quot;scene-만들어-보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#scene-%EB%A7%8C%EB%93%A4%EC%96%B4-%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;scene 만들어 보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Scene 만들어 보기&lt;/h2&gt;
&lt;p&gt;이제 간단한 Text Element를 만들어 보면서 Scene이 어떻게 구성되어 있고 Element를 어떻게 만드는지 알아보도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;Scene은 JSON으로 구성됩니다. 그리고 각 Scene은 단일 JSON 파일들로 하나의 Box Layer를 렌더링할 수 있는 메타 데이터들을 가지고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;sceneId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;layout&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;width&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;height&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;elements&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;...&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 JSON 은 1이라는 ID를 가지는 Scene의 예로 sceneId는 Scene 의 고유한 ID를 나타내며 프론트엔드에서 Scene을 구분하기 위한 Unique ID로 사용됩니다. layout은 Scene의 전체적인 layout을 설정 할 수 있으며 elements는 Scene에 렌더링 될 Element의 리스트 입니다.&lt;/p&gt;
&lt;p&gt;각각의 Element는 고유한 type을 가지며 type을 통해 렌더링할 Element를 선택할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;sceneId&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;layout&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;width&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;height&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;elements&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Text&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;layout&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;20px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;left&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;20px&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Hello, Scene&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 JSON에서는 Text라는 type의 Element를 렌더링할 수 있습니다. Scene의 Box Layer 안에서 top: 20px left: 20px 로 Text Element의 위치를 설정하고 해당 위치에 Hello, Scene이라는 Text를 렌더링합니다.&lt;/p&gt;
&lt;p&gt;끝입니다!&lt;/p&gt;
&lt;p&gt;그럼, Element는 어떻게 되어 있을까요?&lt;/p&gt;
&lt;h2 id=&quot;text-element-만들기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#text-element-%EB%A7%8C%EB%93%A4%EA%B8%B0&quot; aria-label=&quot;text element 만들기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Text Element 만들기&lt;/h2&gt;
&lt;p&gt;Element는 Scene에서 렌더링 되는 Component입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Text.tsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TextProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  text&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; ElementProps&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Text&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TextProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; layout &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;layout&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;text&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;span&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Text&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Element는 위와 같이 만들 수 있습니다. 그리고 Element를 Scene에서 읽을 수 있도록 elementMap에 등록합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// elementMap.ts&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Text &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Text&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; elementMap &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Text&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Scene에서 Text 엘리먼트를 읽을 수 있는 준비가 되었습니다. 이제 Scene에서 Element를 읽고 렌더링하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Scene.tsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; elementMap &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./elementMap&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SceneProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Scene JSON&lt;/span&gt;
  scene&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SceneType&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; ElementProps&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Scene&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SceneProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; scene &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sceneId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elements&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; layout &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; scene &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;layout&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;elements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;elementProp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;sceneId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elementMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;elementProp&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Scene&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위에서 Scene은 어떤 Element를 렌더링해야 할지 알지 못합니다. 그저 전달받은 elements를 렌더링 하는 역할만 할 뿐입니다. 이로써 간단한 Text를 렌더링하는 Scene을 만들었습니다.&lt;/p&gt;
&lt;p&gt;그렇다면 Element로 데이터 연결은 어떻게 하는 걸까요?&lt;/p&gt;
&lt;p&gt;여기에 대해서 저희는 Channel이라는 메타포를 생각했습니다. 모든 데이터는 Channel Id를 가지고 Channel의 Signal을 통해 데이터를 조회할 수 있습니다. Channel에 대한 더 자세한 설명의 이 글의 범위를 벗어나는 것 같아 여기까지 하고 Element에서 Channel을 연결하여 데이터를 보여주는 방법에 대해서 알아보도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;간단한 예로 Channel을 연결한 Element를 만들어 보겠습니다.&lt;/p&gt;
&lt;p&gt;아래는 데이터를 보여주기 위해서 RPM&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;이라는 Element 가 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// RPM.tsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;RPMProps&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// RPM Channel&lt;/span&gt;
  rpm&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ChannelType&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt; ElementProps&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;RPM&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; RPMProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; rpm&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; rpmChannel&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; signals &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rpm &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; signals&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rpmChannel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;channelId&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;rpm&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;RPM&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 RPM의 prop은 ChannelType의 rpm 값을 prop으로 전달받습니다. 이 ChannelType은 channelId property를 가지고 있습니다. 여기서 channelId를 가지고 signals prop에서 우리가 필요한 Channel의 Signal을 찾아 렌더링합니다. 그렇다면 이 signals는 어디서 오는 걸까요?&lt;/p&gt;
&lt;p&gt;그건 위의 Scene에서 signals 데이터를 그대로 하위로 전달 해주고 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Scene.tsx&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; elementMap &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./elementMap&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Scene&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; SceneProps&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; scene&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; signals &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; sceneId&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; elements&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; layout &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; scene &lt;span class=&quot;token operator&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div style&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;layout&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;elements&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; type&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;elementProp &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; i&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; key &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;sceneId&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;element&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;i&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; Component &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; elementMap&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;type&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Component key&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;key&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;elementProp&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; signals&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;signals&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Scene&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 Scene 구현체에서 달라진 건 props에서 signals를 받아 이 signals를 하위 Element로 전달하고 있습니다. 즉, Scene을 구현하는 Parent Component로부터 모든 Scene 정보와 Signal 정보를 받아 렌더링할 모든 Element로 전달합니다. 이렇게 되면 Element에서는 어떤 Channel Id에서 데이터를 가져와야 하는지만 알 뿐 거기서 어떤 데이터가 나오는지는 알지 못합니다. 그저 전달받은 Channel Id로 렌더링할 뿐입니다.&lt;/p&gt;
&lt;h2 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리.&lt;/h2&gt;
&lt;p&gt;간단하게 이번 저희 Frontend 팀에서 진행했던 프로젝트에 적용한 Scene에 대해서 알아봤습니다.  Scene을 작업하며 느꼈던 장점은 Element 간의 의존성이 낮으므로 Element의 변경이 쉽다는 장점이 있었습니다. 하지만 Scene 은 대시보드 전체 영역에서 하나의 영역을 그리기 위한 용도이고 전체적인 레이아웃을 책임지지는 않습니다. 이 문제에 대한 해답을 또 고민하고 해결해야 할 수도 있습니다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;revolutions per minute의 약자입니다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[SQL VS ORM]]></title><description><![CDATA[Intro ORM vs SQL OLTP와 OLAP 수정 API DB 구조 정리 성능 저하 원인 비고 마치며 Intro…]]></description><link>http://onepredict.github.io/sql-orm/</link><guid isPermaLink="false">http://onepredict.github.io/sql-orm/</guid><pubDate>Wed, 22 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#intro&quot;&gt;Intro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#orm-vs-sql&quot;&gt;ORM vs SQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#oltp%EC%99%80-olap&quot;&gt;OLTP와 OLAP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%88%98%EC%A0%95-api&quot;&gt;수정 API&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#db-%EA%B5%AC%EC%A1%B0&quot;&gt;DB 구조&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot;&gt;정리&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%84%B1%EB%8A%A5-%EC%A0%80%ED%95%98-%EC%9B%90%EC%9D%B8&quot;&gt;성능 저하 원인&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%B9%84%EA%B3%A0&quot;&gt;비고&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%A7%88%EC%B9%98%EB%A9%B0&quot;&gt;마치며&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;대규모 반도체 공장에서 여러 설비 데이터를 가공하고 운영하다 보면, 데이터베이스에 쌓인 여러 데이터를 활용해서 원하는 형태로 데이터를 가져올 수 있어야 하는 역량이 중요합니다.
뿐만 아니라 부하가 큰 트랜잭션 쿼리를 날리다 보니 DA&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt; 를 통해서 쿼리를 튜닝하는 일도 빈번한데요, API 성능개선을 하면서 Raw SQL과 ORM으로 DB에서 원하는 정보의 데이터를 가져오는 성능을 비교해 보려 합니다.&lt;/p&gt;
&lt;h2 id=&quot;orm-vs-sql&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#orm-vs-sql&quot; aria-label=&quot;orm vs sql permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ORM vs SQL&lt;/h2&gt;
&lt;p&gt;언제부터인가 ORM이 트렌드가 되고, 누구나 다 SQL보다는 ORM으로 DB 트랜잭션을 처리하기를 원하지만, 개인적으로 어떤 장점이 있기에 ORM을 사용하고 싶은가? 라는 질문에는 여러 개발자, 친구, 선배에게 물어봐도 그럴듯한 답변을 듣지 못하고 혼자서 많이 고민해 왔습니다.&lt;/p&gt;
&lt;p&gt;그나마 &quot;DB 의 종류에 구애받지 않기에&quot;, &quot;개발 생산성을 높일 수 있어서&quot;라는 답변을 들었지만, 개인적으로 저를 설득할 만한 대답이 되지 않았습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;개발 생산성을 높일 수 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;규모가 작은 초기 시스템에서는 ERD을 작성할 필요가 없기에 개발 생산성을 높일 수 있다는 점에 공감하지만, 규모가 커진 상태에서는 개발 생산성 효과가 오히려 떨어지는 것이 아닌가 하는 의문이 있습니다.
수십 ~ 수백 개의 테이블로 구성된 DB 구조를 ERD가 아닌 수천 줄짜리 코드를 보고 테이블 관계를 이해할 수 있나?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;가독성을 높일 수 있다&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;프로그래밍 언어로 만든 함수는 &apos;논리&apos;가 생명이지만, DB를 다루는 SQL은 &apos;데이터 정합성&apos;이 생명입니다.
똑같은 SQL도 개발 DB, 운영 DB 그리고 시간에 따라 데이터가 다르게 조회됩니다. 아래 본문처럼, ORM은 SQL 블록 단위로 코드를 작성한 구조가 얼핏 보면 가독성이 좋아 보일 수 있으나, 블록 단위 데이터를 까볼 수는 없습니다.
반대로 Raw SQL은 거대한 SQL 구조에서 내부 블록 단위로 쿼리를 실행해 데이터를 확인해 볼 수 있고, 어떻게 수정해야 할 지 바로 확인이 가능합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;성능에 대한 저하&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;기본적으로 ORM 으로 데이터를 처리하는 게 SQL을 활용하는 것보다, 성능이 월등히 떨어집니다. (ORM 내부적으로 SQL로 변환하는 과정을 거치며, 조인이 많아질수록 성능을 기하급수적으로 감소합니다.)
또한 튜닝이 필요한 시점에서는 결국 다시 SQL로 작성해야 하는 단점이 있습니다.&lt;/p&gt;
&lt;p&gt;하지만 최근 지하철을 타며 회사를 출근하다가 문득 이 논쟁에 대한 정답을 찾았습니다. 그것은 바로 OLTP 와 OLAP 서비스에 따라 다르다는 것!&lt;/p&gt;
&lt;h2 id=&quot;oltp와-olap&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#oltp%EC%99%80-olap&quot; aria-label=&quot;oltp와 olap permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OLTP와 OLAP&lt;/h2&gt;
&lt;p&gt;이 용어는 주로 Database에 대해서 공부해본 사람이라면 한 번쯤은 들어 봤을 것으로 보입니다.&lt;/p&gt;
&lt;p&gt;OLTP (Online Transaction Processing)은 현재의 데이터 처리가 얼마나 정확하고, 무결한지가 중요합니다. 그렇기 때문에 주로 데이터의 저장, 삭제, 수정 등의 실질적인 데이터를 수정하는 작업을 의미하고, 단순 CRUD가 많은 서비스에서 주로 사용됩니다. 예시로 도메인 주도 설계에서, 여러 도메인을 정의하고 해당 도메인간의 연관관계 이벤트가 많이 발생하는 서비스라면 OLTP 에 가깝다고 표현할 수 있을 것 같습니다.&lt;/p&gt;
&lt;p&gt;OLAP ( Online Analytical Processing)는 이미 지정된 데이터를 바탕으로 어떤 정보를 제공하는지가 중요합니다. 따라서 OLAP는 데이터가 무결하고 정확하다는 전제를 바탕으로 고객 또는 사용자가 원하는 정보를 어떤식으로 표현하고 제공하는지를 의미합니다. 예시로 설비의 여러 생산성 지표나 모니터링 같은 데이터를 추출하거나, 회사의 년간 각 부서별 임금 상승률 같은 분석용 데이터를 주로 보여주는 서비스라면 OLAP에 가깝다고 표현할 수 있습니다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;구분&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;OLTP&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;OLAP&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;속도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;수 초 이내&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;수 초 이상 수 분 이내&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;관리단위&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;테이블&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;분석된 정보&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;최적화 방법&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;트랜잭션 효율화, 무결성의 극대화&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;조회속도, 정보의 가치, 편의성&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;데이터 특성&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;트랜잭션 중심&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;정보 중심&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;예시&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;회원정보 수정&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1년 간의 주문 이기 트렌드&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;상품 주문&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;한달간의 방문율 수익, 제품&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;댓글 남기기 및 수정&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;10년간 A 회사의 직원별 매출 상승률&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;정리를 하자면 단순한 데이터의 조회 및 저장이 주로 발생하는, 가볍지만 트래픽이 많은 서비스의 경우에는 ORM이 트랜드가 되고, 데이터를 가공하고 분석하는, 무겁지만 트래픽 건수가 상대적으로 적은 서비스에서는
SQL이 많이 쓰이는 것으로 보입니다.&lt;/p&gt;
&lt;h2 id=&quot;수정-api&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%88%98%EC%A0%95-api&quot; aria-label=&quot;수정 api permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;수정 API&lt;/h2&gt;
&lt;blockquote&gt; companies/{company_id}/enterprise-dga-grade-status&lt;/blockquote&gt;
변압기의 DGA 가스를 측정해서, AI 알고리즘을 돌린 후, 최신 진단한 상태값과 바로 직전 진단한 DGA 의 상태값을 보내 설비 별 상태값의 추이를 보여주도록 하는 API 입니다.
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/675b89e49698ef9396013915fa786354/264eb/dga_dashboard.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 52.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSUlEQVR42oWTTUhUURTHZ10Lg6AWSUQQ7YIWEUmU2QdSoKlEYWUSZQgtJIJokYgVbUywD+hzRiNEUbIkVASZwQrMTVJEiyGwNkVTzPuYefPuve/cf+fd53y06sCfc+7l3d89H+/GgmQKlBgEDT0DDQ6VFa4fPUawuAhjWqNslfG/Fgu6e6D31ELX1kHvDbUvUt0B6B07Qffug/jDQj4Pz/OQy7kIiECkQUqxJwRBwPdFl8Toxk3oQ/XQLcegjzZDN7VEPtT+g6CncQN0shay2SzLAQkXWuXNfggicwGtAHuv80HOprERuqEB+vAR6GaGtbdDnzrJ7UhEBzmb0DK/PkAsx4Glceh0OmoAw0oZBn13QE2toNMXQG0dHJ8AtZ4DdXSBOi8jGB4zwLBttmdjeKGfy7bh/M6gMDULksp0VBczFPNxiOcXIUYusa7ATz2EmOZ4qgv+xHnIzxMRkM31LQzPz8HLKfyxHbyYcaGEyd/01ADl5BnI21WQ/VUQA9Xw33VCTm+AfLUGYjwG+fGqAVIQlbz0RWJkWmB0RuBTOtoLYaWS5UQ75K3VkH3rGLgFfpKBL9dDjq+FGF0FuXQtAioBnyetyYNte8jaOZ6uj3zeNwOpALZBDmyEGtwN+aSGS+6AfL0JanYX+62cYY8BKlGA6zhwHBc5N/Q8dcuGZVmQUpSBYuw45N3NkIkaiAfbUZg7CzFZDZms5z5uY2DvyiRV6VDoiyquSz+2yqShlt9G+v4eyvoKlVmA+vkG6kcKgfvtv6+j8qX8BU5d/A5pbKxkAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;서브스테이션 2.0 대시보드&quot;
        title=&quot;서브스테이션 2.0 대시보드&quot;
        src=&quot;/static/675b89e49698ef9396013915fa786354/0b533/dga_dashboard.png&quot;
        srcset=&quot;/static/675b89e49698ef9396013915fa786354/fac75/dga_dashboard.png 125w,
/static/675b89e49698ef9396013915fa786354/63868/dga_dashboard.png 250w,
/static/675b89e49698ef9396013915fa786354/0b533/dga_dashboard.png 500w,
/static/675b89e49698ef9396013915fa786354/1d69c/dga_dashboard.png 750w,
/static/675b89e49698ef9396013915fa786354/264eb/dga_dashboard.png 867w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;서브스테이션 2.0 대시보드&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;db-구조&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#db-%EA%B5%AC%EC%A1%B0&quot; aria-label=&quot;db 구조 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DB 구조&lt;/h2&gt;
&lt;p&gt;해당 시스템에서는 PostgresSQL DB를 사용했으며, 설비를 지칭하는 Asset 테이블과 DGA(유증류 가스)를 측정한 DataMtrBody 그리고 설비와, DGA 정보를 이용해 AI 알고리즘 결과를 저장한 AiMtrBodyDga 테이블을 이용하여 데이터를 가져옵니다. 구체적인 테이블 칼럼 설명은 보안상 생략합니다.&lt;/p&gt;
&lt;center&gt;  &lt;h3&gt;Before (ORM)&lt;/h3&gt; &lt;/center&gt;
&lt;center&gt; 해당 방식은 SqlAlchemy의 ORM을 활용해서 데이터를 가져오는 형태의 데이터 입니다.&lt;/center&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# time 측정 &lt;/span&gt;
        start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;factorial&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# asset 별 모든 측정일과 이전 측정일 추출&lt;/span&gt;
        asset_info &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;asset_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_name&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;asset_name&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;acquisition_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lead&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;over&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    partition_by&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_name&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    order_by&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;desc&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;prev_acquisition_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;select_from&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;company_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_type &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MTR&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serial_no&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;in_&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;available_licenses&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;order_by&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;desc&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subquery&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# dataMtrBodyDga 테이블 기준 asset 별 최신 측정일과 바로 이전 측정일 추출&lt;/span&gt;
        asset_acquisition_info &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;acquisition_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                            func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prev_acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                            func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prev_acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                            func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prev_acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;prev_acquisition_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;select_from&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;group_by&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subquery&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# asset 측정일 기준별 진단 결과 건수 추출&lt;/span&gt;
        diag_info &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;asset_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;acquisition_date&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                AiMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;ai_diagnosis_result&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;select_from&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# LEFT OUTER JOIN 의 기준 테이블을 설정하기 위해 사용&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;outerjoin&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Asset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;outerjoin&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                AiMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                DataMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; AiMtrBodyDga&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data_mtr_body_dga_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;company_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_type &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;MTR&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                Asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serial_no&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;in_&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;available_licenses&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;subquery&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# asset 별 최신 측정일 기준 상태 건수&lt;/span&gt;
        query1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;total_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NORMAL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;normal_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CAUTION&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;caution_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;WARNING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;warning_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CRITICAL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;critical_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FAULT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fault_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;select_from&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# LEFT OUTER JOIN 의 기준 테이블을 설정하기 위해 사용&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                diag_info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                and_&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date
                    &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# asset 별 이전 측정일 기준 상태 건수&lt;/span&gt;
        query2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;total_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;NORMAL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;normal_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CAUTION&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;caution_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;WARNING&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;warning_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;CRITICAL&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;critical_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                func&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ai_diagnosis_result &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;FAULT&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;label&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;fault_cnt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;select_from&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;token comment&quot;&gt;# LEFT OUTER JOIN 의 기준 테이블을 설정하기 위해 사용&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;join&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                diag_info&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                and_&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
                    asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                    asset_acquisition_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;prev_acquisition_date
                    &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; diag_info&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;c&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;acquisition_date&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;first&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        end &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;end &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token format-spec&quot;&gt;.5f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; sec&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;center&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;1회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;2회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;3회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;1차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.62579초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.28475초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.25671초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;5.42588초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;5.30851초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;4.69481초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;3차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;4.86993초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;4.90473초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;4.73450초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/center&gt;
&lt;center&gt;  &lt;h3&gt;After (SQL)&lt;/h3&gt; &lt;/center&gt;
&lt;center&gt; 해당 방식은 SqlAlchemy 의 Core를 활용해서 Raw SQL 형태로 데이터를 가져오는 데이터 입니다.
기존 &apos;IN&apos; 절로 처리한 부분을 &apos;ANY&apos;로 사용한 이유는, PostgreSQL에서 varchar 타입의 칼럼의 경우, SqlALchemy는 Record 타입으로 인지하고 값을 비교하여 에러가 납니다.
해당 에러에 대해서 아래와 같이 변환하여 사용합니다.
&lt;/center&gt;
&lt;p&gt;&lt;em&gt;ANY (select unnest(:available_licenses))&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# time 측정 &lt;/span&gt;
        start &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;factorial&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        sql_statement &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; text&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token triple-quoted-string string&quot;&gt;&quot;&quot;&quot;
                     WITH asset_info AS (  
                        SELECT a.asset_id, a.asset_name  
                            ,MAX(a.acquisition_date) AS acquisition_date  
                            ,CASE WHEN MAX(a.prev_acquisition_date) IS NULL THEN MAX(a.acquisition_date)  
                                   WHEN MAX(a.prev_acquisition_date) IS NOT NULL THEN MAX(a.prev_acquisition_date)  
                                   END AS prev_acquisition_date  
                        FROM ( 
                               SELECT a.id AS asset_id  
                                      ,a.asset_name AS asset_name  
                                      ,dmbd.acquisition_date  
                                      ,LEAD(dmbd.acquisition_date,1) 
                                          OVER (PARTITION BY a.id, a.asset_name ORDER BY dmbd.acquisition_date DESC ) 
                                          AS prev_acquisition_date  
                              FROM substation.asset a INNER JOIN substation.data_mtr_body_dga dmbd  
                              ON a.id = dmbd.asset_id  
                              WHERE a.asset_type = &apos;MTR&apos; 
                              AND a.company_id = :company_id  
                              AND a.serial_no = ANY (SELECT UNNEST(:available_licenses))
                              ORDER BY a.id, a.asset_name, dmbd.acquisition_date DESC  
                           ) a  
                       GROUP BY a.asset_id, a.asset_name   
                     ), diag_info AS (  
                           SELECT dmbd.asset_id, dmbd.acquisition_date , ambd.ai_diagnosis_result 
                           FROM substation.data_mtr_body_dga dmbd LEFT OUTER JOIN substation.asset a 
                           ON dmbd.asset_id = a.id LEFT OUTER JOIN substation.ai_mtr_body_dga ambd  
                           ON dmbd.id = ambd.data_mtr_body_dga_id 
                           WHERE a.company_id = :company_id  
                           AND a.serial_no = ANY (SELECT UNNEST(:available_licenses))
                           AND a.asset_type = &apos;MTR&apos; 
                           ) 
                     SELECT COUNT(*) AS TOTAL_CNT  
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 0 THEN &apos;NORMAL&apos; END ) AS NORMAL 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 1 THEN &apos;CAUTION&apos; END ) AS CAUTION 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 2 THEN &apos;WARNING&apos; END ) AS WARNING 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 3 THEN &apos;CRITICAL&apos; END ) AS CRITICAL 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 4 THEN &apos;FAULT&apos; END ) AS FAULT 
                     FROM asset_info a LEFT OUTER JOIN diag_info b 
                     ON a.asset_id = b.asset_id 
                     WHERE a.acquisition_date = b.acquisition_date 
                     UNION ALL  
                     SELECT COUNT(*) AS TOTAL_CNT  
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 0 THEN &apos;NORMAL&apos; END ) AS NORMAL 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 1 THEN &apos;CAUTION&apos; END ) AS CAUTION 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 2 THEN &apos;WARNING&apos; END ) AS WARNING 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 3 THEN &apos;CRITICAL&apos; END ) AS CRITICAL 
                           ,COUNT(CASE WHEN b.ai_diagnosis_result = 4 THEN &apos;FAULT&apos; END ) AS FAULT 
                     FROM asset_info a LEFT OUTER JOIN diag_info b 
                     ON a.asset_id = b.asset_id  
                     WHERE a.prev_acquisition_date = b.acquisition_date  
                &quot;&quot;&quot;&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; session&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;execute&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sql_statement&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;available_licenses&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; available_licenses&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;company_id&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; company_id
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        end &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;end &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token format-spec&quot;&gt;.5f&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; sec&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;center&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;1회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;2회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;3회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;1차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.37999초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.64817초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.29508초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.76666초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.64863초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.58068초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;3차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.61587초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.56709초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.59817초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/center&gt;
&lt;h2 id=&quot;정리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h2&gt;
&lt;p&gt;SQL의 처리 과정이나 로직에 대해서는 따로 설명하지는 않지만, DB 캐시에 의한 성능 효과를 고려해서 1 try 기준의 평균값으로 시간을 측정했을 때 Before (ORM) &lt;em&gt;6.38908&lt;/em&gt;,  After(SQL) &lt;em&gt;4.44108&lt;/em&gt; 아래와 같이 구해집니다.&lt;/p&gt;
&lt;h4 style=&quot;color:#003163&quot;&gt;(4.44108 / 6.38908 ) x 100 = 69.51 %&lt;/h4&gt;
&lt;span style=&quot;color:#003163&quot;&gt;&lt;b&gt;소요 시간을 기존 대비 30.48%가량 줄일 수 있었습니다.&lt;/b&gt;&lt;/span&gt; &lt;br&gt;&lt;br&gt;
&lt;p&gt;다만 흥미로운 부분으로 DB 캐시 효과를 고려한 3try 기준의 평균값으로 측정하면 아래와 같이 구해집니다. Before (ORM) 4.83638, After (SQL)  1.59371&lt;/p&gt;
&lt;h4 style=&quot;color:#003163&quot;&gt;(1.59371 / 4.83638 ) x 100 = 32.95 %&lt;/h4&gt;
&lt;span style=&quot;color:#003163&quot;&gt;&lt;b&gt;소요 시간을 기존 대비 67%가량 줄일 수 있었습니다.&lt;/b&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;
&lt;p&gt;이 수치는 개발 환경에서 진행된 테스트로, 테이블에 적재된 데이터 용량과 DB 부하 상태에 따라서 수치에 영향을 받을 수 있으며, 그럴 경우 성능은 더 차이가 날 것으로 보입니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DB 조인이 더 많아지는 경우에도 마찬가지입니다.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;성능-저하-원인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%B1%EB%8A%A5-%EC%A0%80%ED%95%98-%EC%9B%90%EC%9D%B8&quot; aria-label=&quot;성능 저하 원인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;성능 저하 원인&lt;/h2&gt;
&lt;p&gt;그렇다면 &lt;em&gt;&apos;ORM 이 변경한 쿼리 구조가 성능이 나쁜 건지&apos; 혹은 &apos;ORM 이 SQL로 변경하는 과정에서 오랜 걸린 건지?&lt;/em&gt; 에 대한 궁금중이 생길 수 있을 것 같은데요. ORM 이 변경한 쿼리로 직접 실행했을 때의 결과는 아래와 같았습니다.&lt;/p&gt;
&lt;center&gt;  &lt;h3&gt;ORM 으로 변환된 SQL&lt;/h3&gt; &lt;/center&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    math&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;factorial&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;100000&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; DatabaseFactory&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    try:
        company_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;query&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Company&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;company_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;filter&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Company&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;company_name
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        available_licenses &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; LicenseUtils&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;license_check_all&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;company_name&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;company_name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        query_1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&quot;
                     SELECT count(anon_1.ai_diagnosis_result) AS total_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 0) THEN &apos;NORMAL&apos; END) AS normal_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 1) THEN &apos;CAUTION&apos; END) AS caution_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 2) THEN &apos;WARNING&apos; END) AS warning_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 3) THEN &apos;CRITICAL&apos; END) AS critical_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 4) THEN &apos;FAULT&apos; END) AS fault_cnt 
            FROM (
                    SELECT anon_3.asset_id AS asset_id
                            , anon_3.asset_name AS asset_name
                            , MAX(anon_3.acquisition_date) AS acquisition_date
                            , CASE WHEN (MAX(anon_3.prev_acquisition_date) IS NULL) THEN MAX(anon_3.acquisition_date) 
                                    WHEN (MAX(anon_3.prev_acquisition_date) IS NOT NULL) THEN MAX(anon_3.prev_acquisition_date) 
                            END AS prev_acquisition_date 
            FROM (
                    SELECT substation.asset.id AS asset_id
                        , substation.asset.asset_name AS asset_name
                        , substation.data_mtr_body_dga.acquisition_date AS acquisition_date
                        , LEAD(substation.data_mtr_body_dga.acquisition_date, 1) 
                            OVER (PARTITION BY substation.asset.id, substation.asset.asset_name 
                                    ORDER BY substation.data_mtr_body_dga.acquisition_date DESC
                            ) AS prev_acquisition_date 
                    FROM substation.asset JOIN substation.data_mtr_body_dga 
                    ON substation.data_mtr_body_dga.asset_id = substation.asset.id 
                    WHERE substation.asset.company_id = :company_id  
                    AND substation.asset.asset_type = &apos;MTR&apos;
                    AND substation.asset.serial_no = ANY (SELECT UNNEST(:available_licenses))
                    ORDER BY substation.asset.id, substation.asset.asset_name, substation.data_mtr_body_dga.acquisition_date DESC
                    ) AS anon_3 
            GROUP BY anon_3.asset_id, anon_3.asset_name) AS anon_2 JOIN 
                (
                    SELECT substation.data_mtr_body_dga.asset_id AS asset_id
                        , substation.data_mtr_body_dga.acquisition_date AS acquisition_date
                        , substation.ai_mtr_body_dga.ai_diagnosis_result AS ai_diagnosis_result 
                    FROM substation.data_mtr_body_dga LEFT OUTER JOIN substation.asset 
                    ON substation.data_mtr_body_dga.asset_id = substation.asset.id 
                    LEFT OUTER JOIN substation.ai_mtr_body_dga 
                    ON substation.data_mtr_body_dga.id = substation.ai_mtr_body_dga.data_mtr_body_dga_id 
                    WHERE substation.asset.company_id = :company_id  
                    AND substation.asset.asset_type = &apos;MTR&apos;
                    AND substation.asset.serial_no = ANY (SELECT UNNEST(:available_licenses))
                ) AS anon_1 
            ON anon_2.asset_id = anon_1.asset_id 
            AND anon_1.acquisition_date = anon_2.acquisition_date 
            LIMIT 1
                &quot;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        sql_result1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            query_1&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            {
                &lt;span class=&quot;token string&quot;&gt;&quot;available_licenses&quot;&lt;/span&gt;: available_licenses&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;company_id&quot;&lt;/span&gt;: company_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            }&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        query_2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&quot;
                     SELECT count(anon_1.ai_diagnosis_result) AS total_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 0) THEN &apos;NORMAL&apos; END) AS normal_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 1) THEN &apos;CAUTION&apos; END) AS caution_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 2) THEN &apos;WARNING&apos; END) AS warning_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 3) THEN &apos;CRITICAL&apos; END) AS critical_cnt
                    , count(CASE WHEN (anon_1.ai_diagnosis_result = 4) THEN &apos;FAULT&apos; END) AS fault_cnt 
            FROM (
                    SELECT anon_3.asset_id AS asset_id
                            , anon_3.asset_name AS asset_name
                            , MAX(anon_3.acquisition_date) AS acquisition_date
                            , CASE WHEN (MAX(anon_3.prev_acquisition_date) IS NULL) THEN MAX(anon_3.acquisition_date) 
                                    WHEN (MAX(anon_3.prev_acquisition_date) IS NOT NULL) THEN MAX(anon_3.prev_acquisition_date) 
                            END AS prev_acquisition_date 
            FROM (
                    SELECT substation.asset.id AS asset_id
                        , substation.asset.asset_name AS asset_name
                        , substation.data_mtr_body_dga.acquisition_date AS acquisition_date
                        , LEAD(substation.data_mtr_body_dga.acquisition_date, 1) 
                            OVER (PARTITION BY substation.asset.id, substation.asset.asset_name 
                                    ORDER BY substation.data_mtr_body_dga.acquisition_date DESC
                            ) AS prev_acquisition_date 
                    FROM substation.asset JOIN substation.data_mtr_body_dga 
                    ON substation.data_mtr_body_dga.asset_id = substation.asset.id 
                    WHERE substation.asset.company_id = :company_id  
                    AND substation.asset.asset_type = &apos;MTR&apos;
                    AND substation.asset.serial_no = ANY (SELECT UNNEST(:available_licenses))
                    ORDER BY substation.asset.id, substation.asset.asset_name, substation.data_mtr_body_dga.acquisition_date DESC
                    ) AS anon_3 
            GROUP BY anon_3.asset_id, anon_3.asset_name) AS anon_2 JOIN 
                (
                    SELECT substation.data_mtr_body_dga.asset_id AS asset_id
                        , substation.data_mtr_body_dga.acquisition_date AS acquisition_date
                        , substation.ai_mtr_body_dga.ai_diagnosis_result AS ai_diagnosis_result 
                    FROM substation.data_mtr_body_dga LEFT OUTER JOIN substation.asset 
                    ON substation.data_mtr_body_dga.asset_id = substation.asset.id 
                    LEFT OUTER JOIN substation.ai_mtr_body_dga 
                    ON substation.data_mtr_body_dga.id = substation.ai_mtr_body_dga.data_mtr_body_dga_id 
                    WHERE substation.asset.company_id = :company_id  
                    AND substation.asset.asset_type = &apos;MTR&apos;
                    AND substation.asset.serial_no = ANY (SELECT UNNEST(:available_licenses))
                ) AS anon_1 
            ON anon_2.asset_id = anon_1.asset_id 
            AND anon_1.acquisition_date = anon_2.prev_acquisition_date 
            LIMIT 1
                &quot;&quot;&quot;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        sql_result2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
            query_2&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            {
                &lt;span class=&quot;token string&quot;&gt;&quot;available_licenses&quot;&lt;/span&gt;: available_licenses&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;token string&quot;&gt;&quot;company_id&quot;&lt;/span&gt;: company_id&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
            }&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        results1 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rowproxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_mapping &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; rowproxy &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; sql_result1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        results2 &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rowproxy&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;_mapping &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; rowproxy &lt;span class=&quot;token operator&quot;&gt;in&lt;/span&gt; sql_result2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;end&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token string&quot;&gt;&quot;{end - start:.5f} sec&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;****************************************************&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        responses &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; {&lt;span class=&quot;token string&quot;&gt;&quot;current&quot;&lt;/span&gt;: results1&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;prev&quot;&lt;/span&gt;: results2&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;center&gt;  &lt;b&gt;결과 ORM 이 가공한 Raw SQL 로 실행 시&lt;/b&gt;&lt;/center&gt; &lt;br/&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;1회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;2회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;3회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;1차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.68825초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.95818초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;4.51720초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.86746초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.88096초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.97292초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;3차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.83698초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.87081 초&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;1.87755초&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;center&gt; &lt;b&gt;결과 ORM으로 실행한 시&lt;/b&gt; &lt;/center&gt; &lt;br/&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;1회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;2회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;th align=&quot;center&quot;&gt;3회 시도 (DB 캐시 제거)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;1차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.62579초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.28475초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:blue&quot;&gt;6.25671초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;2차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;5.42588초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;5.30851초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;4.69481 초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;3차 시도&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;4.86993초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;4.90473초&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;span style=&quot;color:orange&quot;&gt;4.734509초&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;center&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;DB 캐싱에 의한 성능향상을 고려해서 1try 의 경우에 한해서, 비교해 보면 ORM 으로 조회했을 때와 Raw SQL 로 조회 했을때를 비교해보면 아래와 같습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ORM -&gt; SQL 로 변경하는데 소요되는 시간 약 1.67 초 정도 소요&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;직접 짠 Raw SQL 구조 대비 약 0.28 초 정도 성능 저하&lt;/p&gt;
&lt;p&gt;직접 짠 SQL 은 UNION ALL 을 사용한 반면에, ORM 에서는 쿼리 2번을 조회 하도록 했습니다. 다만 실제 비교 수치에서 유의미한 차이는 없었고, ORM 에서는 가독성을 향상 시킬 수 있어서(코드 감소) UNION ALL 대신 2개로 분할 해서 사용했었습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ORM 으로 실행한 코드는 DB 캐싱에 의한 이득에 있어서, Raw SQL 보다 매우 비효율적인 모습을 보였습니다. 해당 원인으로 추정해보기에는, &lt;em&gt;IN 절을 사용하는 것에 있는것으로 판단&lt;/em&gt;됩니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;사실 SQL 튜닝 관점에서도 수많은 데이터를 IN 절을 통해서 받도록 하는 것은 좋지 못한 행동이지만, ORM 이 수많은 파라미터를 IN 절로 받도록 변환하는 과정에서 엄청 긴 SQL 을 만들게 되고, SQL 로 가공하는 시간과 더불어 캐싱효과를 제대로 누리지 못하게 한 것으로 보입니다.&lt;/p&gt;
&lt;center&gt;  &lt;h3&gt;ORM 이 가공한 SQL 로그&lt;/h3&gt; &lt;/center&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; substation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serial_no &lt;span class=&quot;token operator&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_4&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_5&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_6&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_7&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_8&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_9&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_10&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_11&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_12&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_13&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_14&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_15&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_16&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_17&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_18&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_19&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_20&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_21&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_22&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_23&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_24&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_25&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_26&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_27&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_28&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_29&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_30&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_31&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_32&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_33&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_34&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_35&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_36&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_37&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_38&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_39&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_40&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_41&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_42&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_43&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_44&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_45&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_46&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_47&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_48&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_49&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_50&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_51&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_52&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_53&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_54&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_55&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_56&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_57&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_58&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_59&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_60&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_61&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_62&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_63&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_64&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_65&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_66&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_67&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_68&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_69&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_70&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_71&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_72&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_73&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_74&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_75&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_76&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_77&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_78&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_79&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_80&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_81&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_82&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_83&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_84&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_85&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_86&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_87&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_88&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_89&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_90&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_91&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_92&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_93&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_94&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_95&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_96&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_97&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_98&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_99&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_100&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_101&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_102&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_103&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_104&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_105&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_106&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_107&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_108&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_109&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_110&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_111&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_112&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_113&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_114&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_115&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_116&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_117&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_118&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_119&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_120&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_121&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_122&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_123&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_124&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_125&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_126&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_127&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_128&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_129&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_130&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_131&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_132&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_133&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_134&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_135&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_136&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_137&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_138&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_139&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_140&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_141&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_142&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_143&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_144&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_145&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_146&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_147&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_148&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_149&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_150&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_151&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_152&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_153&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_154&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_155&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_156&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_157&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_158&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;serial_no_1_159&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s
			&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
			&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;		&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;center&gt;  &lt;h3&gt;Raw SQL 로 실행한 로그&lt;/h3&gt; &lt;/center&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token operator&quot;&gt;AND&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;serial_no &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;ANY&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; UNNEST&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;available_licenses&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;s&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;비고&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EA%B3%A0&quot; aria-label=&quot;비고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비고&lt;/h2&gt;
&lt;p&gt;ORM 에서 성능 관련 얘기를 할 때는 보통 기본적으로 N+1 이슈에 대해서 많이 다루는데요, 이번 글에서는 ORM 의 구조적인 형태로 발생하는 트랜잭션 비효율을 다루기보다는 동일한 형태의 테이블 조인으로 데이터를 조회했을 때,
발생하는 성능 이슈에 대해서 비교해 보는 글을 적어봤습니다.&lt;/p&gt;
&lt;p&gt;또한 해당 글은 Backend 서버와 Database 서버 간 로컬 망에서 랜선 연결을 통해 측정한 데이터이며, DB 데이터 모수도 그저 5,500여 건의 데이터를 가지고 측정한 데이터이기에, 실 운영환경에서는 좀 더 극적인 효과를 기대할 수 있을 것으로 기대합니다.&lt;/p&gt;
&lt;h2 id=&quot;마치며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EC%B9%98%EB%A9%B0&quot; aria-label=&quot;마치며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마치며&lt;/h2&gt;
&lt;p&gt;ORM 진영과 SQL 진영의 열띤 토론에 참여했었던 1인으로서, 개인적으로 2년 넘게 고민해 온 주제였습니다. 이 글의 내용만 본다면 SQL 진영의 승리처럼 보일 수 있지만, 이글을 작성하고 준비하면서 새로운 인사이트를 얻게 되었습니다.
바로 ORM 만이 가지고 있는 &apos;특별한 장점&apos;이 있다는 점과 DB 연산 비용 못지않게 중요한 요소가 바로 &apos;네트워크 비용&apos;이라는 점입니다. MSA 정말 좋은 건가?&lt;/p&gt;
&lt;p&gt;또한 이런 결괏값은 어디까지나 OLAP 시스템 관점에서 작성한 글로, 복잡하지 않은 쿼리를 가진 OLTP 시스템이라면 ORM 도 충분히 사용하기 좋은 매력적인 도구라고 생각됩니다,
ORM 이 가지고 있는 장점과, 성능 개선 포인트가 궁금하시다면 다음 편을 참고해 주세요.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.owl-dev.me/blog/68&quot;&gt;https://www.owl-dev.me/blog/68&lt;/a&gt; &lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;DA 와 DBA 란?  &lt;a href=&quot;https://dataonair.or.kr/db-tech-reference/d-story/data-story/?mod=document&amp;#x26;uid=63217&quot;&gt;블로그&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;&lt;a href=&quot;https://www.owl-dev.me/&quot;&gt;부엉이 블로그&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[신입 개발자의 인덱스 장애 회고담]]></title><description><![CDATA[들어가며 Index란? Index를 사용하는 이유 Index…]]></description><link>http://onepredict.github.io/failure-retrospective/</link><guid isPermaLink="false">http://onepredict.github.io/failure-retrospective/</guid><pubDate>Wed, 15 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot;&gt;들어가며&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#index%EB%9E%80&quot;&gt;Index란?&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#index%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0&quot;&gt;Index를 사용하는 이유&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#index%EC%9D%98-%EB%B9%84%EC%9A%A9-%EB%B9%84%EB%8C%80%EC%B9%AD%EC%84%B1&quot;&gt;Index의 비용 비대칭성&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%84%A4%EC%A0%95-%EC%9E%A5%EC%95%A0-%EB%A6%AC%ED%8F%AC%ED%8A%B8&quot;&gt;인덱스 설정 장애 리포트&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%9A%8C%EA%B3%A0&quot;&gt;회고&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;들어가며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0&quot; aria-label=&quot;들어가며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;들어가며&lt;/h2&gt;
&lt;p&gt;데이터베이스의 인덱스를 잘 활용하면 놀라운 조회 성능 개선을 이룰 수 있습니다.
하지만 운영되고 있는 서비스의 데이터베이스를 다룰 때는
각별히 조심해서 써야 합니다.&lt;/p&gt;
&lt;p&gt;지금부터 제가 들려드릴 이야기는 만 1년이 안 된
신입 개발자 시절 저지른 실수에 대한 회고입니다.
부디 이 이야기가 여러분에게도 공감받고 작게나마 도움이 되었으면 좋겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;index란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#index%EB%9E%80&quot; aria-label=&quot;index란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Index란?&lt;/h2&gt;
&lt;p&gt;데이터베이스 테이블에 지정한 Column을 기준으로 메모리 영역에
일종의 목차를 생성하는 것.&lt;/p&gt;
&lt;h3 id=&quot;index를-사용하는-이유&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#index%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0&quot; aria-label=&quot;index를 사용하는 이유 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Index를 사용하는 이유&lt;/h3&gt;
&lt;p&gt;데이터 조회(SELECT)의 성능을 향상하기 위해.&lt;/p&gt;
&lt;h3 id=&quot;index의-비용-비대칭성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#index%EC%9D%98-%EB%B9%84%EC%9A%A9-%EB%B9%84%EB%8C%80%EC%B9%AD%EC%84%B1&quot; aria-label=&quot;index의 비용 비대칭성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Index의 비용 비대칭성&lt;/h3&gt;
&lt;p&gt;인덱스를 유지 관리하는 것은 비용이 듭니다.
왜냐하면 데이터가 테이블에 삽입, 업데이트 또는 삭제되면
해당 인덱스도 따라 업데이트되어야 하므로
추가로 시간, 메모리를 사용하기 때문입니다.&lt;/p&gt;
&lt;p&gt;다시 말해 INSERT, UPDATE, DELETE(Command)의 성능을 희생하고
대신 SELECT(Query)의 성능을 향상하기 위해서 인덱스를 사용하게 됩니다.
이를 &lt;strong&gt;Command와 Query 비용의 비대칭성&lt;/strong&gt;아라고 합니다.
따라서 인덱스 생성 결정은 향상된 조회 성능과
인덱스 유지 관리 비용 사이의 균형을 고려해서 결정해야 합니다.&lt;/p&gt;
&lt;p&gt;지금부터는 GuardiOne Turbo 제품의 인덱스 생성 관련해서 제가 일으킨 장애에 대해
알아보겠습니다.&lt;/p&gt;
&lt;h2 id=&quot;인덱스-설정-장애-리포트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B8%EB%8D%B1%EC%8A%A4-%EC%84%A4%EC%A0%95-%EC%9E%A5%EC%95%A0-%EB%A6%AC%ED%8F%AC%ED%8A%B8&quot; aria-label=&quot;인덱스 설정 장애 리포트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;인덱스 설정 장애 리포트&lt;/h2&gt;
&lt;p&gt;인덱스 설정 업무를 하게 된 배경은 다음과 같습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;과거의 성공 경험&lt;/strong&gt; - 인덱스가 없던 데이터 ETL 관련 테이블에
인덱스 설정 후 코드 연산 속도 100배 향상 (300초 → 3초)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;데이터 화면이 늦게 뜬다는 고객의 민원&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;1, 2의 이유로 API가 조회하는 Feature 테이블에 이미 단일 인덱스가 설정되어
있지만,
추가적인 속도 개선을 위해 복합 인덱스 설정이 필요하다는 결정이 있었습니다.&lt;/p&gt;
&lt;p&gt;그리고 복합 인덱스 설정을 한 다음 날 아침, 고객으로부터
화면에서 보이는 데이터가 업데이트되지 않았다는 연락을 받았습니다.
DB 도구로 확인해 보니 DB 테이블이 조회되지 않았습니다.
장애 원인은 &lt;strong&gt;인덱스 설정으로 인한 DB 트랜잭션 과부하&lt;/strong&gt;였습니다.&lt;/p&gt;
&lt;p&gt;인덱스 설정으로 인해 멀쩡하던 데이터가 들어오지 않는 건 큰일입니다.
당황한 저는 문제를 일으킨 장본인인 내가 책임져야 한다는 생각에
점심도 거르고 용량이 작은 테이블부터 인덱스 설정 롤백을 시도했습니다.
하지만 설상가상으로 인덱스 삭제 또한 오래 걸려서 DB 과부하로
모든 API 요청이 거절되어 화면이 제대로 나오지 않았습니다.&lt;/p&gt;
&lt;p&gt;주변 동료들의 도움을 받기 위해 위 상황을 알리고 같은 팀 동료의 도움으로
위 상황을 해결할 수 있었습니다.
PostgreSQL의 내장 함수를 통해 DB lock 걸린 프로세스를 강제 종료하고
인덱스 설정을 롤백하여 문제를 해결할 수 있었습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sql&quot;&gt;&lt;pre class=&quot;language-sql&quot;&gt;&lt;code class=&quot;language-sql&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; pg_catalog&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pg_stat_activity&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;relname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;locktype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; page&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; virtualtransaction&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; granted
&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; pg_catalog&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pg_locks l&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; pg_catalog&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;pg_stat_all_tables t
&lt;span class=&quot;token keyword&quot;&gt;WHERE&lt;/span&gt; l&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;relation &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;relid
&lt;span class=&quot;token keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;BY&lt;/span&gt; relation &lt;span class=&quot;token keyword&quot;&gt;ASC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; pg_cancel_backend&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;SELECT&lt;/span&gt; pg_terminate_backend&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;20500&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;pg_cancel_backend()&lt;/code&gt; 함수를 통해
특정 백엔드 프로세스의 실행을 취소할 수 있기 때문에,
백엔드 프로세스의 PID를 &lt;code class=&quot;language-text&quot;&gt;pg_cancel_backend()&lt;/code&gt;에 대한 인수로 제공해서
해당 프로세스를 종료했습니다.&lt;/p&gt;
&lt;h2 id=&quot;회고&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9A%8C%EA%B3%A0&quot; aria-label=&quot;회고 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;회고&lt;/h2&gt;
&lt;p&gt;원프레딕트에선 스프린트가 종료될 때마다 회고를 통해 아쉬웠던 점은 개선하고,
잘한 점은 서로 칭찬하고 유지하려 모두 노력하고 있습니다.&lt;/p&gt;
&lt;p&gt;이번 사고에서도 예방책에 관해 스프린트 회고 때 많은 의견이 있었습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;운영 중인 서비스와 관련한 작업을 할 때는 경각심 갖기&lt;/li&gt;
&lt;li&gt;운영 데이터베이스 조작 전 PO나 팀원에게 공유하기&lt;/li&gt;
&lt;li&gt;운영 데이터베이스를 조작하는 권한에 대한 내규나 프로세스 만들기&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;모두 다 좋은 의견입니다.
여기에 더해서 저는 &lt;code class=&quot;language-text&quot;&gt;비판적으로 일하기&lt;/code&gt;의 중요성을 배웠습니다.
앞서 말씀드렸듯이 테이블마다 필요한 단일 인덱스는 이미 설정되어 있었습니다.
복합 인덱스 설정이 크게 조회 성능이 되지 않을 수 있는 점과
Command의 비용이 더 들 수 있다는 점을 간과했다는 점이 아쉬웠습니다.
업무 지시를 받은 상황이라도 그것이 정말로 도움이 되는지,
어떤 가치를 줄 수 있는지를 주체적으로 생각해야 했다는 점을 배웠습니다.&lt;/p&gt;
&lt;p&gt;이 주제로 백엔드 작당모의&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;에서 발표했을 때 저는 조금 긴장했습니다.
회사에서 자신의 성과가 아닌 실수를 드러내는 건 용기가 필요한 일이니까요.
하지만 발표를 마치고 동료들이 저마다 자신이 겪었던 실수를 공유하고
누구도 비난하지 않는 분위기를 보며
원프레딕트의 개발 조직은 좋은 문화를 가지고 있다는 확신을 얻게 되었습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/699b7/strategies_for_learning_from_failure.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABgklEQVR42nVS2YrCQBDM/3+HT3lR9CWIiLei4oGgBhWNeN/3gUctVcsEcdmBTvd099RU18Tq9XpoNBqo1WpwXRedTgf9fl+5drutPa3ZbCq32+2w2WywWCyw3W61n0wmWK1WOJ/PsBhMp1PMZjM1rtdrFZfLpbwx5ufzOS6XC+73O67XK263m4zx8/mUCTAWiyGdTotJt9tFPp9HpVIB2UciEdi2jVKphFwupz56TlEoFNQbjUZ1jssiKpkRmAwY0xibHJs5Bcc8nU5ia8Y+Ho+ahn0CPBwOyGQyGAwGYlEul1EsFnUzNWU+lUohkUhIU2pJ9tVqVboHg0HVW63WL+D7/dZt1IaikgHZ0Cj4fr/HeDwWA9aYIwkyox+NRtKf5wXIz3A49FlQIxqZ0cfjcTGu1+sIh8MIBAKaIpvNSnPWHceBWQJ8vV668VNDw4QMqRH1Mi/NScxrM+ZZTuoDfi9T5NjUNxQKIZlMwvM8v/bfsj5BTLPx5h8zjB6Px59Lv+Mfumjiuwd2sSIAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;영리한 실패&quot;
        title=&quot;&quot;
        src=&quot;/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/0b533/strategies_for_learning_from_failure.png&quot;
        srcset=&quot;/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/fac75/strategies_for_learning_from_failure.png 125w,
/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/63868/strategies_for_learning_from_failure.png 250w,
/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/0b533/strategies_for_learning_from_failure.png 500w,
/static/9a58d2e0e4117fcb4ccd1b4aaa3aabd9/699b7/strategies_for_learning_from_failure.png 596w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;실수하지 않는 사람은 없습니다.
여러 사람이 모인 회사 안에서 아무런 사건 사고가 없다면 그건 오히려 사람들이
비난이 두려워 자신의 실수를 감추고 있다는 방증일 것입니다.
원프레딕트에서는 실수가 있어도 그것을 숨기지 않으며
그를 통해 배우고 더 영리한 조직이 되고자 노력합니다.
원프레딕트와 함께 성장하고 싶은 분은 언제든 문을 두드려 주세요!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://blog.onepredict.ai/&quot;&gt;원프레딕트 채용 정보 확인하기&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;원프레딕트의 모든 백엔드 엔지니어는 매주 목요일에
기술 주제를 나누는데, 이 모임의 이름이 ‘백엔드 작당모의’입니다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[반응형 프로그래밍이란 무엇인가?]]></title><description><![CDATA[프론트 데스크에서 발표한 내용을 엔지니어링 블로그에 공유합니다.  Intro Fine-Grained Reactivity Signal(신호) Reaction(반응) Derivations(파생) React SolidJS 반응형 모델 Signal…]]></description><link>http://onepredict.github.io/reactive-programming/</link><guid isPermaLink="false">http://onepredict.github.io/reactive-programming/</guid><pubDate>Wed, 08 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;프론트 데스크에서 발표한 내용을 엔지니어링 블로그에 공유합니다. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#intro&quot;&gt;Intro&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#fine-grained-reactivity&quot;&gt;Fine-Grained Reactivity&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#signal%EC%8B%A0%ED%98%B8&quot;&gt;Signal(신호)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#reaction%EB%B0%98%EC%9D%91&quot;&gt;Reaction(반응)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#derivations%ED%8C%8C%EC%83%9D&quot;&gt;Derivations(파생)&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#react&quot;&gt;React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#solidjs&quot;&gt;SolidJS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EB%B0%98%EC%9D%91%ED%98%95-%EB%AA%A8%EB%8D%B8&quot;&gt;반응형 모델&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#signalcreatesignal&quot;&gt;Signal(createSignal)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#reactioncreateeffect&quot;&gt;Reaction(createEffect)&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#derivations&quot;&gt;Derivations&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot;&gt;마무리&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;Reactive Programming(반응형 프로그래밍)을 간단하게 설명하기 좋은 예시는
스프레드시트입니다.
어떠한 수식을 선언적으로 작성해 두고 수식에서 사용되는 데이터가 변경되면
수식에 반영되는 데이터 흐름을 확인할 수 있습니다.
이렇게 데이터의 흐름과 변경 사항의 전파에 중점을 둔 선언적 프로그래밍을
하고자 하는 패러디임을 반응형 프로그래밍이라고 합니다.
우리가 사용하는 React는 반응형 프로그래밍일까요?&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;를 사용하여 UI를 업데이트하는 React Component를 구사하는 방식은
반응형 프로그래밍과 같아 보이기도 하지만,
React는 스케줄링을 설명할 때 데이터가 갱신되면 “Push”하는 방식이 아닌
계산이 필요할 때까지 지연될 수 있는 “Pull” 방식을 고수한다고 합니다.
이 말은 위에서 설명한 데이터의 흐름과 변경 사항의 전파로 처리되는
반응형 프로그래밍의 방식과는 거리가 있어 보입니다.
또한 본인들은 완전한 반응형(fully reactive)이 되길 원치 않는다고 합니다.&lt;/p&gt;
&lt;p&gt;그럼 완전한 반응형 프로그래밍이란 무엇일까요?
이것을 더 잘 다루는 프레임워크(라이브러리)는
Vue.js, Svelte, SolidJS, Knockout.js, MobX 등이 있는데
SolidJS에서는 &lt;code class=&quot;language-text&quot;&gt;Fine-Grained Reactivity&lt;/code&gt;이라는 개념을 이야기합니다.&lt;/p&gt;
&lt;h2 id=&quot;fine-grained-reactivity&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fine-grained-reactivity&quot; aria-label=&quot;fine grained reactivity permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fine-Grained Reactivity&lt;/h2&gt;
&lt;p&gt;Fine-Grained Reactivity란 말 그대로 세밀한 반응형입니다.
React처럼 상태가 변경되었을 때 컴포넌트 전체가 리렌더링 되는 것이 아니라,
일부 변경이 필요한 곳에서만 갱신이 일어나죠.
아래에서 SolidJS에서 쓰이는 반응형 프로그래밍의 세 가지 요소를 살펴보겠습니다.&lt;/p&gt;
&lt;h3 id=&quot;signal신호&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#signal%EC%8B%A0%ED%98%B8&quot; aria-label=&quot;signal신호 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Signal(신호)&lt;/h3&gt;
&lt;p&gt;Signal은 반응형 프로그래밍에서 기본적인 타입입니다.
&lt;code class=&quot;language-text&quot;&gt;getter&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;setter&lt;/code&gt;로 구성되어 있습니다.
반응형 프로그래밍에서 사용되는 데이터로서, 변화를 추적합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createSignal &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;solid-js&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;Count&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Counter&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;reaction반응&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reaction%EB%B0%98%EC%9D%91&quot; aria-label=&quot;reaction반응 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reaction(반응)&lt;/h3&gt;
&lt;p&gt;Signal을 관찰하고 그 값이 업데이트될 때마다 Signal을 다시 실행합니다.
의존성을 명시하는 것이 아니라, 그를 사용하는 것 자체를 구독합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createSignal &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;solid-js&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;outer log, count: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;createEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;inner log, count: &quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;Count&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Counter&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;derivations파생&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#derivations%ED%8C%8C%EC%83%9D&quot; aria-label=&quot;derivations파생 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Derivations(파생)&lt;/h3&gt;
&lt;p&gt;Signal의 파생 데이터는 어떻게 할까요?
이 파생 데이터를 Reaction에서 사용하게 된다면
매번 재연산하여 비용이 클 것입니다.
이를 메모이제이션을 하고자 할 때 아래와 같이 사용합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createSignal&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createMemo &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;solid-js&quot;&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;1. Signals 생성&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;옐로우&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;b&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;망고&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; c &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;파생 데이터 생성/변경&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;2. Reactions 생성&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;createEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;를 먹었다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;createEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;는 맛있었다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;3. a 갱신&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;setA&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;애플&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 1. Signals 생성&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 2. Reactions 생성&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 파생 데이터 생성/변경&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 옐로우 망고를 먹었다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 옐로우 망고는 맛있었다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 3. a 갱신&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 파생 데이터 생성/변경&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 애플 망고를 먹었다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 애플 망고는 맛있었다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 방식들은 React에서도 흔히 사용되는 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;useMemo&lt;/code&gt;와
같은 것들과 대조할 수 있는데,
결과적으로는 어떠한 차이가 나는지 구현을 어떻게 했는가에 따라 다르겠지만
그들이 추구하는 방식이 어떤 결과로 이어지는지 아래 간단히 렌더링 결과로
차이를 확인해 보겠습니다.&lt;/p&gt;
&lt;h4 id=&quot;react&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#react&quot; aria-label=&quot;react permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; useState &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;react&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;hello&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;count &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        You pressed me &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; times
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Hello &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Counter&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/e73a845ebaaeaec2db461a187828bdb5/react-rendering.gif&quot; alt=&quot;React의렌더링&quot; title=&quot;React의 렌더링&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;solidjs&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#solidjs&quot; aria-label=&quot;solidjs permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SolidJS&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; createEffect&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; createSignal &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;solid-js&quot;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Hello&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;hello&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;Counter&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;count&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setCount&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;button onClick&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;setCount&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
        &lt;span class=&quot;token literal-property property&quot;&gt;Count&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;button&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Hello &lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;div&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Counter&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/29ca7158cb9483a9b2a5462cfdb2a12c/solidjs-rendering.gif&quot; alt=&quot;그림&quot; title=&quot;SolidJS의 렌더링&quot;&gt;&lt;/p&gt;
&lt;p&gt;React는 컴포넌트 내용이 전부 리렌더링되고 SolidJS는 상태를 구독하는
일부만 리렌더링이 되고 있습니다.&lt;/p&gt;
&lt;h3 id=&quot;반응형-모델&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B0%98%EC%9D%91%ED%98%95-%EB%AA%A8%EB%8D%B8&quot; aria-label=&quot;반응형 모델 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;반응형 모델&lt;/h3&gt;
&lt;p&gt;SolidJS가 반응형을 어떤 방식으로 구현했는지 살펴보겠습니다.&lt;/p&gt;
&lt;h3 id=&quot;signalcreatesignal&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#signalcreatesignal&quot; aria-label=&quot;signalcreatesignal permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Signal(createSignal)&lt;/h3&gt;
&lt;p&gt;Reaction을 담고 있는 &lt;code class=&quot;language-text&quot;&gt;runningContext&lt;/code&gt;가 존재하고,
Signal은 자신을 구독하는 구독 리스트로 &lt;code class=&quot;language-text&quot;&gt;subscriptions&lt;/code&gt;를 둡니다.
이 두 가지로 의존성을 추적하게 되고 변화에 따라 반응이 일어나도록
`read`` 함수를 실행시킵니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; runningContext &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;running&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; subscriptions&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  subscriptions&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;running&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  running&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dependencies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;subscriptions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; subscriptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; currentRunning &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; runningContext&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;runningContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentRunning&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;currentRunning&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; subscriptions&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; value
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;write&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token parameter&quot;&gt;nextValue&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    value &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; nextValue

    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sub &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;subscriptions&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      sub&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; write&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;reactioncreateeffect&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#reactioncreateeffect&quot; aria-label=&quot;reactioncreateeffect permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reaction(createEffect)&lt;/h3&gt;
&lt;p&gt;Reaction이 실행될 때 자신이 어떤 값에 의존하고 있는지 관리하기 위한
&lt;code class=&quot;language-text&quot;&gt;dependencies&lt;/code&gt; 속성을 두고,
자신이 실행될 때마다 구독을 &lt;code class=&quot;language-text&quot;&gt;cleanup&lt;/code&gt;하고 재구독하는 과정으로 동작합니다.
이 과정을 통해 Signal의 의존성을 동적으로 관리할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;cleanup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;running&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dep &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; running&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dependencies&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    dep&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;running&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  running&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dependencies&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;cleanup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;running&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    runningContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;running&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      runningContext&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; running &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    run&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;depdendencies&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token function&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;derivations&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#derivations&quot; aria-label=&quot;derivations permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Derivations&lt;/h3&gt;
&lt;p&gt;파생은 Signal과 React을 사용해 계산된 값을 반환합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createMemo&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;computed&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; set&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createSignal&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;createEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; computed
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;마무리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A7%88%EB%AC%B4%EB%A6%AC&quot; aria-label=&quot;마무리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;마무리&lt;/h2&gt;
&lt;p&gt;여기까지 간단하게 반응형 프로그래밍에서 사용되는 세 가지 요소와
이점이 무엇인지 살펴보았습니다.
이외에 반응형 프로그래밍을 구현하기 위해 유의해야 할 사항들이 더 존재합니다.
이는 &lt;a href=&quot;https://www.solidjs.com/guides/getting-started&quot;&gt;SolidJS 공식 문서&lt;/a&gt;를
확인해 보실 수 있습니다(무려 한글입니다!).
반응형 프로그래밍을 살펴보면서 프레임워크들이 앞으로 어떤 방향성을 가지고
개발되고 있는지 한번 확인해 보면 좋은 공부가 될 것입니다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;원프레딕트의 모든 프론트엔드 엔지니어는 매주 목요일에
기술 주제를 나누는데, 이 모임의 이름이 ‘프론트 데스크’입니다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[장인은 도구탓을 하지 않는다. 주니어도 그렇다.]]></title><description><![CDATA[프론트 데스크에서 발표한 내용을 엔지니어링 블로그에 공유합니다.  Intro 시발점 - 문제의 코드 Why ? 왜 그랬어? Why ! 외 않되! How? 그래서 어떻게 했어? 커스텀 훅 생성 정리 Intro…]]></description><link>http://onepredict.github.io/violation-hook-rule/</link><guid isPermaLink="false">http://onepredict.github.io/violation-hook-rule/</guid><pubDate>Wed, 01 Nov 2023 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;프론트 데스크에서 발표한 내용을 엔지니어링 블로그에 공유합니다. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#intro&quot;&gt;Intro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%8B%9C%EB%B0%9C%EC%A0%90---%EB%AC%B8%EC%A0%9C%EC%9D%98-%EC%BD%94%EB%93%9C&quot;&gt;시발점 - 문제의 코드&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#why--%EC%99%9C-%EA%B7%B8%EB%9E%AC%EC%96%B4&quot;&gt;Why ? 왜 그랬어?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#why--%EC%99%B8-%EC%95%8A%EB%90%98&quot;&gt;Why ! 외 않되!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#how-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%96%88%EC%96%B4&quot;&gt;How? 그래서 어떻게 했어?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%9B%85-%EC%83%9D%EC%84%B1&quot;&gt;커스텀 훅 생성&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot;&gt;정리&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://mblogthumb-phinf.pstatic.net/MjAxNzA5MTZfMTMz/MDAxNTA1NTIwMTAwMjIw.NxHcV2ca3Ntx74LEtXS1PlP_96IL4mN6qUt2UwQTaTcg.OQRjxupiLfoeHCDwwurI-eo4cQZsGQxO--2RSjhfthQg.GIF.jhhong0571/a5ba83fd23fbb405cdfe604a1b3d54a7_L9w7Ssdp1fPM9lZvGLv64cQ.gif?type=w800&quot; alt=&quot;도구탓&quot; title=&quot;도구탓&quot;&gt;&lt;/p&gt;
&lt;p&gt;흔히들 장인은 도구 탓을 하지 않는다고들 합니다.&lt;/p&gt;
&lt;p&gt;하지만 아이러니하게도 주니어 개발자도 그런 경우가 많지 않을까 생각해 봅니다.&lt;/p&gt;
&lt;p&gt;도구 탓이라고 표현했지만
결국에는 사용하는 도구를 잘 이해하지 못하고 사용한다는 뜻입니다.&lt;/p&gt;
&lt;p&gt;왜냐하면 도구 탓을 하기 전에 본인 탓이 우선이기 때문입니다.&lt;/p&gt;
&lt;p&gt;아마 주니어 개발자라면 한 번쯤은 분명 내가 작성한 코드가 잘못됐을 것이라는
생각을 해봤을 것입니다.&lt;/p&gt;
&lt;p&gt;오늘 나누고자 하는 주제 또한 저를 포함한 많은 리액트 주니어 개발자들이
사용하는 것에만 신경 쓰고
그 이유에 대해서는 생각하지 않을 때에 관한 내용입니다.&lt;/p&gt;
&lt;p&gt;부디 누군가의 옆구리를 찌르는 내용이길 바랍니다.&lt;/p&gt;
&lt;h2 id=&quot;시발점---문제의-코드&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EB%B0%9C%EC%A0%90---%EB%AC%B8%EC%A0%9C%EC%9D%98-%EC%BD%94%EB%93%9C&quot; aria-label=&quot;시발점   문제의 코드 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시발점 - 문제의 코드&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; idList &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;생략&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// eslint-disable-next-line react-hooks/rules-of-hooks&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCustomQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token literal-property property&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;idList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;어딘가 불편합니다&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// eslint-disable-next-line react-hooks/rules-of-hooks&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;참 거슬리는 문구가 아닐 수 없습니다&lt;/p&gt;
&lt;p&gt;해당 코드로 인해서 당연하게도 코드 리뷰 단계에서 동료들의 피드백을 받을 수 있었습니다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e21a38463509691d17eec46fed050e19/e4900/code-review-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 23.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/UlEQVR42mWOWXLDIBBEdf8DOnHZiS1rZ0eShfYXpFS+MtSjqYFuJslXyaV/kA01eVfzWd25iQd3+eSuUq7NN7eopS8RQaJ3j9rcP+RqmfeFpNoMH0NKNtbUoyTtCrK+4hU1f9dkPuflXhTvijI0iFmf5gO1u5PjExFzzsCv8sElvdJ4RaUbSiuonaIQJaZ3dPHsZIWL98MWGPcpMjMx40OLGRx1r+imni2uxFlL/opTPDOKvEQrjVEG0UiMNmht8b7DGMsYRrZ1Y5kX1mVlnuZTh3lkjf2jkmMLIWBjsLUumv2JkAoTe6IRMdScvbZtabsuTnu8aU/fX+37Lz8IQ3zGLevE0AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;코드리뷰1&quot;
        title=&quot;꼼꼼한 동료들의 코드리뷰 1&quot;
        src=&quot;/static/e21a38463509691d17eec46fed050e19/0b533/code-review-1.png&quot;
        srcset=&quot;/static/e21a38463509691d17eec46fed050e19/fac75/code-review-1.png 125w,
/static/e21a38463509691d17eec46fed050e19/63868/code-review-1.png 250w,
/static/e21a38463509691d17eec46fed050e19/0b533/code-review-1.png 500w,
/static/e21a38463509691d17eec46fed050e19/1d69c/code-review-1.png 750w,
/static/e21a38463509691d17eec46fed050e19/e4900/code-review-1.png 988w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;꼼꼼한 동료들의 코드리뷰 1&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7323446f593de7bdf70aa059630322e1/8ecb0/code-review-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8klEQVR42o2Q2W6DMBBF+f/fa6W0VcKS2BgD3jAQEoxvBkdtHhtLR/Y8zJnryRCBJmgcphJ8aVEZhh+ZQ94V+s2+jSJCDMj+hHMFfuvAvMDn5QvtqqGiS/TRPnlfqChhQUJKaBk+qgP6YFPKnS4YqNU8m/cB/wkFNXwvDGLtIeYWR1Uh12ccuwInepfyBNbk4KOAXF+r+P1BYnMv4UQJuaUddhKiFRC6gzQk7yWG0cFTPVDtryOm+4x5vSbM5KC9haV7us2IMSKLG+gEaGoq8hLswlCzGpzXuJwZmkairkXCGgs/+ISzLjG4AVoZLMuyi/AAUQHJP+6dA2wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;코드리뷰2&quot;
        title=&quot;꼼꼼한 동료들의 코드리뷰 22&quot;
        src=&quot;/static/7323446f593de7bdf70aa059630322e1/0b533/code-review-2.png&quot;
        srcset=&quot;/static/7323446f593de7bdf70aa059630322e1/fac75/code-review-2.png 125w,
/static/7323446f593de7bdf70aa059630322e1/63868/code-review-2.png 250w,
/static/7323446f593de7bdf70aa059630322e1/0b533/code-review-2.png 500w,
/static/7323446f593de7bdf70aa059630322e1/1d69c/code-review-2.png 750w,
/static/7323446f593de7bdf70aa059630322e1/8ecb0/code-review-2.png 989w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;꼼꼼한 동료들의 코드리뷰 22&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;why--왜-그랬어&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#why--%EC%99%9C-%EA%B7%B8%EB%9E%AC%EC%96%B4&quot; aria-label=&quot;why  왜 그랬어 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why ? 왜 그랬어?&lt;/h2&gt;
&lt;p&gt;베어링 개수만큼 각 베어링의 &lt;code class=&quot;language-text&quot;&gt;channelId&lt;/code&gt; 목록이 담긴 배열로 &lt;code class=&quot;language-text&quot;&gt;map&lt;/code&gt; 함수를 돌면서
&lt;code class=&quot;language-text&quot;&gt;useCustomQuery&lt;/code&gt; 를 사용해 사용할 모든 &lt;code class=&quot;language-text&quot;&gt;result&lt;/code&gt;를 불러올 생각이었습니다.&lt;/p&gt;
&lt;p&gt;당연히 규칙에 위반되기 때문에 ‘&lt;code class=&quot;language-text&quot;&gt;커스텀 훅&lt;/code&gt;을 생성해서 (나중에) 처리해야지!’라고
생각만 한 뒤 바로 수정하지 않고,
에러를 무시하고 ‘차트를 그리는 게 먼저다!’라는 핑계로 넘어가고는
잊어버렸다는 핑계였습니다.&lt;/p&gt;
&lt;p&gt;정리하자면,
반복을 통해서 차트 상단에서 필요한 시그널 데이터를 모두 불러오자는
목적이 있었으나
‘&lt;code class=&quot;language-text&quot;&gt;React Hook 규칙&lt;/code&gt;에 대해서 정확히 이해하지 못하고 사용하면서 나온
잘못이다.’입니다.&lt;/p&gt;
&lt;h2 id=&quot;why--외-않되&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#why--%EC%99%B8-%EC%95%8A%EB%90%98&quot; aria-label=&quot;why  외 않되 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why ! 외 않되!&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/39721b1fe14cd5b15b88f61b71b68249/eb390/hook-rule.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42m2SC5OqMAyF9///urvrRZTyVFyFKhREnHGEszlx5fq4nckkDc3HSdoPyBqGAWEYwhiD9XqNLMuw2Ww0t1wukaYpoijCfD7HbDbTfF3XLMU4jnhcH/cki+5G8Gq1QpIkE+z+s6Io1Ox+D+caVFWFy+XyDLwpjKQwVkXGBKqScRAEWCwW8DxPc4QSHkcGUegjiSOcz+dXhYN88BGaGUwYwBeA7/vaIoE07qk4jmMkojqJDTZ5hHydqaC3lo/HFk1Tw7UNXNNILN45yR/Rdd1UwGKev14Hicdp/wYsbYn94YCyKHEQv91uYa1Vn+e5tsr4ES6VeF3TDNM4hffX0zZ5i/Rsk7f6+fWle17ObrdT9VT+OLsnIFdiE2R5BlveVLGQRnV1XaHvewVQ4R14Op3egeOv7D/NJ76rb7jK6VOglWWpz6NqZY4CJJRAghi/vsEnhdbZ2xwFwBnS0wgs7P42X/kBje+QZ9q2lcu5/h947qWdY4fu1E0qaGyt/1WnbXb/vtO/An8A+mdCVE0gwjAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;hook규칙&quot;
        title=&quot;Hook 규칙에 대한 공식문서&quot;
        src=&quot;/static/39721b1fe14cd5b15b88f61b71b68249/0b533/hook-rule.png&quot;
        srcset=&quot;/static/39721b1fe14cd5b15b88f61b71b68249/fac75/hook-rule.png 125w,
/static/39721b1fe14cd5b15b88f61b71b68249/63868/hook-rule.png 250w,
/static/39721b1fe14cd5b15b88f61b71b68249/0b533/hook-rule.png 500w,
/static/39721b1fe14cd5b15b88f61b71b68249/1d69c/hook-rule.png 750w,
/static/39721b1fe14cd5b15b88f61b71b68249/eb390/hook-rule.png 935w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Hook 규칙에 대한 공식문서&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 첫 번째 렌더링&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// ------------&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Mary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// 1. &apos;Mary&apos;라는 name state 변수를 선언합니다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// 2. 폼 데이터를 저장하기 위한 effect를 추가합니다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Poppins&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// 3. &apos;Poppins&apos;라는 surname state 변수를 선언합니다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// 4. 제목을 업데이트하기 위한 effect를 추가합니다.&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 두 번째 렌더링&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// -------------&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Mary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// 1. name state 변수를 읽습니다.(인자는 무시됩니다)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;persistForm&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// 2. 폼 데이터를 저장하기 위한 effect가 대체됩니다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Poppins&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// 3. surname state 변수를 읽습니다.(인자는 무시됩니다)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// 4. 제목을 업데이트하기 위한 effect가 대체됩니다.&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hook의 호출 순서가 렌더링 간에 동일하다면
React는 지역적인 state를 각 Hook에 연동시킬 수 있습니다.
하지만 Hook을 조건문 안에서(예를 들어 &lt;code class=&quot;language-text&quot;&gt;persistForm&lt;/code&gt; effect)
호출한다면 어떤 일이 일어날까요?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;  &lt;span class=&quot;token comment&quot;&gt;// 🔴 조건문에 Hook을 사용함으로써 첫 번째 규칙을 깼습니다&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;token operator&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;persistForm&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      localStorage&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;formData&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;name !== &apos;&apos;&lt;/code&gt; 조건은 첫 번째 렌더링에서 &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;이기 때문에 Hook은 동작합니다.
하지만 사용자가 그다음 렌더링에서 폼을 초기화하면서
조건을 &lt;code class=&quot;language-text&quot;&gt;false&lt;/code&gt;로 만들 겁니다.
렌더링 간에 Hook을 건너뛰기 때문에 Hook 호출 순서는 달라지게 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Mary&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;// 1. name state 변수를 읽습니다. (인자는 무시됩니다)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// useEffect(persistForm)  // 🔴 Hook을 건너뛰었습니다!&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;Poppins&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;// 🔴 2 (3이었던). surname state 변수를 읽는 데 실패했습니다.&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;updateTitle&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;     &lt;span class=&quot;token comment&quot;&gt;// 🔴 3 (4였던). 제목을 업데이트하기 위한 effect가 대체되는 데 실패했습니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;React는 두 번째 &lt;code class=&quot;language-text&quot;&gt;useState&lt;/code&gt; Hook 호출에 대해 무엇을 반환할지 몰랐습니다.
React는 이전 렌더링 때처럼 컴포넌트 내에서 두 번째 Hook 호출이
&lt;code class=&quot;language-text&quot;&gt;persistForm&lt;/code&gt; effect와 일치할 것이라 예상했지만 그렇지 않았습니다.
그 시점부터 건너뛴 Hook 다음에 호출되는 Hook이 순서가 하나씩 밀리면서
버그를 발생시키게 됩니다.&lt;/p&gt;
&lt;p&gt;이것이 컴포넌트 최상위(the top of level)에서
Hook이 호출되어야만 하는 이유입니다.
조건부로 effect를 실행하기를 원한다면, 조건문을 Hook 내부에 넣을 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;how-그래서-어떻게-했어&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%96%88%EC%96%B4&quot; aria-label=&quot;how 그래서 어떻게 했어 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How? 그래서 어떻게 했어?&lt;/h2&gt;
&lt;p&gt;저장소에 문제의 Merge Request를 올린 후 휴가를 떠난 저였습니다.&lt;/p&gt;
&lt;p&gt;휴가 복귀하니 문제의 코드들이 &lt;code class=&quot;language-text&quot;&gt;main&lt;/code&gt; branch에 merge가 된 상태였습니다.&lt;/p&gt;
&lt;p&gt;빠른 템포로 돌아가는 스프린트 와중에 코드 리뷰 중인 MR에 &lt;code class=&quot;language-text&quot;&gt;approve&lt;/code&gt; 버튼을
눌렀을 동료들의 마음이 차마 가늠이 가지 않았습니다.&lt;/p&gt;
&lt;p&gt;하지만 이미 엎질러진 물!&lt;/p&gt;
&lt;p&gt;다시 태스크를 가져와서 개선하기로 했습니다.&lt;/p&gt;
&lt;p&gt;사실 가장 간단한 방법은...
문제가 되는 &lt;code class=&quot;language-text&quot;&gt;useCustomQuery&lt;/code&gt;를 반복문 밖으로 빼는 겁니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCustomQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token literal-property property&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;idList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channels&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; idList &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// ...중략...&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;문제가 되던 반복하면서 &lt;code class=&quot;language-text&quot;&gt;useCustomQuery&lt;/code&gt;를 쏘던 &lt;code class=&quot;language-text&quot;&gt;result&lt;/code&gt;를 밖으로 빼고,
대신 반복문을 통해 얻은 모든 &lt;code class=&quot;language-text&quot;&gt;channelId&lt;/code&gt;가 담긴 배열을 인자로 넘겨줍니다.&lt;/p&gt;
&lt;p&gt;하지만 가만히 들여다봤을 때, 여전히 불편함이 가시질 않았습니다.&lt;/p&gt;
&lt;p&gt;그래서&lt;/p&gt;
&lt;h2 id=&quot;커스텀-훅-생성&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%9B%85-%EC%83%9D%EC%84%B1&quot; aria-label=&quot;커스텀 훅 생성 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;커스텀 훅 생성&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;useShaftCenterSignalData&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token parameter&quot;&gt;&lt;span class=&quot;token literal-property property&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; useOverviewSignalDataProps&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; channelData &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; channelIds &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channelData&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;channelIdList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;flat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token literal-property property&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; signalData &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useCustomQuery&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    channelIds
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// signal data 없음&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;signalData &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;signalData&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;signals&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; defaultSignalData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// signalData가 있는 경우&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; signals &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; signalData&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; shaftCenterSignalDataList &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;channelData&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;?.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// ...중략...&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;createShaft&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSignalsByChannel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;signals&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; channelIdList&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; target&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; shaftCenterSignalDataList&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;좋은 코드의 기준은 개개인이 다를 수 있겠지만
불편함이 조금은 줄었을까요!&lt;/p&gt;
&lt;h2 id=&quot;정리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%95%EB%A6%AC&quot; aria-label=&quot;정리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;정리&lt;/h2&gt;
&lt;p&gt;지금까지 주니어가(제가) 흔히 하는 실수인 &lt;code class=&quot;language-text&quot;&gt;React Hook 규칙 위반 사례&lt;/code&gt;와
나아가서 &lt;code class=&quot;language-text&quot;&gt;커스텀 훅을 통한 개선 방법&lt;/code&gt;에 대해서 얘기해 봤습니다.&lt;/p&gt;
&lt;p&gt;이 주제를 논하고자 마음먹었을 때, 사실은 부끄러운 마음이 더 컸습니다.&lt;/p&gt;
&lt;p&gt;사실 흔히 하는 실수일 수 있으나 해서는 안 되는 실수이기도 하고,
남들은 하지 않는 실수일 것이 분명했기 때문입니다.&lt;/p&gt;
&lt;p&gt;하지만 이 주제가 누군가에게는 공감을 일으킬 수 있으리라 생각했고,
이처럼 사소하다고 느낄 수 있을 만한 부분도
팀 단위에서 코드 리뷰가 이루어지고 있다는 부분을 강조하고 싶었습니다.&lt;/p&gt;
&lt;p&gt;돌이켜보면 사실은 저의 게으름이 자아낸 실수 아닌 실수라고 생각합니다.&lt;/p&gt;
&lt;p&gt;협업이 자연스레 이뤄지는 환경 속에서,
내 로컬 검은 바탕에 써 내려간다고 해서
나만 보는 코드가 아님을 항상 명심해야겠습니다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;원프레딕트의 모든 프론트엔드 엔지니어는 매주 목요일에
기술 주제를 나누는데, 이 모임의 이름이 ‘프론트 데스크’입니다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[AI 동시성 이슈 극복 과정과 성능 개선 (feat. AWS Lambda)]]></title><description><![CDATA[기존에 발행된 글을
정리해서 다시 소개합니다. Intro Substation 2.0 제품을 개발하며 새로운 기능을 만드는 와중에,
기존 백엔드 서버에서 동작하던 AI…]]></description><link>http://onepredict.github.io/solving-ai-concurrent-issue/</link><guid isPermaLink="false">http://onepredict.github.io/solving-ai-concurrent-issue/</guid><pubDate>Wed, 25 Oct 2023 07:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://tech.onepredict.ai/3461d6cc-bc49-423a-b9c8-de816776461f&quot;&gt;기존에 발행된 글&lt;/a&gt;을
정리해서 다시 소개합니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;Substation 2.0 제품을 개발하며 새로운 기능을 만드는 와중에,
기존 백엔드 서버에서 동작하던 AI 연산부에서
치명적인 이슈를 발견한 적이 있습니다.&lt;/p&gt;
&lt;p&gt;해당 이슈는 스프린트 플래닝 과정에서 PO와 당시 옆에 있었던 프론트 대빵,
그리고 팀 내 개발자 등 당시  180cm가 넘는 거구들과 화이트보드 앞에서
열띤 토의를 했고(심리적 압박감 무엇..?),
아래 이슈로 인해서 백엔드와 AI를 분리하기로 했습니다.&lt;/p&gt;
&lt;p&gt;&lt;del&gt;스프린트를 거듭할수록 왜 이런 부류의 개발 난이도가 계속 발생하는가?!&lt;/del&gt;&lt;/p&gt;
&lt;h2 id=&quot;issue&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#issue&quot; aria-label=&quot;issue permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Issue&lt;/h2&gt;
&lt;p&gt;Substation2.0 서비스에서 AI 알고리즘이 동작하는 순간은 크게 3가지로 분류됩니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;신규 고객이 서브스테이션에 변압기 및 DGA(절연유 가스) 데이터를
처음 등록할 때 (Bulk Upload)&lt;/li&gt;
&lt;li&gt;기존 변압기의 DGA 가스 이력을 새로 추가할 때 (Web Upload)&lt;/li&gt;
&lt;li&gt;작업자가 변압기 점검일지를 작성할 때&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;이 중 3번째 상황에서 여러 사람이 점검일지를 동시에 작성하게 되면,
AI 알고리즘도 동시에 여러 개가 돌아가야 합니다.
하지만 AI 개발자가 처음 알고리즘을 개발했을 때는 동시 실행이 불가능한 구조로
설계를 해뒀습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;u&gt;즉, 백엔드 서버가 동시에 여러 개의 API 요청을 받을 수 있고,
동시에 여러 개의 DB 트랜잭션도 가능하지만,
AI 연산은 오직 1개의 프로세스만 가능한 구조입니다.&lt;/u&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/414a176b050f3c081022879d2672cabe/97bfd/flask_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 35.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABi0lEQVR42mWRWY/TUAxG89N55ccgHnnhAQQaxNBpZzo0bbqkbdKszXKz3dwszeEWngBLlj/Lsi37GPxjqhuo1Ejd3UhFjRfGlLKjbgeKWlE2ikYNSF2XOk7T9Fe/cbvdEKUgESmtahC64RhesX2PreuxsE6/oxP6RKIirhSnIOAcRVxLSds2tLLUXjGOA4bqFXZ0xHQ3uImL7VywrAcOu0/sDjO8PMfafmF/+Iob2fx4eWKz/sjp9IAbOhQiIvZNsnjL0FcYUrWIsaSgJm6uLM01Z2fGOBwI4zWz5ZJr8kJx/MDm2zsenx8pi5/I1mL++sTz4jtMMVMf0HfFfaDk2qdkk8ArA+bLV3zvCSVN0tRktd8RhnOSz2/Zv3/D2ppTlCuaesXG3nC0TbgFjOpC1+YY/dCTyZxMCXIpCJNcn3IiiPeEqY+vwQTJmYuzwHUsLlnBJdzp8w8EeUFVlXp5RtukDIPCuJO5k/pDa0L1gwbTkemH5xqAqFutG7K7bnpynaf3Wt1p+v1/lH8BPnwNlXMB23gAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;기존 동작 Process&quot;
        title=&quot;기존 동작 Process&quot;
        src=&quot;/static/414a176b050f3c081022879d2672cabe/0b533/flask_1.png&quot;
        srcset=&quot;/static/414a176b050f3c081022879d2672cabe/fac75/flask_1.png 125w,
/static/414a176b050f3c081022879d2672cabe/63868/flask_1.png 250w,
/static/414a176b050f3c081022879d2672cabe/0b533/flask_1.png 500w,
/static/414a176b050f3c081022879d2672cabe/1d69c/flask_1.png 750w,
/static/414a176b050f3c081022879d2672cabe/00d43/flask_1.png 1000w,
/static/414a176b050f3c081022879d2672cabe/97bfd/flask_1.png 1078w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;기존 동작 Process&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/06b157244bc37531cffd4056b2424342/7a1fb/flask_2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 40%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABrklEQVR42l2S3YrbMBCF8859kN71rtd9gZZeZQslsFAopCTZbXYTp7YT20ls+SeWJVlOvk4MhbIDB498NEcjnZnwX9xuN4zraTs7olAlqqwkN1x0N6LVZlx31mGdH2v+1d5j4gcvhMX7XsQcadWNyGrDU3Bg/hKSa4/SjrztRygtMAOnxtH7YRS743q9MglPMYvditdkQ6U1QbRhvf7OcvlAlEXE54yF5OuXGak6sjvsWCym/F7PCJNQmtGcs1fi8Ine1UwKo8jMibPLyS8N4UGE1S9UMedwikjzA1n6g3j7jTh+JitTVP6TQvjdfoNuK/oupGsCvD0xUbaipKEWFO2FfbqlbZ9pLyuOecj+nJBspyw/vSOefhj/3flLsyCINzRNCddMcMJ2InjWhXSnxg6LtiE9RpTlkroSQZVxkGtGfx6Zf33P4+ePJEUiZi3J1UqeZC/iNVeXMNgEo0XQ9g7txD2rMdZyLC9SVJIW8hS1mFO1Y75NMr48zNhlhfCKvexJSo2TqfC9lW83Gjt5Ozbee1x/d74fD7AyHsb2dMYQBIEUCidr1w/4YeBt/AXz4FueF+0V/QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AI 연산 중에 또다른 AI 요청이 들어오면 Exception...&quot;
        title=&quot;AI 연산 중에 또다른 AI 요청이 들어오면 Exception...&quot;
        src=&quot;/static/06b157244bc37531cffd4056b2424342/0b533/flask_2.png&quot;
        srcset=&quot;/static/06b157244bc37531cffd4056b2424342/fac75/flask_2.png 125w,
/static/06b157244bc37531cffd4056b2424342/63868/flask_2.png 250w,
/static/06b157244bc37531cffd4056b2424342/0b533/flask_2.png 500w,
/static/06b157244bc37531cffd4056b2424342/1d69c/flask_2.png 750w,
/static/06b157244bc37531cffd4056b2424342/00d43/flask_2.png 1000w,
/static/06b157244bc37531cffd4056b2424342/7a1fb/flask_2.png 1030w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;AI 연산 중에 또다른 AI 요청이 들어오면 Exception...&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;어떻게-해결하지&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%95%B4%EA%B2%B0%ED%95%98%EC%A7%80&quot; aria-label=&quot;어떻게 해결하지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어떻게 해결하지?&lt;/h3&gt;
&lt;h4 id=&quot;ai-알고리즘-연산부를-동시-처리가-가능하도록-바꾸자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ai-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EC%97%B0%EC%82%B0%EB%B6%80%EB%A5%BC-%EB%8F%99%EC%8B%9C-%EC%B2%98%EB%A6%AC%EA%B0%80-%EA%B0%80%EB%8A%A5%ED%95%98%EB%8F%84%EB%A1%9D-%EB%B0%94%EA%BE%B8%EC%9E%90&quot; aria-label=&quot;ai 알고리즘 연산부를 동시 처리가 가능하도록 바꾸자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AI 알고리즘 연산부를 동시 처리가 가능하도록 바꾸자&lt;/h4&gt;
&lt;p&gt;해당 이슈를 처음 발견했을 때는 AI 연산 코드를 동시 처리 되도록 수정하면 되지
싶어서 해당 코드를 훑어봤습니다.
하지만 하나의 함수가 600~700줄이 넘는 코드를 리팩토링할 엄두가 나지 않았고,
ADSP 라는 자잘한 데이터 분석 자격증을 가지고는 있지만 &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;
당시엔 도메인 지식도 부족했고,
실무에서 사용하는 AI 코드를 건드리는 것은 Risk가 크다고 판단됐습니다.
현 스프린트 일정 내에 처리하기엔 배보다 배꼽이 더 큰 상황이었습니다.&lt;/p&gt;
&lt;h4 id=&quot;ai-연산을-큐에-쌓아두자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#ai-%EC%97%B0%EC%82%B0%EC%9D%84-%ED%81%90%EC%97%90-%EC%8C%93%EC%95%84%EB%91%90%EC%9E%90&quot; aria-label=&quot;ai 연산을 큐에 쌓아두자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AI 연산을 큐에 쌓아두자&lt;/h4&gt;
&lt;p&gt;AI 연산하는 부분을 큐에 쌓아 두어서,
순차적으로 돌리게 하자라는 의견도 나왔습니다.&lt;/p&gt;
&lt;p&gt;얼핏 보면 그럴듯한 해결 방법으로 생각할 수 있지만,
이 방법은 제품의 사용자가 많아지면 많아질수록
큐 대기 시간이 증가하게 되는 문제가 있습니다.
트래픽이 많아지거나 시간이 지날수록 고객에게 좋은 서비스를 제공하지 못하는
구조는 개발자로서 제 자존심이 허락하지 않습니다.&lt;/p&gt;
&lt;h4 id=&quot;backend-서버와-ai를-분리하자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#backend-%EC%84%9C%EB%B2%84%EC%99%80-ai%EB%A5%BC-%EB%B6%84%EB%A6%AC%ED%95%98%EC%9E%90&quot; aria-label=&quot;backend 서버와 ai를 분리하자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Backend 서버와 AI를 분리하자&lt;/h4&gt;
&lt;p&gt;Clean Architecture나 DDD 관련 서적을 찾아보면,
개발할 때 유지보수 측면에서 코드 간 응집도는 높이고 결합도는 낮게 설계하도록
권장하고 있습니다.
평소에도 Backend와 AI 간에 관심사의 분리가 필요하다고 생각했고,
DB와 강결합 되어 있는 AI 코드를 간섭이 없는 순수한 함수 형태로 떼어내서
이 AI 연산부를 별도의 여러 대의 서버에서 구현하게 하면
구조적으로 해결 가능할 것 같았습니다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0270196d0db041d34c1befd0e899376d/af590/flask_3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAACKUlEQVR42mVSy27UMBTNN7FkhcQH8BPsEfwBW4QQSxYgIQFiBSsWqCDUlnYYitoyaDqZ6XReiZM4iR2/Ezsv46koleDIvotrnWMf3+NZa7uudat36Bzatm3cdn3XcFXXNS/S2mj7H7xKm4wqzKsVgBBRWPBCaohIbYyjQn948eqB//I+2H9jFLeXktdkKlRW9oCZw1P/8+HxD3/NWptQqZu+WJwsn95ZPbwRPr6dvr1HwPyS212TCROAVLPV7GI9mcxHq2AcJKtljM6XweLL682Lu5tHt9iTm8ud57LUTV03W7i69eXlBQVE+dP9rwfvR6NPP08+BMHR8diPkjQJlsXRO7r7DI4PlNaVTChej04PCNpUCtW18RBhEVEIz5ScKjERYjqbf18lmZASY9z2tu62JqVgtk0VWxwNPkq2aXTsxLyCiYjIJD2TfMLIqCxnp7/2dvYGIIr/OHMm+14I2lbANontCttCLdZaKw9THmKeZo7sUzqhzM/wdBlnjAvGKIQwSRJK2XA4KPnatqjTWwktQ62lx4SKC46L7YMpPWPcL+j0PIhDEFFKpJRu2i4GUQRag2wDrYlsmxkVGnez+8OIljEcU3Ze0DljZ0k2nYN88G2YphAAEIYhQghj1FSwN6DVoZPQMjCm9LhQuWhCLJdJvojSNcxjVm1ypY3Z+r0aaV3XkiPJU0FhKXMlsUuh57oF5QVXKWY5EYhIIipMmTvrr/A3qv/E8zevlpU4GD6DUAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;AI 연산부를 AWS Lambda 로 분리&quot;
        title=&quot;AI 연산부를 AWS Lambda 로 분리&quot;
        src=&quot;/static/0270196d0db041d34c1befd0e899376d/0b533/flask_3.png&quot;
        srcset=&quot;/static/0270196d0db041d34c1befd0e899376d/fac75/flask_3.png 125w,
/static/0270196d0db041d34c1befd0e899376d/63868/flask_3.png 250w,
/static/0270196d0db041d34c1befd0e899376d/0b533/flask_3.png 500w,
/static/0270196d0db041d34c1befd0e899376d/af590/flask_3.png 626w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;AI 연산부를 AWS Lambda 로 분리&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;lambda-도입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lambda-%EB%8F%84%EC%9E%85&quot; aria-label=&quot;lambda 도입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lambda 도입&lt;/h3&gt;
&lt;p&gt;AI 서버를 분리하기에 앞서,
“하나의 EC2 서버에 쿠버네티스와 비슷한 환경을 구현해
여러 AI 컨테이너를 띄울 것인가?”,
“2, 3개의 EC2 서버를 띄울 것인가?”
아니면
“Lambda를 이용해 함수를 호출할 때만 비용이 나가게 할 것인가?”에 대한
고민이 있었습니다.&lt;/p&gt;
&lt;p&gt;개발 난이도만 본다면 여러 대의 EC2를 사용해서 구현하는 게 가장 쉽고,
쿠버네티스, Lambda 순으로 어려울 거라 생각됐지만,
비용적인 측면을 고려한다면 압도적으로 Lambda가 저렴했습니다.
또한 최소한의 비용으로 최대의 효율이 뽑아내도록 하는 것이
백엔드 개발자로서 숙명이라 생각해 Lambda로 결정했습니다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2847d6a29f91b206634cf2d9d91f4537/01e7c/aws_lambda.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABeUlEQVR42mNgAIL6egamVaGhzP8ZGBj/rwLS/xkYGSgFIMNu5aqwM1AD3Kg3FtmSrFV4o8b48v9pdlX/59sLgC2pr2eCYAYmkKvBPgBhMB8qDpSvB9NADJRj2JCkLnW21PDR1UqT/3frTX89aTO786jZfPX//6HMMJeT5Lr9WYYq50uN/pwuNvxzqcL474UKozMXyo02/l/oLPyx1ybx+wSbxK/9NnnfJ9kmfJ1gZ/qxx0bt5wRLHaC48/eJtm7f+2ydvvfZuHwG0v+7XbmBBmqBDTxVbPjvYrnxv+u15heuVput+z/TUflrv3X61wk2WV/6bVK/9tmEfJ1obfGtzzrs60SbtM/91gWfJ9jEfOuzLfnab5sOpifay4C9fKbE8NHFMuP/9+rNfv2Z53f7bZ/T2v+rGCBeRotxUFgR9PaFYkuxzck6xdeqTa7/n2pR+X+mMT/EMFjAgyLhPzBCgBgUOSAMiiwYDcWYSQfqKopBPTT6IYZSlrABBlnLNceryegAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Aws Lambda&quot;
        title=&quot;AWS Lambda&quot;
        src=&quot;/static/2847d6a29f91b206634cf2d9d91f4537/0b533/aws_lambda.png&quot;
        srcset=&quot;/static/2847d6a29f91b206634cf2d9d91f4537/fac75/aws_lambda.png 125w,
/static/2847d6a29f91b206634cf2d9d91f4537/63868/aws_lambda.png 250w,
/static/2847d6a29f91b206634cf2d9d91f4537/0b533/aws_lambda.png 500w,
/static/2847d6a29f91b206634cf2d9d91f4537/01e7c/aws_lambda.png 512w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;AWS Lambda&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;efs-elastic-file-system&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#efs-elastic-file-system&quot; aria-label=&quot;efs elastic file system permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;EFS (Elastic File System)&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/ko/efs&quot;&gt;https://aws.amazon.com/ko/efs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;AI 코드를 Lambda로 분리하기 위해서는 필요한 Python 패키지를 설치해야
하는데, AI 분야에서 사용하는 라이브러리는 보통 용량이 큰 편이었습니다.&lt;/p&gt;
&lt;p&gt;Lambda에서 실행할 수 있는 형태로 올리기 위해서는 Zip 압축 파일로 올리거나,
S3 Bucket에 올려야 하는데, 각각 50MB, 160MB의 용량 제한이 있습니다.
의존성까지 포함해서 2GB가 넘어가는 프로그램을 Lambda에 올리기 위해서는
대안이 필요했습니다.&lt;/p&gt;
&lt;p&gt;DevOps 팀의 열정적인 분에게 찾아가 조언을 구하니
AWS EFS(Elastic File System)을 활용해서 패키지를 설치하고,
EC2에서 가져다 쓰게 설정하면 해결이 가능할 것 같다는 조언을 받을 수 있었습니다.
이를 구성하기까지 많은 시행착오가 있었지만,
덕분에 Lambda를 돌릴 수 있는 환경을 구축했습니다.&lt;/p&gt;
&lt;p&gt;&lt;del&gt;이렇게 해도 해결하기 어렵다면 Lambda Layer를 고려해 보려 했지만,
다행히 성공했기에 Pass...&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 332px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHeStgWhUT/xAAYEAEBAAMAAAAAAAAAAAAAAAABAgMgIf/aAAgBAQABBQJ4YLW9P//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAwEBPwFwf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAQADAAAAAAAAAAAAAAAAAAEAAiD/2gAIAQEABj8Clhz/AP/EABsQAQACAwEBAAAAAAAAAAAAAAEAESFBURAx/9oACAEBAAE/IVY0taIODlv44eeW93LexXs//9oADAMBAAIAAwAAABDfD//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAwEBPxAAjJ//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QTZ//xAAdEAEAAgICAwAAAAAAAAAAAAABESEAMVFxEEGB/9oACAEBAAE/EHHQFglesaXJLERHs114uLfWbra5ycW1zn//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Aws EFS&quot;
        title=&quot;AWS EFS&quot;
        src=&quot;/static/490e1004d242a7ec8d4a06378f944da2/71bac/aws_efs.jpg&quot;
        srcset=&quot;/static/490e1004d242a7ec8d4a06378f944da2/aa2ed/aws_efs.jpg 125w,
/static/490e1004d242a7ec8d4a06378f944da2/0479a/aws_efs.jpg 250w,
/static/490e1004d242a7ec8d4a06378f944da2/71bac/aws_efs.jpg 332w&quot;
        sizes=&quot;(max-width: 332px) 100vw, 332px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;AWS EFS&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;a href=&quot;https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html&quot;&gt;https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;lambda-함수-마운트-폴더-설정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#lambda-%ED%95%A8%EC%88%98-%EB%A7%88%EC%9A%B4%ED%8A%B8-%ED%8F%B4%EB%8D%94-%EC%84%A4%EC%A0%95&quot; aria-label=&quot;lambda 함수 마운트 폴더 설정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lambda 함수 마운트 폴더 설정&lt;/h3&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; sys

sys&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;append&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/mnt/efs/packages&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;token comment&quot;&gt;# 마운트 폴더 설정&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; MtrAPI &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; MtrAPI


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lambda_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; context&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    ai_processing_result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; MtrAPI&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ai_processing_result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 기존 Substation 제품의 AI 동시성 이슈에 대해서
구조적으로 Backend 파트와 AI 연산 파트를 분리해서 결합도를 낮췄고,
분리된 AI 파트를 AWS Lambda를 활용해서
별도의 AI 서버를 통한 로드 밸런싱 없이 다중 처리가 가능하도록 수정했습니다.&lt;/p&gt;
&lt;h2 id=&quot;새로운-이슈의-등장&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%9D%B4%EC%8A%88%EC%9D%98-%EB%93%B1%EC%9E%A5&quot; aria-label=&quot;새로운 이슈의 등장 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;새로운 이슈의 등장&lt;/h2&gt;
&lt;p&gt;해당 기능을 만들면서 단일 변압기 설비에 대한 AI 연산이 많이 발생할 것으로
기대했으나,
시간이 지나 추가된 기획에 의하면 오히려 단일 설비보다
회사 전체 설비에 대한 AI 연산을 돌리는 기능이 많아질 것으로 확인되었습니다.
이런...&lt;/p&gt;
&lt;p&gt;설비 하나의 AI 연산은 약 4~5초 걸리지만,
회사 전체 설비에 대해 AI 연산이 필요하다면 구조적인 개선뿐만 아니라
성능 개선 또한 같이 이루어져야 했습니다.&lt;/p&gt;
&lt;h4 id=&quot;boto3-비동기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#boto3-%EB%B9%84%EB%8F%99%EA%B8%B0&quot; aria-label=&quot;boto3 비동기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Boto3 비동기?&lt;/h4&gt;
&lt;p&gt;처음에는 AWS Lambda 함수 호출을 비동기로 처리하는 것을 고려해 봤습니다.
AWS에서 Lambda를 공식적으로 지원해 주는 Python 라이브러리로 Boto3 가 있습니다.
아래와 같은 방식으로 Boto3 Session을 만들어서 쓰면
AI 연산이 Lambda에서 동기식으로 정상 동작하는 것을 확인할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 동기 방식&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;execute_lambda&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    lambda_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_boto3_session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    function_name &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;substation_lambda&quot;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Lambda 함수 실행&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; lambda_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;invoke&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        FunctionName&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;function_name&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; Payload&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dumps&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;loads&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;다만 ‘성능’과 ‘동시성’ 처리를 위해
&lt;strong&gt;비동기 방식으로 요청하기 위해 여러 삽질이 있었고,
Boto3 1.26.94 버전 공식 매뉴얼에서 해당 기능이 deprecated 되었고,
응답 코드만 받아올 수 있다는 결론을 얻게 되었습니다.&lt;/strong&gt; &lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# 비동기 방식&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;execute_lambda_async&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;payload&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    lambda_client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_boto3_session&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# Lambda 함수 실행&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; asyncio&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get_running_loop&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;run_in_executor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        lambda_client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;invoke&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;FunctionName&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;substation_lambda&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; payload&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Payload&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;read&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;decode&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;utf-8&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기까지 오기에도 많은 시간과 에너지를 소모했지만, 뭔가 2% 부족했습니다.&lt;/p&gt;
&lt;p&gt;실제로 많은 변전소 설비와 DGA 데이터를 담고 있는 Excel 파일을 Bulk Upload할 때
동기식으로 연산하게 되면 많은 시간이 소요되었습니다.&lt;/p&gt;
&lt;h4 id=&quot;동기식-처리시-소요-시간&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0%EC%8B%9D-%EC%B2%98%EB%A6%AC%EC%8B%9C-%EC%86%8C%EC%9A%94-%EC%8B%9C%EA%B0%84&quot; aria-label=&quot;동기식 처리시 소요 시간 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동기식 처리시 소요 시간&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; asset &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; asset_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# AI Input 데이터 추출&lt;/span&gt;
        feature &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_feature&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 시작&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; execute_lambda&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; Exception&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ai Lambda 연산 중에 에러가 발생했습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 결과 저장&lt;/span&gt;
        save_result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    elapsed_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; end_time &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time  &lt;span class=&quot;token comment&quot;&gt;# 경과 시간 계산&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string-interpolation&quot;&gt;&lt;span class=&quot;token string&quot;&gt;f&quot;실행 시간: &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;elapsed_time&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;초&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;실행시간: 760.14 초&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6fa07e748eb3a9289f1e97173bf4d01e/01dae/flask_4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAB9UlEQVR42nXRTWvUQBgH8P2InuoXEDwWwYOfwUM9iPUk9CBSPAh6a9EWKmq1a3fZ3bxuNm2ym5dJZiaZmcxMJiEZU5WuPfjnOT3w4//AM9Jac6kQkykiYQxSWCAq8oK0bctrnhTJ3DXsK8ePfNt3rJWNKOq6Tv/OSOseU57Xepngb1PzfOZkos+qRggpWhGy5OzixI4cc+NcWOOJO41pqtrmL+77DhEe5HhmnBvOT8P+Hm7MMC8gRBNj5k4+xJ9fpov3RYO5lsMkFZC1HGSv+5HuuxSSuEC2fbKYfzSNT1E0NrxlliPLNbzjvcnBo/Xrh755irSALR6ah5u2OC9YhFHFXSWdRnlRMvsyvtysIz8Kg+WZf/Dgx7P7wbsnIbCJFsmA/20e8BrmRbEgxChLA2L7OgWEMq44UMXVyQt3f2f6fCf8+irveEKTO82wrCKYUWoTYpbELkt7nUNWSSoI7liaOcs3u9O9e/7hbhTPgEB3MOFqAzOM5yVxKbVyOA+yAQsmK6QQ1iq5fOscPo6OnyLvFNSkVnL7KlJJwJoQomuQhSBNSgaqRtaqqivWcapFXAa5cwSso4ynQMJa1bdY10oVlA/HZ5iikqewtFwvjuMgCFzPXSebktNCcKpqVnMmWd/3W3ybP1tKyWp1g28SxQgh/Z/8Agx9V3b/PT2gAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여러 개의 AI 연산을 동기식으로 처리&quot;
        title=&quot;여러 개의 AI 연산을 동기식으로 처리&quot;
        src=&quot;/static/6fa07e748eb3a9289f1e97173bf4d01e/0b533/flask_4.png&quot;
        srcset=&quot;/static/6fa07e748eb3a9289f1e97173bf4d01e/fac75/flask_4.png 125w,
/static/6fa07e748eb3a9289f1e97173bf4d01e/63868/flask_4.png 250w,
/static/6fa07e748eb3a9289f1e97173bf4d01e/0b533/flask_4.png 500w,
/static/6fa07e748eb3a9289f1e97173bf4d01e/01dae/flask_4.png 721w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;여러 개의 AI 연산을 동기식으로 처리&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;병렬처리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC&quot; aria-label=&quot;병렬처리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;병렬처리&lt;/h3&gt;
&lt;p&gt;Boto3 라이브러리에서 비동기를 지원하지 않는다면 파이썬 기본 기능을 이용해
자체적으로 &lt;strong&gt;Thread&lt;/strong&gt;와 &lt;strong&gt;Process&lt;/strong&gt;를 활용해 구현해 보기로 했습니다.
참고로 보통 아래의 상황에서는 Thread나 Process를 사용해서
해당 작업을 병렬로 실행하는 것을 권장합니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;애플리케이션이 I/O를 처리할 때는 운영 체제가 스트림을 처리해서
결과를 돌려줄 때까지 계속 대기한다.
이 시간 동안 애플리케이션을 멈춰 있다.&lt;/li&gt;
&lt;li&gt;애플리케이션이 CPU를 사용하여 계산할 때 CPU 중 하나만 사용한다.
다른 CPU는 유휴상태로 있다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;thrad-vs-process&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#thrad-vs-process&quot; aria-label=&quot;thrad vs process permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thrad VS Process&lt;/h4&gt;
&lt;p&gt;Python 언어에서는 C#, Java와 달리 GIL(Global Interpreter Lock)이란
골칫거리 녀석이 있습니다.
GIL은 ‘파이썬 전역 인터프리터 락’의 줄임말로 CPython이 Byte 코드를
실행할 때마다 Thread에 Lock이 걸리게 됩니다.
그러다 보면 Thread 여러 개로 애플리케이션을 확장하더라도 GIL로 인해
모든 Thread가 이 GIL을 차지하기 위해 경합하게 되고, 성능이 떨어지게 됩니다.&lt;/p&gt;
&lt;p&gt;반면에 멀티 Process를 사용하게 되면 한 번에 많은 작업을 실행할 수 있습니다.
GIL이 관여하지 않으므로 Thread보다 빠르지만,
Process 사이에는 어떤 메모리 공간도 공유되지 않기 때문에
Process에서 다른 Process로 전환하기 위해서는
상태 없이 (stateless) 동작해야 한다는 조건을 만족해야 합니다.
또한 Process를 사용하게 되면 네트워크 비용이 더 증가할 수 있다는
단점이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;정리하면 I/O 작업을 동시에 처리할 때는 Thread가 효율적이고,
CPU 사용량을 최대로 끌어올리려면 많은 프로세스를 사용하는 게 효율적입니다.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Lambda 같은 경우도 Backend 서버에서 Lambda 함수를 호출하는 I/O 작업이기에
Thread가 좀 더 효율적일 것이라 기대했습니다.
다만 Python의 GIL에 의한 성능저하가 우려되어 Thread를 사용할 때와
Process를 사용할 때를 비교해, 더 효율적인 것을 사용하기로 했습니다.&lt;/p&gt;
&lt;h4 id=&quot;병렬처리-오류&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC-%EC%98%A4%EB%A5%98&quot; aria-label=&quot;병렬처리 오류 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;병렬처리 오류&lt;/h4&gt;
&lt;p&gt;해당 파이썬 코드에서 사용할 병렬처리 라이브러리로 &lt;code class=&quot;language-text&quot;&gt;concurrent.futures&lt;/code&gt;를
선택했습니다.
기존 코드에서 Lambda를 돌릴 함수와 해당 함수에 Input 값을 넣어줄 부분을
묶어서 하나의 병렬처리를 위한 함수로 구현하면
Thread와 Process 모두 동일한 에러가 발생했습니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;TypeError(&quot;&apos;dict&apos; object is not callable&quot;)&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;ProcessPoolExecutor&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;        &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ProcessPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; asset &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; assets
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    save_result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;process_asset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 Input 데이터 가공&lt;/span&gt;
        feature &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_feature&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 시작&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; execute_lambda&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; Exception&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ai Lambda 연산 중에 에러가 발생했습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;TreadPoolExecutor&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;        &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ThreadPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
                executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; asset &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; assets
            &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
                    save_result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;process_asset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 Input 데이터 가공&lt;/span&gt;
        feature &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_feature&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# AI 연산 시작&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; execute_lambda&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; Exception&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ai Lambda 연산 중에 에러가 발생했습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;가능성이 있어 보이는 코드에는 모두 예외 처리를 했음에도 예외를 타지 않는
에러가 발생했고,
ChatGPT의 도움을 받아보니 아래 공유 데이터에 대한 이슈가 해결의 실마리처럼
보였습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;“스레드 간에 공유되는 데이터에 대한 접근 충돌이 있는지 확인합니다.
스레드 간의 동시 접근을 막기 위해 동기화 메커니즘을 사용할 수 있습니다.”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ebe603b6ce0112285ae8d396ed1ed53c/394f7/chat_gpt_1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAACgklEQVR42m2U6XKbQBCE9WaxrVvWAUISIHGDLlvylaQqbz+ZbzhclcqPYZcdtrene5bebHUQPzyJty1sDA8X2QVHWW9y2ewq8fdnCTRYI8+42ZWyj672znyxjOSx78pkFkhvrI/FKpKlE8vKTcVZ5xqZzZdOIq6X2TvjvPmOOQQIx/KpYsQyGG2k97w4SHH8lDS/a7zJIb5KVrxLefqSovqU0/W3HM8/bSRfHb/kdPklZw3Gl9sfqTTPnulzAOBeouRVgV4sKG/jlzKabGU43tqpBPPR1Nf1nczmobFl73y+l/7QszzRmz6HVkZbCkGp8+WhlkHLQU/KW7mJBd/4jabkaqnSGpDNlZYXpzcptfS8+tBSP6y89aYQJGmB0Imx1dY0VH1ZxwcDHGsZc3VpptRhxUkw4yPeqcDyWh4l1uYljRGRHQhL1im953q5MUPUYF+3AWuOMShtI62y9avO7V1QyVbXjKGbdq1kgIjMSegAExNf1yaz2gAY4h6VTNUMeo31Nsi131rbgAp6nN0kye4aN2PbzmlgGNTMtOHNnJoVQVdgDuw7QMrBiCjR1tGgJzEpLd5sA/p4DRDA4eFsOtJagPx4dORpsK4BeXDFAEgUCMCsfLcxTl+NaabAHAg4QBBYW3upQRrIgiQd4FZF5obso4vd5UCDTZTUNr2BqJu+GhcoQw5hHUn4HhPNFAARmhdot8G7xcDTi//PWnMz2j39YZ0zhlwjGCKs/W3sL3L8ftfTGSkXVrQYlbQMMS5XiULNNzcltiSL/ACYc0vQEQ3rW3PvjIpVgp0eGCooecDJcSCtYzcFy+v/X2ku0pc099JJbaSKB3WSf97/4uHJ7Vz+C+R9rsIkc84NAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;ChatGPT 와의 대화&quot;
        title=&quot;ChatGPT 와의 대화&quot;
        src=&quot;/static/ebe603b6ce0112285ae8d396ed1ed53c/0b533/chat_gpt_1.png&quot;
        srcset=&quot;/static/ebe603b6ce0112285ae8d396ed1ed53c/fac75/chat_gpt_1.png 125w,
/static/ebe603b6ce0112285ae8d396ed1ed53c/63868/chat_gpt_1.png 250w,
/static/ebe603b6ce0112285ae8d396ed1ed53c/0b533/chat_gpt_1.png 500w,
/static/ebe603b6ce0112285ae8d396ed1ed53c/394f7/chat_gpt_1.png 707w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;ChatGPT 와의 대화&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;병렬처리-해결&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC-%ED%95%B4%EA%B2%B0&quot; aria-label=&quot;병렬처리 해결 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;병렬처리 해결&lt;/h4&gt;
&lt;p&gt;GPT의 도움을 받아 고민해 보니 병렬 처리에 사용되는 &lt;code class=&quot;language-text&quot;&gt;process_asset&lt;/code&gt; 함수가
마음에 걸렸습니다.&lt;/p&gt;
&lt;p&gt;Lambda 함수를 실행하기 전에 Input 값을 만들어 주는 함수가
&lt;strong&gt;공유 데이터에 대한 이슈&lt;/strong&gt;와 더불어 &lt;strong&gt;DB session까지 물고 있었기&lt;/strong&gt;에
문제의 원인이라 생각됐고,
전반적인 레거시 코드를 수정하고 병렬처리로 사용할 &lt;code class=&quot;language-text&quot;&gt;process_asset&lt;/code&gt; 함수를
Lambda 실행 부분만 포함하도록 분리해 정상적으로 실행되게 만들 수 있었습니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;[Before]&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;process_asset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 Input 데이터 가공&lt;/span&gt;
    feature &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_feature&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; asset&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 시작&lt;/span&gt;
    result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; execute_lambda&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; Exception&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ai Lambda 연산 중에 에러가 발생했습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;[After]&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;process_asset&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 시작&lt;/span&gt;
    result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; execute_lambda&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;raise&lt;/span&gt; Exception&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Ai Lambda 연산 중에 에러가 발생했습니다&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; result&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;병렬처리-성능-비교&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B3%91%EB%A0%AC%EC%B2%98%EB%A6%AC-%EC%84%B1%EB%8A%A5-%EB%B9%84%EA%B5%90&quot; aria-label=&quot;병렬처리 성능 비교 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;병렬처리 성능 비교&lt;/h3&gt;
&lt;h4 id=&quot;4개-thread로-돌릴-때-시간-확인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4%EA%B0%9C-thread%EB%A1%9C-%EB%8F%8C%EB%A6%B4-%EB%95%8C-%EC%8B%9C%EA%B0%84-%ED%99%95%EC%9D%B8&quot; aria-label=&quot;4개 thread로 돌릴 때 시간 확인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4개 Thread로 돌릴 때 시간 확인&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;TreadPoolExecutor - 4 worker&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 데이터 추출&lt;/span&gt;
    features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_features&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI Lambda 연산&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ThreadPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; feature &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; features
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            save_result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    elapsed_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; end_time &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time &lt;span class=&quot;token comment&quot;&gt;# 경과 시간 계산&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;실행 시간: 126.87955212593079초&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;8개-thread로-돌릴-때-시간-확인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#8%EA%B0%9C-thread%EB%A1%9C-%EB%8F%8C%EB%A6%B4-%EB%95%8C-%EC%8B%9C%EA%B0%84-%ED%99%95%EC%9D%B8&quot; aria-label=&quot;8개 thread로 돌릴 때 시간 확인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;8개 Thread로 돌릴 때 시간 확인&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;TreadPoolExecutor - 8 worker&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 데이터 추출&lt;/span&gt;
    features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_features&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI Lambda 연산&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ThreadPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; feature &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; features
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            save_result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    elapsed_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; end_time &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time &lt;span class=&quot;token comment&quot;&gt;# 경과 시간 계산&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;실행 시간: 197.9756360054016초&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;4개-process로-돌릴-때-시간-확인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#4%EA%B0%9C-process%EB%A1%9C-%EB%8F%8C%EB%A6%B4-%EB%95%8C-%EC%8B%9C%EA%B0%84-%ED%99%95%EC%9D%B8&quot; aria-label=&quot;4개 process로 돌릴 때 시간 확인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4개 Process로 돌릴 때 시간 확인&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ProcessPoolExecutor - 4 worker&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 데이터 추출&lt;/span&gt;
    features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_features&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI Lambda 연산&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ProcessPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; feature &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; features
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            MtrAPI_RusultUpload&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    elapsed_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; end_time &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time  &lt;span class=&quot;token comment&quot;&gt;# 경과 시간 계산&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;실행시간: 276.74906373023987&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&quot;8개-process-로-돌릴-때-시간-확인&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#8%EA%B0%9C-process-%EB%A1%9C-%EB%8F%8C%EB%A6%B4-%EB%95%8C-%EC%8B%9C%EA%B0%84-%ED%99%95%EC%9D%B8&quot; aria-label=&quot;8개 process 로 돌릴 때 시간 확인 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;8개 Process 로 돌릴 때 시간 확인&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ProcessPoolExecutor - 8 worker&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;    start_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# AI 연산 데이터 추출&lt;/span&gt;
    features &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; get_features&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; company_id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI Lambda 연산&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;with&lt;/span&gt; futures&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ProcessPoolExecutor&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;max_workers&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; executor&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        futures_list &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
            executor&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;submit&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;process_asset&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; feature&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; feature &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; features
        &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;# AI 알고리즘 연산 결과 저장&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; future &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; futures_list&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        result &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; future&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; result &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
            MtrAPI_RusultUpload&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;session&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;response&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    end_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; time&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;time&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    elapsed_time &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; end_time &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; start_time  &lt;span class=&quot;token comment&quot;&gt;# 경과 시간 계산&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;실행시간:212.99634408950806&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3e921d164d16c8e7ed7cb5efa21ff210/6bbf7/flask_5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACBUlEQVR42mWSS2/TQBSF+xeRWCC2FX+AHWIFC3asgGWLiFhQFsCigbRNIFBIm4fjiITEdur4XY9jz4xnPGPHj8SkjVAoHOnu7qd77tHZKctytVoRFocsAQGCIcFRjAjjcVwUBWJoZutTQ7WAdWGq0kz2CcyLvLzWznryPHfDhYnTlig1WqLiYD9eYRpn2QIWUWt41pOEqTfrSf3zUdehLkv4Ddj0selOgTeynL7nDWRd9YLQtG2hX3c7r4BwAKnNygUvY5SHmIZXfjdwmmU6gAgOxU6l394X2vuDwYfO+ZHlumr77eTgwcXert6q+AUPMhikCBF8Da+u4CzLrDkC3mBuV4F1CKyqotS67UNlOj4TTweV+z+f3ZFf3tPkJio5TNGfyxs4zw0POY5A4JcInjBUt+ymIp1+/9aYALP79c3oxd3O01v6x8cuA6ggKERbOM8Lx0eXl/0w+EyDIxrUTKOuTn/omqICbeYbzdePxs9vT/Z2LelkHWFI8fbnYrkEOFpHBb068WuRXzWMhmn2PGAJY9EgYCgez949ND49QcP3fkYopzfSnpNEn2PxlzAcNxW1NVH7pjninPoMznlgE8fVW7507ELdzzBL2BZeW2CcR3wBQzaHIcQRxBQiRCk1LSOk6/owkiRRmiZZyhO+XC7/hv/VuluyLGuaJklSkiSbFv6/9hskRFBoQrUvJQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;여러 개의 AI 연산을 병렬로 처리&quot;
        title=&quot;여러 개의 AI 연산을 병렬로 처리&quot;
        src=&quot;/static/3e921d164d16c8e7ed7cb5efa21ff210/0b533/flask_5.png&quot;
        srcset=&quot;/static/3e921d164d16c8e7ed7cb5efa21ff210/fac75/flask_5.png 125w,
/static/3e921d164d16c8e7ed7cb5efa21ff210/63868/flask_5.png 250w,
/static/3e921d164d16c8e7ed7cb5efa21ff210/0b533/flask_5.png 500w,
/static/3e921d164d16c8e7ed7cb5efa21ff210/6bbf7/flask_5.png 716w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;여러 개의 AI 연산을 병렬로 처리&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;결론&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론&lt;/h3&gt;
&lt;p&gt;기존의 Substation 제품에서 동시에 AI 연산을 할 수 없었던 근본적인 문제를
해결하기 위해 Lambda를 활용해서 동시다발적으로 처리할 수 있도록 아키텍처를
변경했고,
예상한 대로 I/O 작업을 하는 병렬처리 작업에서는
Multi Process보다 Multi Thread가 성능상 이점을 가진다는 것을
확인할 수 있었습니다.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Excel Bulk Upload 기준 성능 향상 지표&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/bc639605e74b4eaf4d87a62cab8a0bbe/6c2f2/result.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABIElEQVR42nVRa3OCQAzk//+9dkaroGiRAsdb4LgX2+RA2g9tZpiQZbPZhCAXFd6PEfKiwim6Ibx+oml7RHGCYxijKGt8hIxTfY6Jc8ckpc9vhxDnyx2H0xWX24PwGcE4SYiygVLGA1xb65BmAmleelwp7YXruoOaNbS2kLOCJP78ykrBGouAyU33hHUOy7J4MY6q6VGTU4J8DOPkRTiWDeQ8jBLOvWogYIG2H0jI+mfemtKsxONL7OSOOOyew9Fw+OEWomphjGE5PyDQ2kATwI3G2t0FiyWpWJv/EsTKL+kMhlbdBaVUqDaQRfWWRdkSuSUXq8P+OdKN1Sa4+PX4G5/FGPez8u978MSZbsrvGf31JC3+dcgczi3dn/tYjR1+AxKFHpJbUPzsAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;표&quot;
        title=&quot;쓰레드와 프로세스 성능비교&quot;
        src=&quot;/static/bc639605e74b4eaf4d87a62cab8a0bbe/0b533/result.png&quot;
        srcset=&quot;/static/bc639605e74b4eaf4d87a62cab8a0bbe/fac75/result.png 125w,
/static/bc639605e74b4eaf4d87a62cab8a0bbe/63868/result.png 250w,
/static/bc639605e74b4eaf4d87a62cab8a0bbe/0b533/result.png 500w,
/static/bc639605e74b4eaf4d87a62cab8a0bbe/1d69c/result.png 750w,
/static/bc639605e74b4eaf4d87a62cab8a0bbe/6c2f2/result.png 767w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;쓰레드와 프로세스 성능비교&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;데이터분석 준전문가 (Advanced Data Analytics Semi-Professional)&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;&lt;a href=&quot;https://boto3.amazonaws.com/v1/documentation/api/1.26.94/reference/services/lambda/client/invoke_async.html&quot;&gt;invoke_async - Boto3 Docs 1.26.94 documentation&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[좋은 동료와 함께 자라기]]></title><description><![CDATA[시작 흉내만 낼 것인가? 스터디 시작 전 당시 어느 날 평소처럼 개발 결과물을 PR하고 리뷰를 기다렸다.
다양한 리뷰 중 내 마음에 불을 지핀 리뷰가 있었으니...  그렇다. 나는 Repository Pattern…]]></description><link>http://onepredict.github.io/growing-up-with-good-peers/</link><guid isPermaLink="false">http://onepredict.github.io/growing-up-with-good-peers/</guid><pubDate>Wed, 18 Oct 2023 02:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;시작&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%9C%EC%9E%91&quot; aria-label=&quot;시작 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;시작&lt;/h2&gt;
&lt;h3 id=&quot;흉내만-낼-것인가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%9D%89%EB%82%B4%EB%A7%8C-%EB%82%BC-%EA%B2%83%EC%9D%B8%EA%B0%80&quot; aria-label=&quot;흉내만 낼 것인가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;흉내만 낼 것인가?&lt;/h3&gt;
&lt;p&gt;스터디 시작 전 당시 어느 날 평소처럼 개발 결과물을 PR하고 리뷰를 기다렸다.
다양한 리뷰 중 내 마음에 불을 지핀 리뷰가 있었으니...&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/68864cace9d58e7e82650e16388f0fa8/8c857/code-review.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 81.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACW0lEQVR42m1U25KaQBDdt+wGr6AiyFVAREXBXTVVsSpVyVP+/4NO+jQOMal9ONXdM0P36Rsv1SZDWW6xDHM4boix42EwWfQYTl0MVXf7s5G9/BTT+QovaRhhV9U4fXxHku+Qbg5Iiz3irNNXcdHZvNPzSoM8Bx08AqrDt7GwsD34UQFPWHrhGq4fw10RCRZ+Ai/gWSJ2KlhjLvpsGctdqnLuJZjMfMXLWKja4nnupXD8HKN5DMsOMHQCDJxQMaS0Q1iTJazxXBlRGp3pkrU6pGEvAgSp1DE5ICzOCPIWbrwTu4afNXDl3FufEBUnLFaGaQfW3aQ9mUnK1mgm7GJE6wpBnKOojkjzSlJPESS51KzEKsrkvkS5bxFKYOphWorcqtO3odM5ZA3deIsg26tTdvjVsvWBJbX9Yk0VtF8H9j+6AdOm076GiyDHvrnhx6/fuN1/4tDe0F7vKHaNsD2pZLfZXdNlykjkRu7ozI9yKVvYOSQjGhyLINloGs/wwkzHgY/HDxg2PGcPvkrZyFTHJogiqVmpI8BO8YKpMDUD84EZ9L9D39mmy+qwLjM0xwabwzvystZUOMxkS3aUTOm5m5/DDPZwhilTls1gB1kjOqWkze1hRxnEcSMZ5AgOIQGMNA3tB5uUdSMeTLr03D5FPib4jh9xbp+h/wDWlQz5MYtfS3e3hzOq+l31fXNVfSvYnS4iz3J2QX3+pji0V31Tn2/9t1zJ3mF7uaM6fmi9mJ4vYKq0l7LLBHXuPCV3njUmaNNZv3qsBelqlx97avZ1wJ2l/rS//f1/b9mUPxaeoqAT53pdAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;코드 리뷰&quot;
        title=&quot;코드 리뷰&quot;
        src=&quot;/static/68864cace9d58e7e82650e16388f0fa8/0b533/code-review.png&quot;
        srcset=&quot;/static/68864cace9d58e7e82650e16388f0fa8/fac75/code-review.png 125w,
/static/68864cace9d58e7e82650e16388f0fa8/63868/code-review.png 250w,
/static/68864cace9d58e7e82650e16388f0fa8/0b533/code-review.png 500w,
/static/68864cace9d58e7e82650e16388f0fa8/1d69c/code-review.png 750w,
/static/68864cace9d58e7e82650e16388f0fa8/8c857/code-review.png 761w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;코드 리뷰&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;그렇다. 나는 Repository Pattern을 제대로 알지 않고 사용했다.
한편, 당시 팀에서 여러 고전적인 아키텍처를 기존 제품들에 적용하면서 관련 공부를 해야겠다고 느꼈다.
알고 행동하는 것과 모르고 흉내만 내는 것은 엄연히 다르지 않은가?
그러면서 예전에 추천받은 책 하나가 떠올랐다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/70ff72a41221c8f576a0bc713600191f/066f9/architecture-patterns-with-python.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 128.8%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAEDBQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB1u+ZLwYkbiKF6v/EABoQAAIDAQEAAAAAAAAAAAAAAAEDAhAREgD/2gAIAQEAAQUC7wiZNZp5ymIn2Usj5IMVX//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/ASn/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwEh/8QAIhAAAAQEBwAAAAAAAAAAAAAAAAECMRARIaESICJBgZHh/9oACAEBAAY/AvRRN4PcVVLmByT0w1Ixme4SSnyf/8QAGxABAAIDAQEAAAAAAAAAAAAAAQARECExQXH/2gAIAQEAAT8hbvNPshdPgwl0vcbNmBTdGy0dJJ65Hrsm5QeZ/9oADAMBAAIAAwAAABDDCXD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxAg/8QAHxABAAICAgIDAAAAAAAAAAAAAQARITFBUWGhEHGB/9oACAEBAAE/EDoiUKEMeOIiRq02qfgQpSAHHqWZGehnrZBvXuP1UxqBWnJSPMSXQgUfVLep24AXWcF+DH5BigF2huVe4AaA+p//2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;추천받은 책&quot;
        title=&quot;추천받은 책&quot;
        src=&quot;/static/70ff72a41221c8f576a0bc713600191f/066f9/architecture-patterns-with-python.jpg&quot;
        srcset=&quot;/static/70ff72a41221c8f576a0bc713600191f/aa2ed/architecture-patterns-with-python.jpg 125w,
/static/70ff72a41221c8f576a0bc713600191f/0479a/architecture-patterns-with-python.jpg 250w,
/static/70ff72a41221c8f576a0bc713600191f/066f9/architecture-patterns-with-python.jpg 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;추천받은 책&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;350쪽 남짓한 책으로 DDD, TDD, 이벤트 기반 서비스를 여러 가지 고전적인 아키텍처가 어떻게 지원하는지
Python 코드 예제와 함께 알려주는 책이다.
책을 읽는데 코드 리뷰를 하면서 궁금했던 점들이 점점 해소가 되는 기분이었다.&lt;/p&gt;
&lt;h3 id=&quot;함께-자랄-사람&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A8%EA%BB%98-%EC%9E%90%EB%9E%84-%EC%82%AC%EB%9E%8C&quot; aria-label=&quot;함께 자랄 사람 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;함께 자랄 사람?&lt;/h3&gt;
&lt;p&gt;책을 다 읽고 한 가지 생각이 들었다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;나처럼 지식에 목마름을 느꼈던 동료분들도 함께 하면 좋겠다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;그렇게 Slack으로 글을 공지했고 7명 인원이 함께하는 스터디가 시작되었다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4203af28a3932e4137113d1195c1bced/3996e/study-notice.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 51.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB80lEQVR42oWSy27aUBRF+YkIbAcMNjbGmJcJ+IHfNohEUZuoHUXtpJOoo0gd9BP626vHQKV00g629jlXx+ta+9zOw+svqs/fyfcBZVkRRwkP5YI0cHCcGaPxhPFkxnS2xLBc1P7on+oMzCmL1R2nOqdIY+o8pqkrDlXOsS7IiobmeE/dnJi6CxRtIB8OUW9b6Zf6PbCr9DFtF3+3Z7rc4q4DvFZ+yDpI2ISp9DtUfUyvb5xdaWvdQjWmqEPrL2inq+k47pz5JuLGjVDnMeoyFd+jiCue9IsEbZmjiat+xWCVYsx3aLMA1fKuQOMCVAQ4tD3s+JFNekSf+nSNGT1R96qeeenPZ6aHZjgMR/KXal80oCeMVorE0Gmz6BsSfPbMsn7CyT9ghEesoGZSPGGFB4xthbEMMU2bseVgTVwsxztHZcniLFmaaU/RR9YVKDmEst04rcjKhn1aEGclZXNPklcEcUaYFFI357qsT6RynsjCtmFMuM+J4vwMPgNvBRglJVlWsBUPsoMMpdzJsL+L5KNE+kwuLEmyilCgLfgu2J8vbmd0c4I2MOj0BDge26Thjk+PNf7phcnhizwR75KLBN1mo179vf7kdqkvM50bVSfcrHj9+sLb2w+ev/2kLj9yu4hQVgX23MdbrJnN17je6r8P+zd9HzCdglYzNwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스터디 공지&quot;
        title=&quot;스터디 공지&quot;
        src=&quot;/static/4203af28a3932e4137113d1195c1bced/0b533/study-notice.png&quot;
        srcset=&quot;/static/4203af28a3932e4137113d1195c1bced/fac75/study-notice.png 125w,
/static/4203af28a3932e4137113d1195c1bced/63868/study-notice.png 250w,
/static/4203af28a3932e4137113d1195c1bced/0b533/study-notice.png 500w,
/static/4203af28a3932e4137113d1195c1bced/3996e/study-notice.png 648w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;스터디 공지&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;스터디-여정&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%84%B0%EB%94%94-%EC%97%AC%EC%A0%95&quot; aria-label=&quot;스터디 여정 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스터디 여정&lt;/h2&gt;
&lt;h3 id=&quot;우리가-정한-규칙&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9A%B0%EB%A6%AC%EA%B0%80-%EC%A0%95%ED%95%9C-%EA%B7%9C%EC%B9%99&quot; aria-label=&quot;우리가 정한 규칙 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;우리가 정한 규칙&lt;/h3&gt;
&lt;p&gt;스터디는 매주 1회 시간과 장소를 정해서 1시간 30분 동안 진행했다.
매 회차 2개의 챕터를 진행했으며 챕터마다 호스트를 정했다.
호스트는 챕터에 대해 이야기하고 싶은 주제를 준비해서 스터디 활동 때 공개한다.
그리고 이를 참여자들과 공유하고 논의한다.&lt;/p&gt;
&lt;p&gt;한편, 느슨한 스터디에 긴장감을 주기 위해(?) 우리는 재미있는 규칙을 더했다.
바로, 호스트가 챕터에 대한 퀴즈 2문제를 손수 제작하여서 한 챕터라도 모두 틀린 사람이 커피 사기!&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/65654/senior-hiphop.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACqklEQVR42gGfAmD9ANSxjfPrtea4lNKojNuog9Obf9nRjezseejme+HlTcTDSL+egfLp2vXv4vTt4Prz58zDtm1mVHBoUXRsVQDm2qX025rloVvUyZPv2IvkomDd04nt7X7o54Hm52DW30K2oGTfxLT49enx7OD38ebp4dd2b2BtZk91bVYA+vaW+PG57dGB585969B/2sKF2daJ6+x94eZe3eJS2ONIt7NUu5mE3dzJ9/Po8u7i8+zikIl7Z2BJdm1WAPTyaPPvte7scNzbXdbRk7etmMzFlePkf9rkO9PcPNrhQKq6TFBrR6O0mP737e/r3/v16ce/tGtjUHZuVgDMyIHOyLDDvo24uH62qoqogWmljXivponT2FLS3Dnb4T+HokojWTSMpIf+9uzv7OD48+bY0MZwaFZzbFUAubaHt7OTuLSSrqifoI54sYRqu41ykXVmsK5U5e0+scNGRnFEM2E8vMax+PHn7ure+PPn2dLJb2hWdG1VAMG/e8O/mrWxirOtlLetm5d2XMWOdqJ8ZH+FUJWyYVGBSzhpPmqOZ/v26fz26/Tv5Pfy5trUy3RsXXdvVwDl5k/b3FzW12nd3Jfc2pG0omR4cGRmVUQmNSo3VTg8XzkrUC9relK7taqyr6jc2M779enc1s1+d2t3b1gA7/JX7vQ/6O1T5uxr6ueVb2xNGFlTJi0tOzo4ODk3MDEwIyQjICEfHR0dEBARoJ2W///y3tfOhX91d29YAOvwSOPtP+PoTuTqVNfajXprThUTEBYVFxsaHhcXGhwZHBQSFBIQEw8PDwAAAJ6blP//9N/Z0IZ/dXdwWgDo7lPl7V3l61/l6Hzv8pm5oXEkJh0ZJBsdKiobKScYIxgcJxwXIxkzNjE8OTi0sKj//fHd1s2AenB5cluhRIlanFwCMwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;시니어 힙합&quot;
        title=&quot;시니어 힙합&quot;
        src=&quot;/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/0b533/senior-hiphop.png&quot;
        srcset=&quot;/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/fac75/senior-hiphop.png 125w,
/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/63868/senior-hiphop.png 250w,
/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/0b533/senior-hiphop.png 500w,
/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/1d69c/senior-hiphop.png 750w,
/static/a5b1da1fbdebf4a82b4ea50c8a0a92ea/65654/senior-hiphop.png 872w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;시니어 힙합&lt;/figcaption&gt;
  &lt;/figure&gt; &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h3 id=&quot;스터디-내용&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8A%A4%ED%84%B0%EB%94%94-%EB%82%B4%EC%9A%A9&quot; aria-label=&quot;스터디 내용 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;스터디 내용&lt;/h3&gt;
&lt;p&gt;투명한 물에 잉크를 한 방울 떨어트렸을 때 잉크가 퍼지는 현상이 자연스러운 것처럼,
질서를 두지 않으면 소프트웨어 시스템도 혼돈 상태로 향하려는 경향이 있다.&lt;/p&gt;
&lt;p&gt;예를 들어, 사용자에게 알림을 주는 웹 서버 기능을 만든다고 하면
API 핸들러 안에 도메인 지식이 있고 이메일을 보내고 로그를 남기는 것이다.
이렇게 되면 모든 요소가 다른 요소와 결합해 있어서 시스템의 일부를 바꾸기가 어렵다.
이 시스템을 큰 진흙 공(big ball of mud) 안티패턴이라고 말한다.&lt;/p&gt;
&lt;p&gt;우리는 크게 2단계에 걸쳐서 무질서한 소프트웨어 시스템에 질서를 부여하는 방법을 공부했다.
간단하게 소개하면, 1부는 도메인 모델링을 지원하는 아키텍처 구축에 대해 다룬다.
도메인 모델링으로 간단하게 음미하고 이를 위한 저장소, 서비스 계층, 작업 단위 패턴을 맛보았다.
2부는 확장성 있는 시스템을 위해 1부에서 배운 기법을 활용해서 분산 시스템에 적용하는 방법을 다룬다.
도메인 이벤트, 메시지 버스, 핸들러 패턴을 맛보고 읽기와 쓰기 관심사 분리를 위한 CQRS를 거쳐
여러 어댑터에 의존성을 전달하기 위한 의존성 주입으로 마무리했다.&lt;/p&gt;
&lt;h3 id=&quot;와우-포인트&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%99%80%EC%9A%B0-%ED%8F%AC%EC%9D%B8%ED%8A%B8&quot; aria-label=&quot;와우 포인트 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;와우! 포인트&lt;/h3&gt;
&lt;p&gt;일반적으로 와우 포인트(Wow Point)는 고객이 프로덕트의 가치를 깨닫는 순간으로 일컫는다.
그만큼 놀라운 경험을 했다는 점인데, 개인적으로 스터디 활동을 통해서 와우 포인트를 느꼈었다.&lt;/p&gt;
&lt;p&gt;스터디를 통해 여러 아키텍처 패턴에 대한 이해도가 팀 내부적으로 상승하게 되면서
한층 더 깊은 양질의 코드 리뷰와 논의가 이루어질 수 있게 되었다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;비즈니스 로직에 집중하기 위해 어떤 패턴을 도입할 수 있을지?&lt;/li&gt;
&lt;li&gt;DB 세션 객체를 인스턴스 화하는 곳을 어떤 계층에 두어야 해야 할지?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/890ca50015ed201135ca86e3d5540ae0/738b8/code-review2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 147.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAELElEQVR42p1V13LjRhDkk+2TxJxAgmDOWcxBgadk2eXy//9Nu3uApcirq3vww9QOFrsTenpmY63uCOP5GoPJEs3uGOVqm9KBV2ki51VN8uU6ssXAdK0FfqfzPhIZ70qS2RJi6VwZtfYQ9+sjRvONrZLOcI5Ko4daa2AiR3JYbfbR6IxQClqIp4tXIqOxeGRZh1r9KYbTFTqDGep0Esgg11ZvgnKtg9tEDnepAm6TeVuvDRZCgxYqo/TrvXOaXqVlERT9hu2VGJ30rCAo1Zh2FRlLvcHzNRT8ht2T4ZjLXWn5jEIXJcJJa4hp2y45w4q8REcuTUkYpfdlsNocRNI3qdS7lm6DuCllh52cSpcTpX2ZuqUsY5lChRcnLELfCmE6IQj4LSis6kHbdKWpdHVHWXiVtlX+jGE8FSryrEOigy5ozdrFAIkI9MtIXJpf6UYRFoIOgtbIKCGPKRbIiUvnR779SmiwjcFsg/nqgMn91qgjLAXwDWni5Fs8e/X9o4hK55Rvkzl0R/cY0+B0uUd/vKC+ISfX5qRLks/ocDhbo8dzA+6PGIS6SzKarU0EWcxSo/Xt8YSH0xueXj/x+P1PHJ7f8fLxD57f/sbx9IGnl088v/5l+4/UT9x/+/zX/un88fRu5GeVCWrWR7kxht+asDjdMyfFN9HD8U508Uh498/1viimvUSGvZzMFJH0OogHS8QrS3xLlvDbTRK/36av5A9bU/wXitPP/+8yXzxM0OhgssCEw2FMmS52mHNACD8VS7hKBuzz1f7Z/umcVsOW+8JZVIulaFD0EOCb43esDyfsHl6x3D3hfnPEcvuI7cOLXZbRIzHUWfW6iB80w2ZQj1sv27ShZfWoo4fC13qp30ST5pIml7S5ixokNu23sF2TDpOVjSxNmjy95aLJUogGhdggI7fJwtlY+P0lZjDNKnu8MJqtyLG58Uyc0kzsk2MSYSRnciTRSCsHGnFNS12V9iqNcGKr1LLeHW+wOLxjsthbIWbESxNcxiQTFYr79d4CfneF6mCLoMe1t0G1v0Wp1rPihlUmmPlKD/nqkEO0hiIjzkfpuvRddEW/Gb4xel/szamHQ5e6YDGDAnS1fyLjP1jhF4tO1NG6Jk0WrLTRabnDYvNg3SKx94ffYoPYocJGBoscnmO0iZsGqiJSIdwrp8jUp+7lK0QZyIAbc3fMUoFFxPYwY0TimLgoEffUsxbN07tFqSjsjFb2sPU4+3v3+GpNYMSWQRVF4cuQBoAuqSNkwF3QZTmRA+naC4fCB/bUH6jrzQkNMtQ256CMKhJXXX3P1wdb5UDdM4taUdgJX0Umimk4CI5YIprIeb/DjqkSh/xPp7TwURUTmk7E3EHl/qmbDMMM39i8T5LW+0gV60hGr+DPJPGLf+7ZiNU6UzSHq/DxZiX1KP1vKVbxH+QLHiRVQhSmAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Wow 한 코드 리뷰 중 일부&quot;
        title=&quot;Wow 한 코드 리뷰 중 일부&quot;
        src=&quot;/static/890ca50015ed201135ca86e3d5540ae0/0b533/code-review2.png&quot;
        srcset=&quot;/static/890ca50015ed201135ca86e3d5540ae0/fac75/code-review2.png 125w,
/static/890ca50015ed201135ca86e3d5540ae0/63868/code-review2.png 250w,
/static/890ca50015ed201135ca86e3d5540ae0/0b533/code-review2.png 500w,
/static/890ca50015ed201135ca86e3d5540ae0/738b8/code-review2.png 639w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Wow 한 코드 리뷰 중 일부&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;동료들과-스터디-여정을-마무리하며&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EB%A3%8C%EB%93%A4%EA%B3%BC-%EC%8A%A4%ED%84%B0%EB%94%94-%EC%97%AC%EC%A0%95%EC%9D%84-%EB%A7%88%EB%AC%B4%EB%A6%AC%ED%95%98%EB%A9%B0&quot; aria-label=&quot;동료들과 스터디 여정을 마무리하며 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동료들과 스터디 여정을 마무리하며&lt;/h2&gt;
&lt;p&gt;어느 날 일정 주기마다 여러 DAQ로부터 수백 개의 센서 데이터를 수집하고 가공하는 작업을
어떻게 효율적으로 할 수 있을지 의견을 나누었다.
마치 자기 일인 것처럼 너도나도 의견을 주는 점에서 내 주변에 좋은 동료들이 있다는 점을 느꼈다.&lt;/p&gt;
&lt;p&gt;서로 다른 환경에서 자라고 배우고 왔지만, 빅데이터 기반의 설비 유지관리 비즈니스를 풀고 싶다는 흥미와 열정으로 한곳에 모인 동료들이다.
동료들과 다음에는 어떤 문제를 풀기 위해 어떤 스터디를 할지 기대가 된다.&lt;/p&gt;
&lt;p&gt;여담으로, 제목을 함께 자라기로 지은 이유는 우리의 스터디가 곧 함께 자라기로 이어지기 때문이다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e929dd5e1c1994387fe68ebd5d9185f8/8c557/study-member.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 74.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAENklEQVR42h2U6VPTVxSGf1/ttHVKxc7UYmt1tFKBpAkCUTESUIIRJZAJAVm0uEDdAIOsCZA4ggRQlEU0FAUqsgnVYhpApIiyRIxgyxZRRuu/8fQ3/XBn7nnPzHPfOe+ZKyzNTfFm8QXu6VGcjl5GnjxicmoUt/s54xMjTLmeivdxFubdeBZneTLsoK+vg1JLIQmJcfxqv0bemeO02K+zODeL4Fl4gWdpmuUlN3fb7MjlEsy5Z/B4XjPz2sXM7BQr7xeZcI3R+6Ab1/QYY88e/w/8Oe0w3Z3NtNrMPO7vEh8VgR/fz7Gy/EqEvqS2poyLKRG0Xcpm5cMSHz4s8u9HD10P7lNWbCTxQBhXa68wMNiP3qAlrzCTrKxf8PZew5Hkw8y6JxCSUxPRiU2t7hCyQAkntbtR7gjkZusdRqdcFBQXodyrJk6zl5iInZzLMVJxyUR++kE6K/MZezRAe10VbVeLWZ6fRvh8jRervFaz1mcdGzZtxF8qYZu/Lxu2+aMIVyOX+iH9ScI3vgF4f7eZ5CMpmNPjuXI2nrbyEt5OvGPu6RIPenpZfvMPQqAihP1796EIlrPFdzPHNMHUZSVxOi2OJF0sRn0UqQYj4REGNBoN1ZaL3Kq20FRlptaYSHNFA+P9HlyPF2isr0OIi1LRZcmhMjOV0xl6Eg4oMWUkEhMdgVZ/GUVYLtGxVnIzrIREJGCzlDHQ1cTI7UpailKoyz/NcNNtXj2aocbWgNBgOsq1LLFxVkvs/lD2hIdRUJRLlOjGL+QUW0KsBO02EqvLRr47hoiwUJJSUmguv8Bg7QXRzDEqzyTT1uTEYm1EOCEWaq0aQ3wkmvDtyGQBmEwF2GxWNm7dxZGMemIOXyYy5ijnMrNJStARqYkiMyOV3lIDtpw0TuZdp/TWIOnnzQiqGDW7ovYQolYRrAwiOEiKOlJFUpKe80d1NDVcwV5v49Sp4xj0sbSY4lFu34pEJqXn5iWaOp1Y7U7OV3RgLhdnGH1QhSxMgSJyF9LQIAKVCuJ00dRWlVJpyaWsJI80MRipTM667zdTlh5NrNJfDCiSzoeDVN1zMfTkLxpuNVNudyCkJ6jw8fsByQ4pqkPh7BBDyjtmoL/WQnWlle722xQbT/CplzebtkkoN6Zgr7HQ0dZIQ2sfPUNuFmbG8Pw9KdZ/IJSVFPDlurV8sno1q77w4jPvr9iwfr14fEg2HOJ+91367t0hVB6AxO9H2ltvMPXMIQJvYGtsxzk6yauJIUacv1NYaEIYHHrO/mg9Mt8tpMftJNMQytc+36JTyVHt3E7F5XKuiQGZtYEM1Bh5+WKYydGHolZCTn4xDke/6G6Cvs5WinKzEfo7uxlvr2KxI5u3HZk4bWlIA/ypOrGP6nM6uu61cLe5jnpxTZ457Lybf8prEfqbqFVcLGT4zx5WxH9gzj3G2/mX/Ac4puL5GkqjRAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;스터디에 함께한 동료들&quot;
        title=&quot;스터디에 함께한 동료들&quot;
        src=&quot;/static/e929dd5e1c1994387fe68ebd5d9185f8/0b533/study-member.png&quot;
        srcset=&quot;/static/e929dd5e1c1994387fe68ebd5d9185f8/fac75/study-member.png 125w,
/static/e929dd5e1c1994387fe68ebd5d9185f8/63868/study-member.png 250w,
/static/e929dd5e1c1994387fe68ebd5d9185f8/0b533/study-member.png 500w,
/static/e929dd5e1c1994387fe68ebd5d9185f8/8c557/study-member.png 700w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;스터디에 함께한 동료들&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;빅데이터 기반의 설비 유지관리 서비스로 세상을 혁신하고 싶은 분들은 주저하지 마시고
onepredict에 &lt;a href=&quot;https://blog.onepredict.ai/&quot;&gt;지원&lt;/a&gt;해주시길 바란다.&lt;/p&gt;
&lt;p&gt;끝으로, 책 내용에 대한 동료들의 스터디 소감으로 글을 마무리한다. 😃&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;진흙 공을 이미 작성하고 있는 입장에서, 아키텍처 분리에 대한 좋은 가이드가 되었다. &lt;br&gt;
― 김태훈 onepredict PdX-dev팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;평소 아무 생각 없이 적용하던 패턴들에 대해서, 왜 이런 패턴이 나왔는지, 어떤 게 효율적인지에 대해 알고 나니 조금 더 효율적으로 개발할 수 있을 거 같다. &lt;br&gt;
― 김정형 onepredict PdX-dev팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;책에 있는 코드를 실질적으로 활용할 수 있을진 모르겠지만 큰 개념들이 잘 해설되어 있어 적용해 볼 수 있는 것들을 많이 배울 수 있는 책이었다. &lt;br&gt;
― 김현우 onepredict PdX-dev팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;DDD를 도입하고 싶어요 (매우) &lt;br&gt;
― 박기범 onepredict PdX-dev팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;어려운 책이었지만 스터디를 통해 반강제적으로(?) 다 읽을 수 있었다. 업무를 하면서 드는 의문도 책을 통해 해소하기도 하고 실무에서 참고하기 좋은 책이었다. &lt;br&gt;
― 김아별 onepredict TD-BE팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;파이썬 언어답게, 동시에 좋은 아키텍처를 설계하기 위한 방법이 많이 녹여져 있어서 좋았다. 따로 공부했던 여러 기법을 좀 더 구체화하는 느낌. &lt;br&gt;
― 장진수 onepredict TD-BE팀&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;출처는 전국노래자랑 KBS 14.08.24 방송이다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[파이콘 발표 후기]]></title><description><![CDATA[Intro 아샬님이 입사하신 지…]]></description><link>http://onepredict.github.io/pycon-retrospect/</link><guid isPermaLink="false">http://onepredict.github.io/pycon-retrospect/</guid><pubDate>Wed, 11 Oct 2023 07:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;아샬님이 입사하신 지 1주 정도 지났을 겁니다.
갑자기, 뜬금없이 제 자리에 오시더니&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;아샬: 현우님, 파이콘 나가세요.&lt;/p&gt;
&lt;p&gt;나: ??? 그게 뭐..죠..?&lt;/p&gt;
&lt;p&gt;아샬: (검색 결과를 보여주며) 이런 파이썬 컨퍼런스가 있습니다. 나가보시죠.&lt;/p&gt;
&lt;p&gt;나: 아.. 그런데 제가 파이썬 시작한 지도 얼마 안 됐고 해서.. 제가 발표할 실력이 될 지 모르겠네요.. ㅎㅎ&lt;/p&gt;
&lt;p&gt;아샬: 어우 아니에요~ 그런 거 상관없어요. 고등학생도 나와서 발표하고 그래요. 자, 보세요!&lt;/p&gt;
&lt;p&gt;나: 아..하 그렇군요..! 그럼, 한번 지원해 보겠습니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;대학생 시절에도 발표 울렁증이 있었던 걸 알기에 완곡히 거절하려 했으나, 실패했습니다.&lt;/p&gt;
&lt;p&gt;지원해도 선정이 되겠어? 라는 생각과 함께 제안서를 써서 제출했습니다.&lt;/p&gt;
&lt;p&gt;근데 선정이 됐습니다(?!).&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/e549830da5178b525f1664478e87337f/f2f8c/pycon-email.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAABYlAAAWJQFJUiTwAAABVElEQVR42oWS646CQAyFeed9q30P9++SEAEDyEVXuYjc5Cos+zkj7C/jSWjaoWd62o4yz3Pf91EUXa/XeAHhj0AYhtjz+Xy5XE6nE2HTNHmec9i2rXK7j3Xfw8yLIk3TfEFRFI1AXdfkdV13q2vC+zgOw8DhOI7Kx9f3p+kkgW/v97vdjiL8qKqKjPkdlKwfyq5L4liWRR6ay7KUv39f40GWPTuO47qubdumaRqGgWNZFh0mSYLgl5X5aEnX9e12u9lsNE3DEqqqynXwkbPODxwOB1pD5pNMe0EQcMQ8fd9HBUkQ8DkktBcwFBTJuTC8BxlhloDneY4AedKBzyF1mMVqAbtAkSS3ewF0ko1UfLQcj0cc2m4FGA3VOgHCf9kQuFU+DywhLeCzMyrEYhe8BS7CZlmGnabpSZapgGowWRXC5MLkVl5Om7cin1QhHtm65Ld7/gNqBKCYOBOUNAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;선정메일&quot;
        title=&quot;&quot;
        src=&quot;/static/e549830da5178b525f1664478e87337f/0b533/pycon-email.png&quot;
        srcset=&quot;/static/e549830da5178b525f1664478e87337f/fac75/pycon-email.png 125w,
/static/e549830da5178b525f1664478e87337f/63868/pycon-email.png 250w,
/static/e549830da5178b525f1664478e87337f/0b533/pycon-email.png 500w,
/static/e549830da5178b525f1664478e87337f/1d69c/pycon-email.png 750w,
/static/e549830da5178b525f1664478e87337f/00d43/pycon-email.png 1000w,
/static/e549830da5178b525f1664478e87337f/f2f8c/pycon-email.png 1490w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;큰일 났습니다. 왜 선정이 됐는지는 모르겠지만, 선정된 이상 발표를 준비해야 합니다.&lt;/p&gt;
&lt;p&gt;어떤 주제를 선정할까부터 고민했습니다.&lt;/p&gt;
&lt;p&gt;회사에서 제품의 알고리즘 앱의 속도 개선을 위해 병렬처리를 해본 경험을 기반으로 &apos;&lt;strong&gt;파이썬에서의 병렬처리&lt;/strong&gt;&apos;라는 주제로 발표를 준비했습니다.&lt;/p&gt;
&lt;p&gt;과거의 파이콘 발표 자료들도 찾아보고, 유튜브 영상도 찾아보며 발표를 준비했습니다.&lt;/p&gt;
&lt;p&gt;회사 분들을 대상으로 발표 연습도 했습니다.&lt;/p&gt;
&lt;p&gt;그리고 실제로 발표를 했습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/cc237f154702bba943cf592ff4e6894b/72e01/pycon-stage.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABn0EwNsxLP//EABoQAAMAAwEAAAAAAAAAAAAAAAABAgMSIiP/2gAIAQEAAQUCJnhzRsoJyWz2Z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAABAhEhMTJhkf/aAAgBAQAGPwIi7Zhrw2VB2l0cj//EABsQAAICAwEAAAAAAAAAAAAAAAABESExUWFB/9oACAEBAAE/IZaUWIcRbWydhdHuXqhlW9qAtaqwf//aAAwDAQACAAMAAAAQMy//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EGlKYf/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxAXJ//EABwQAQADAAIDAAAAAAAAAAAAAAEAETEhoUGR0f/aAAgBAQABPxBCCReAuEgZWnsIcDxr1FiHHBGvVbUACDQgu4QUO1inyf/Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;파이콘현장&quot;
        title=&quot;&quot;
        src=&quot;/static/cc237f154702bba943cf592ff4e6894b/41099/pycon-stage.jpg&quot;
        srcset=&quot;/static/cc237f154702bba943cf592ff4e6894b/aa2ed/pycon-stage.jpg 125w,
/static/cc237f154702bba943cf592ff4e6894b/0479a/pycon-stage.jpg 250w,
/static/cc237f154702bba943cf592ff4e6894b/41099/pycon-stage.jpg 500w,
/static/cc237f154702bba943cf592ff4e6894b/acb04/pycon-stage.jpg 750w,
/static/cc237f154702bba943cf592ff4e6894b/a2510/pycon-stage.jpg 1000w,
/static/cc237f154702bba943cf592ff4e6894b/72e01/pycon-stage.jpg 1024w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;느낀-점&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8A%90%EB%82%80-%EC%A0%90&quot; aria-label=&quot;느낀 점 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;느낀 점&lt;/h2&gt;
&lt;p&gt;제게 있어 파이콘은 큰 도전이었습니다.&lt;/p&gt;
&lt;p&gt;발표를 많이 해본 경험도 없고, 정말 많은 청중을 대상으로 하는 발표 경험은 아예 없었으며, 파이썬을 시작한 지도 얼마 되지 않았기 때문입니다.&lt;/p&gt;
&lt;p&gt;다뤄본 경험을 바탕으로 최대한 쉽고 재밌게 설명해 봤습니다.&lt;/p&gt;
&lt;p&gt;“사실은 제가 지구를 지키는 비밀 요원입니다.”가 제 발표 시작 멘트였죠. 민속놀이인 스타크래프트에 빗대어 설명하기도 했습니다.&lt;/p&gt;
&lt;p&gt;회사 분들 앞에서 연습할 당시에 반응은 괜찮았던 것 같은데, 청중분들 반응은 떨려서 제대로 보진 못했네요.&lt;/p&gt;
&lt;p&gt;중간중간 말을 더듬기도 했고 연습했던 때보다 시간도 모자라서 QnA 시간도 갖지 못했지만, 어찌어찌 발표는 잘 끝냈던 것 같습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 210px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/60b5393518e6e4280841179fbf1cd79f/65ed1/mistaken.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVR42nVT+U8aURDmX+z/0aS1TTVWrVc82qTRtEWh3tjaosVgLNIWORdE8AQpLDfuciw3soDKcvSD1wIx6fwwmX1vvplvvnkrav6zRqMRDodjsRjP81GWLZVK0WiUYdhqtVqpVDiOS6fT5XKZZBKIqNljRqPRZDIlk0m9Xs+y7MVly/x+fzAYdDqdXq+Xpun/gtHT4/EgAEAQBGBOTk6y2azP50PPXC6HhIfgRtvIN0jCA4kTAPL5Qm/2AxP1ztyo1zFeVRDIJylEKvY26ILv7u48bbPZbHa7fWNDhplxAe9wOKBTPB53uVyFQgF1b25u4Gu12l9wvV7XaDSYChNCaovFAhjUQoyGGBgA5OBEp9PtKnbVanVH8xZtlI9EIshGScQoVCwWe7UgPhQKGQwGbARcumBoq1Qq0T+fz4M5QaIbPPKwHgK+vb0Fu0QigU5E9hY4lUpRJtPZ2RnAuOiV9/7+npAkh1g1wzCYHyW6q+r0gTYdwh3rEDk9PcVc0BglumD4miDgeZrNZiiP1N7dCO3lQUitVkt64MG0wCSjxPM6rQbagqe9bXinFEXZ7FaNfh8hdIJaZIuBQADNO52bayuSrc01wgIX+CWsVqteR31VSEfmHlHGY6v1KJPJIAG6YG1dtQMB/+Rov+anmjAMh0PBgD+TSWdS6YvLUwN1wDIsurnd7nK5xHGJbDbTBduOre/n32CFiKH2xtaXbYUywXEtIWp1odp6T9X2a0eQzeYIhRa4WEgeqreXxdMGrapcrrDR2MD4lHRVHGe9TIROsN7YtTsScIT9TibkyiSCbJi+PKNyuVRrZj70rUiLuYt3Qctb2iL+bV5UyEZWJC9kS/3S+SdbHwevTJJDtVy1t63clV+ZpGWflPcuBk9W+VJFVOO+N+NrsqXJ0YmJ2dnx6enRweGhqbHHArOep5fSrgXfuSLP18DYH4r+2l+uRpab8U9FesHjMIli5ys+7diPzYEdSZ9c8vzzh2frc09Vq33X5pmQcSZqfX2uemWQD1E7Q0eKl1cHwwHduE87ETZOmPdm/gDm0SGD/QRWpwAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;나만의착각&quot;
        title=&quot;&quot;
        src=&quot;/static/60b5393518e6e4280841179fbf1cd79f/65ed1/mistaken.png&quot;
        srcset=&quot;/static/60b5393518e6e4280841179fbf1cd79f/fac75/mistaken.png 125w,
/static/60b5393518e6e4280841179fbf1cd79f/65ed1/mistaken.png 210w&quot;
        sizes=&quot;(max-width: 210px) 100vw, 210px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;발표 후 제일 아쉬웠던 부분은 제 발표 제목과 내용이었습니다.&lt;/p&gt;
&lt;p&gt;&apos;파이썬에서의 병렬처리&apos;라는 제목이라면, 발표를 들으러 오시는 분들은 병렬처리와 관련된 개념 설명부터 시작해서
그와 관련된 깊은 내용, 실제 구현하는 과정 등의 내용을 듣기를 기대하고 오셨을 것 같았습니다.&lt;/p&gt;
&lt;p&gt;제 발표는 그런 내용보다는, 알고리즘 앱의 속도 개선을 위한 경험이라는 제목이 어울릴 법한 내용들로 구성되어 있었습니다.
알고리즘 앱의 구조 설명, 문제점 설명 및 이를 위한 해결 방법으로 병렬처리를 활용했으며, 실제로 활용하는 방법 등을 설명했죠.&lt;/p&gt;
&lt;p&gt;물론 좋았던 점도 있습니다.&lt;/p&gt;
&lt;p&gt;실력자분들의 발표 세션을 들으면서 우물 안 개구리였다는 걸 느끼게 되는 계기가 됐습니다. 마치 처음 해외여행 나와서 느낀 기분 같았습니다.&lt;/p&gt;
&lt;p&gt;저보다 훌륭하신 개발자분들이 많음을 실제 피부로 느끼게 되어서인지 더 열심히 공부하고 성장해야겠다는 동기부여도 됐습니다.&lt;/p&gt;
&lt;p&gt;내년 파이콘을 나가게 된다면 더 잘 준비해서 질의응답 시간도 갖고 싶다는 생각이 들었습니다. (물론 나가게 될 경우라면 말이죠!)&lt;/p&gt;
&lt;h2 id=&quot;outro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#outro&quot; aria-label=&quot;outro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outro&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;나: 아샬님, 그런데 왜 하필 저보고 파이콘 나가보라고 하셨던 건가요?&lt;/p&gt;
&lt;p&gt;아샬: 그냥요! 아무 이유 없습니다!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 218px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a07805fe0bd0a401a15d51386694626b/6e1aa/nothing.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 80.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAACBv/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAF+Rnl6GNUf/8QAHBAAAgICAwAAAAAAAAAAAAAAAQIDEQQSExQj/9oACAEBAAEFAnGxRakW6Mw7c8nI+KPD/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQMBAT8Bh//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPwGsf//EABsQAAIDAAMAAAAAAAAAAAAAAAABAhESITFx/9oACAEBAAY/AhOkmcj1eaoUYX6R32f/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMVFx/9oACAEBAAE/IaErh3MgobwNbPqwuJSGDkWj6i9jvrP/2gAMAwEAAgADAAAAEGsP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QAj//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFx/9oACAECAQE/EF4Wl//EABwQAQACAwADAAAAAAAAAAAAAAERIQAxQVGhwf/aAAgBAQABPxB4MgFEz6SJzI3oNHFWAesG6k9V8zchlGBLmDizk3mKogmOeKMiiBBsS3ef/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그런건없다고한다&quot;
        title=&quot;그런 건 없다&quot;
        src=&quot;/static/a07805fe0bd0a401a15d51386694626b/6e1aa/nothing.jpg&quot;
        srcset=&quot;/static/a07805fe0bd0a401a15d51386694626b/aa2ed/nothing.jpg 125w,
/static/a07805fe0bd0a401a15d51386694626b/6e1aa/nothing.jpg 218w&quot;
        sizes=&quot;(max-width: 218px) 100vw, 218px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;그런 건 없다&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;제게 소중한 경험을 안겨주신 아샬님께 감사드립니다!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[객체지향 파이썬을 위하여]]></title><description><![CDATA[아샬이 파이콘 2023 Day 2
라이트닝 토크 때 발표한 내용을 풀어서 쓴 글입니다. 이유를 알 수 없는 오해 파이썬은 대표적인 객체지향 프로그래밍 언어입니다.
C++의 연장선에 있길 원했던(그리고 대체재가 되는 데 성공한) Java…]]></description><link>http://onepredict.github.io/python-web-application-architecture/</link><guid isPermaLink="false">http://onepredict.github.io/python-web-application-architecture/</guid><pubDate>Tue, 03 Oct 2023 23:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;아샬이 &lt;a href=&quot;https://2023.pycon.kr/&quot;&gt;파이콘 2023&lt;/a&gt; Day 2
라이트닝 토크 때 발표한 내용을 풀어서 쓴 글입니다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;이유를-알-수-없는-오해&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%9D%B4%EC%9C%A0%EB%A5%BC-%EC%95%8C-%EC%88%98-%EC%97%86%EB%8A%94-%EC%98%A4%ED%95%B4&quot; aria-label=&quot;이유를 알 수 없는 오해 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;이유를 알 수 없는 오해&lt;/h2&gt;
&lt;p&gt;파이썬은 대표적인 객체지향 프로그래밍 언어입니다.
C++의 연장선에 있길 원했던(그리고 대체재가 되는 데 성공한) Java와 달리,
기존 방식에 타협하지 않고 객체지향에 집중할 수 있게 설계된 언어죠. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;
하지만 많은 사람들은 파이썬이 &lt;strong&gt;강력한 객체지향 언어&lt;/strong&gt;라는 사실을 잊고
있습니다.
심지어 객체지향 프로그래밍 언어인지 의심을 품기도 하죠.
아마 &lt;strong&gt;쉬운 언어&lt;/strong&gt;라는 홍보에, 객체지향이란 (상대적으로) 어려운 측면이 가려진
게 아닌가 싶기도 합니다.&lt;/p&gt;
&lt;p&gt;파이썬을 정말로 쉽게 쓰고 있나요?
쉽다는 건 어떤 의미인가요?
파이썬으로 작성된 기존 프로젝트를 유지보수하면서 쉽다고 느끼시나요?
혹시 어렵다는 느낌을 받고 있진 않나요?
입문하기 쉽다고 했지, 유지보수가 쉽다고 하진 않았다고요?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;그럴 리가요.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;그렇다면 대체 뭐가 문제인 걸까요?&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAMEBQL/xAAYAQEAAwEAAAAAAAAAAAAAAAAEAAECA//aAAwDAQACEAMQAAABxepIuuwuatUOqmEF/8QAGhAAAgIDAAAAAAAAAAAAAAAAAQIQEQADEv/aAAgBAQABBQKWQrNnnYorP//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIv/aAAgBAwEBPwGJhn//xAAXEQADAQAAAAAAAAAAAAAAAAACEBEx/9oACAECAQE/AbUOr//EABkQAAEFAAAAAAAAAAAAAAAAABAAERJBUf/aAAgBAQAGPwI6Y0nH/8QAGRABAAMBAQAAAAAAAAAAAAAAAQAQESGh/9oACAEBAAE/IZzKM3xYQ3y6EOyY1//aAAwDAQACAAMAAAAQrDC//8QAGBEAAgMAAAAAAAAAAAAAAAAAARAxQbH/2gAIAQMBAT8QQIbOr//EABYRAQEBAAAAAAAAAAAAAAAAAAEQEf/aAAgBAgEBPxAA0jcz/8QAGxAAAgMBAQEAAAAAAAAAAAAAAREAMUEQIVH/2gAIAQEAAT8QgBJRGwhaIkijvAj+cAX0lKJnuAco8//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;술이 문제야&quot;
        title=&quot;술이 문제야&quot;
        src=&quot;/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg&quot;
        srcset=&quot;/static/d239e511c0817fb5c89d7866a0bc23cc/aa2ed/drunk-on-love.jpg 125w,
/static/d239e511c0817fb5c89d7866a0bc23cc/0479a/drunk-on-love.jpg 250w,
/static/d239e511c0817fb5c89d7866a0bc23cc/066f9/drunk-on-love.jpg 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;술이 문제야&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;객체지향 패러다임이 등장한 건 소프트웨어 개발 및 유지보수의 복잡성을 관리하기
위함인데, 객체지향 언어인 파이썬을 쓰면서 왜 이런 문제를 겪게 되는 걸까요?
혹시 우리가 사용하는 도구(파이썬과 다양한 패키지)는 객체지향적이지만,
우리가 작성하는 코드는 여전히 절차지향적인 게 아닐까요?&lt;/p&gt;
&lt;h2 id=&quot;절차지향이란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%88%EC%B0%A8%EC%A7%80%ED%96%A5%EC%9D%B4%EB%9E%80&quot; aria-label=&quot;절차지향이란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;절차지향이란?&lt;/h2&gt;
&lt;p&gt;흔히 “절차지향 프로그래밍”이라 옮기는 “Procedural Programming”은 좀 더 정확히
번역하면 “프로시저 중심의 프로그래밍”이라고 할 수 있습니다. &lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;
기존에는 하나의 거대한 프로그램에서 GOTO 등을 통해 분기 및 반복 처리를 했다면,
프로시저라는 작은 프로그램 단위를 만들어서 활용하자는 패러다임이죠.&lt;/p&gt;
&lt;p&gt;커다란 프로그램을 작은 부분으로 나눠서 복잡성을 통제한다는 아이디어는 매우
훌륭하지만, 거칠게 이야기하면 우리가 프로시저로 분해한 건 데이터 조작에 관한
겁니다.&lt;/p&gt;
&lt;p&gt;만약 우리가 단순한 CRUD를 다루는 프로그램을 만든다면 이런 접근법으로도 충분할
겁니다.
하지만 우리는 좀 더 복잡한 비즈니스 규칙을 다루려고 하고, 단순히 데이터 조작에
관한 코드를 분해하는 것만으론 충분하지 않다는 걸 깨닫게 되죠.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7a47c775202f7c93dbd1aa9a193a5776/72e01/kick-me.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 41.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABysBEB//EABcQAAMBAAAAAAAAAAAAAAAAAAECBAD/2gAIAQEAAQUCmnXFVKkyHf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAICAgMAAAAAAAAAAAAAAAECACIDETFBYf/aAAgBAQAGPwINl74WWUGbuvgn/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAERMYH/2gAIAQEAAT8hk27iSTLE0NarwP/aAAwDAQACAAMAAAAQ88//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAxIWFxof/aAAgBAQABPxCdCVZslqeaMlqanIQ+ZzcGyoet5//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Kick Me!&quot;
        title=&quot;절...차&quot;
        src=&quot;/static/7a47c775202f7c93dbd1aa9a193a5776/41099/kick-me.jpg&quot;
        srcset=&quot;/static/7a47c775202f7c93dbd1aa9a193a5776/aa2ed/kick-me.jpg 125w,
/static/7a47c775202f7c93dbd1aa9a193a5776/0479a/kick-me.jpg 250w,
/static/7a47c775202f7c93dbd1aa9a193a5776/41099/kick-me.jpg 500w,
/static/7a47c775202f7c93dbd1aa9a193a5776/acb04/kick-me.jpg 750w,
/static/7a47c775202f7c93dbd1aa9a193a5776/a2510/kick-me.jpg 1000w,
/static/7a47c775202f7c93dbd1aa9a193a5776/72e01/kick-me.jpg 1024w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;절...차&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;객체지향이란&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%B4%EB%9E%80&quot; aria-label=&quot;객체지향이란 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;객체지향이란?&lt;/h2&gt;
&lt;p&gt;절차지향에서 우리는 커다란 프로그램을 프로시저라는 단위로 나눠준다고 했습니다.
그렇다면 객체지향은 어떨까요?
객체지향에서 우리는 커다란 프로그램을 객체라는 단위로 나눠줍니다.&lt;/p&gt;
&lt;p&gt;객체는 데이터와 연산(프로시저, 메서드)을 하나로 묶어줍니다(캡슐화).
데이터는 오직 연산을 통해서만 변경 가능하고, 우리는 메시지를 통해
연산을 실행하도록 요청합니다.
즉, 다른 객체의 상태를 확인하지 않고, 그저 원하는 바를 시키게 됩니다.
이를 “Tell-Don&apos;t-Ask” 원칙이라고 하죠. &lt;sup id=&quot;fnref-주3&quot;&gt;&lt;a href=&quot;#fn-주3&quot; class=&quot;footnote-ref&quot;&gt;주3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;한마디로 객체지향은 “자율적인 객체의 협력”이 핵심이라고 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그렇다면 객체는 어떻게 협력할까요?
아니, 어떻게 협력하는 게 효과적일까요?&lt;/p&gt;
&lt;p&gt;UML의 아버지라 불리는 Grady Booch는
“Object-Oriented Analysis and Design with Applications”에서
복잡성을 제어하는 계층 구조란 아이디어를 소개합니다. &lt;sup id=&quot;fnref-주4&quot;&gt;&lt;a href=&quot;#fn-주4&quot; class=&quot;footnote-ref&quot;&gt;주4&lt;/a&gt;&lt;/sup&gt;
그리고 이 계층 구조는 크게 둘로 나눌 수 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;타입을 계층화&lt;/li&gt;
&lt;li&gt;행동을 계층화&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;타입을 계층화하는 건 우리가 생물을 분류하는 것과 유사합니다.
생물을 동물과 식물로 나누고,
이를 다시 &lt;code class=&quot;language-text&quot;&gt;동물계 - 척삭동물문 - 포유강 - 식육목 - 고양잇과&lt;/code&gt;로 나누는 거죠.
그리고 &lt;code class=&quot;language-text&quot;&gt;고양잇과&lt;/code&gt;엔 &lt;code class=&quot;language-text&quot;&gt;고양이&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;호랑이&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;삵&lt;/code&gt; 등이 포함됩니다. &lt;sup id=&quot;fnref-주5&quot;&gt;&lt;a href=&quot;#fn-주5&quot; class=&quot;footnote-ref&quot;&gt;주5&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4e4a024da8eee8423c6902eea137e038/c60f3/leopard-cat.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 59.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgT/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAFL8lRpAf/EABoQAAIDAQEAAAAAAAAAAAAAAAECABEhEhP/2gAIAQEAAQUCWDWaul2WfTCf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAwADAAAAAAAAAAAAAAAAAAERAhAh/9oACAEBAAY/AiTSLR3FPp//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMVFhgZH/2gAIAQEAAT8he79QjI6spZkAmPM1FfsANl32U2h1c//aAAwDAQACAAMAAAAQUy//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QXWL/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFRYYH/2gAIAQEAAT8QOkVcTzcHpVhYPjGBi1dL9wqMCbS6g/rMpxUECC1cPGM//9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;칡 짤&quot;
        title=&quot;저는 “칡”입니다&quot;
        src=&quot;/static/4e4a024da8eee8423c6902eea137e038/41099/leopard-cat.jpg&quot;
        srcset=&quot;/static/4e4a024da8eee8423c6902eea137e038/aa2ed/leopard-cat.jpg 125w,
/static/4e4a024da8eee8423c6902eea137e038/0479a/leopard-cat.jpg 250w,
/static/4e4a024da8eee8423c6902eea137e038/41099/leopard-cat.jpg 500w,
/static/4e4a024da8eee8423c6902eea137e038/c60f3/leopard-cat.jpg 636w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;저는 “칡”입니다&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;이렇게 타입을 계층화하는 기법이 바로 “상속”이죠.&lt;/p&gt;
&lt;p&gt;하지만 더 중요한 게 있습니다.
바로 행동을 계층화하는 거죠.
커다란 조직은 피라미드 형태로 계층화가 되고, 위에서부터 아래로 목표가
전달됩니다.
즉, “위임”을 하게 되는 거죠.
한마디로 우리는 위임을 통해 복잡성을 통제하게 됩니다.&lt;/p&gt;
&lt;p&gt;그렇다면 이제 본질적인 질문으로 들어가 보겠습니다.
어떻게 계층 구조를 만들어야 효과적일까요?&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3d31cd70778aa37e6868299c2dd3c310/72e01/pyramid.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 125.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAIBAwQF/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAAB2UvRz3oGJcMdFaQsD//EABoQAAMBAQEBAAAAAAAAAAAAAAABAhIREEH/2gAIAQEAAQUCIrXlUsw+MuK1ymSnk+n/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwEh/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERIQIQEiBx/9oACAEBAAY/Ah6gtRpvjKLxv0vp/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBEFFx/9oACAEBAAE/ISqlewncfrAIO8MTjDmx6gdqcbqVWz0ICLl+RP/aAAwDAQACAAMAAAAQ9zCx/8QAGREAAgMBAAAAAAAAAAAAAAAAAAEQETFB/9oACAEDAQE/EGuFQw//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAECAQE/EE9LSiR//8QAHBABAAMBAQADAAAAAAAAAAAAAQARITFBUWGh/9oACAEBAAE/EKt27a3cSwAgHKvyAHAvtMCEsoHQexws9V8ro59wnFVXkUBwBoPj8impAEdO2wpqTaMj7PU5n//Z&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Pyramid of Capitalist System&quot;
        title=&quot;&quot;
        src=&quot;/static/3d31cd70778aa37e6868299c2dd3c310/41099/pyramid.jpg&quot;
        srcset=&quot;/static/3d31cd70778aa37e6868299c2dd3c310/aa2ed/pyramid.jpg 125w,
/static/3d31cd70778aa37e6868299c2dd3c310/0479a/pyramid.jpg 250w,
/static/3d31cd70778aa37e6868299c2dd3c310/41099/pyramid.jpg 500w,
/static/3d31cd70778aa37e6868299c2dd3c310/acb04/pyramid.jpg 750w,
/static/3d31cd70778aa37e6868299c2dd3c310/a2510/pyramid.jpg 1000w,
/static/3d31cd70778aa37e6868299c2dd3c310/72e01/pyramid.jpg 1024w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;계층을-나누는-기준&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%84%EC%B8%B5%EC%9D%84-%EB%82%98%EB%88%84%EB%8A%94-%EA%B8%B0%EC%A4%80&quot; aria-label=&quot;계층을 나누는 기준 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;계층을 나누는 기준&lt;/h2&gt;
&lt;p&gt;컴퓨터 과학엔 “관심사의 분리”라는 오래된 설계 원칙이 있습니다. &lt;sup id=&quot;fnref-주6&quot;&gt;&lt;a href=&quot;#fn-주6&quot; class=&quot;footnote-ref&quot;&gt;주6&lt;/a&gt;&lt;/sup&gt;
관심사를 나누는 방법은 여러 가지가 있지만, 우리는 다시 오래된 기준을
활용하겠습니다.&lt;/p&gt;
&lt;p&gt;바로 “비즈니스 관심사”와 “기술 관심사”란 기준이죠.
흔히 “비즈니스 도메인과 UI를 섞지 않아야 한다”고 이야기하던 거고,
최근에는 “DB가 아니라 비즈니스 도메인을 중심으로 설계해야 한다”고 이야기하는
것이죠.
프로그래밍을 처음 배웠던 시절로 돌아가면, &lt;code class=&quot;language-text&quot;&gt;Input - Process - Output&lt;/code&gt;이란 틀에
맞춰서 코드를 작성하던 게 여기에 속한다고 볼 수도 있습니다.&lt;/p&gt;
&lt;p&gt;이를 “Layered Architecture”라고 하고, 전통적으론 크게 3개의 계층으로 나누게
됩니다. &lt;sup id=&quot;fnref-주7&quot;&gt;&lt;a href=&quot;#fn-주7&quot; class=&quot;footnote-ref&quot;&gt;주7&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref-주8&quot;&gt;&lt;a href=&quot;#fn-주8&quot; class=&quot;footnote-ref&quot;&gt;주8&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;User-side
Application
Data-side&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;일반적인 웹 개발에서 User-side와 Data-side는 다음과 같습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;Web (User-side)
Application
DB (Data-side)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Flask와 SQLAlchemy를 통해 기술적 세부 사항을 추상화한다면 다음과 같이 표현할
수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;Flask (User-side)
Application
SQLAlchemy (Data-side)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 기술적 세부 사항을 다른 걸로 교체해 봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;txt&quot;&gt;&lt;pre class=&quot;language-txt&quot;&gt;&lt;code class=&quot;language-txt&quot;&gt;FastAPI (User-side)
Application
ormar (Data-side)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서 주목할 부분은, 기술적 세부 사항이 바뀐다고 해도 비즈니스 도메인을
다루는 Application Layer는 변함이 없다는 겁니다.
Eric Evans는 “도메인 주도 설계”에서 비즈니스 도메인에 집중하는 객체들을
Domain Layer로 분리하고, Application Layer는 이를 위한 진입점으로 활용합니다.
&lt;sup id=&quot;fnref-주9&quot;&gt;&lt;a href=&quot;#fn-주9&quot; class=&quot;footnote-ref&quot;&gt;주9&lt;/a&gt;&lt;/sup&gt;
Uncle Bob은 클린 아키텍처에서 Application Layer에 명확히 Feature(Use Case)가
드러나게 하고, 이를 “소리치는 아키텍처”라고 설명합니다. &lt;sup id=&quot;fnref-주10&quot;&gt;&lt;a href=&quot;#fn-주10&quot; class=&quot;footnote-ref&quot;&gt;주10&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref-주11&quot;&gt;&lt;a href=&quot;#fn-주11&quot; class=&quot;footnote-ref&quot;&gt;주11&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;중요한 건 우리가 비즈니스 관심사와 기술적 관심사를 &lt;strong&gt;분리&lt;/strong&gt;했다는 거고,
비즈니스 관심사를 &lt;strong&gt;자율적인 객체의 협력&lt;/strong&gt;으로 구성할 수 있다는 겁니다.&lt;/p&gt;
&lt;h2 id=&quot;어떻게-조립할까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%A1%B0%EB%A6%BD%ED%95%A0%EA%B9%8C&quot; aria-label=&quot;어떻게 조립할까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어떻게 조립할까?&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8f5565b7c5118a62ce9027ef0a275219/b4294/tobot-xyz-integration.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 58.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAgX/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQT/2gAMAwEAAhADEAAAAeluNmOIJhT/AP/EABgQAQEBAQEAAAAAAAAAAAAAAAECEQAS/9oACAEBAAEFAgyMzrmfQ6NPNK//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREi/9oACAEDAQE/AU8lP//EABgRAAMBAQAAAAAAAAAAAAAAAAABESIx/9oACAECAQE/AZmMXD//xAAaEAABBQEAAAAAAAAAAAAAAAAAAQIRICEx/9oACAEBAAY/AsIcdWn/xAAcEAEAAgEFAAAAAAAAAAAAAAABABEQITFhcaH/2gAIAQEAAT8hHRbypuHlg14Eet7wL4s//9oADAMBAAIAAwAAABAPP//EABcRAAMBAAAAAAAAAAAAAAAAAAABQWH/2gAIAQMBAT8QVAsn/8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAIf/aAAgBAgEBPxAAujdcXf/EAB0QAQADAAMAAwAAAAAAAAAAAAEAESExQWFRkbH/2gAIAQEAAT8QovCpppp96lE2rNFvqCiH0/sKPmY+SIFUuna4yMBL6DP/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;또봇 인티그레이션&quot;
        title=&quot;또봇 X! Y! Z! 트라이탄! 인티그레이션!&quot;
        src=&quot;/static/8f5565b7c5118a62ce9027ef0a275219/41099/tobot-xyz-integration.jpg&quot;
        srcset=&quot;/static/8f5565b7c5118a62ce9027ef0a275219/aa2ed/tobot-xyz-integration.jpg 125w,
/static/8f5565b7c5118a62ce9027ef0a275219/0479a/tobot-xyz-integration.jpg 250w,
/static/8f5565b7c5118a62ce9027ef0a275219/41099/tobot-xyz-integration.jpg 500w,
/static/8f5565b7c5118a62ce9027ef0a275219/b4294/tobot-xyz-integration.jpg 600w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;또봇 X! Y! Z! 트라이탄! 인티그레이션!&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;계층 구조, 의존 관계를 코드로 표현하는 건 상당히 귀찮은 일입니다.
의존 관계를 손으로 적어주는 건 아주 명확하지만, 사실 그렇게 재밌는 일이 아니죠.
우리는 의존 관계를 알고 있고, 이를 자동으로 구성할 방법이 필요합니다.&lt;/p&gt;
&lt;p&gt;그래서 많은 사람들이 IoC 컨테이너 기술을 개발했습니다.
이를 DI 컨테이너라고 부르기도 하는데,
Martin Fowler가 프레임워크가 IoC를 말하는 걸 “내 자동차엔 바퀴가 있다”고
이야기하는 것과 마찬가지라고 하면서 “&lt;strong&gt;Dependency Injection&lt;/strong&gt;(DI)”이란
용어를 제안했기 때문입니다. &lt;sup id=&quot;fnref-주12&quot;&gt;&lt;a href=&quot;#fn-주12&quot; class=&quot;footnote-ref&quot;&gt;주12&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;우리는 IoC 컨테이너를 통해 아주 쉽게 객체를 조립할 수 있습니다.
예를 들어 &lt;code class=&quot;language-text&quot;&gt;Injector&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;Flask-Injector&lt;/code&gt;를 사용한 코드를 보겠습니다.
&lt;sup id=&quot;fnref-주13&quot;&gt;&lt;a href=&quot;#fn-주13&quot; class=&quot;footnote-ref&quot;&gt;주13&lt;/a&gt;&lt;/sup&gt; &lt;sup id=&quot;fnref-주14&quot;&gt;&lt;a href=&quot;#fn-주14&quot; class=&quot;footnote-ref&quot;&gt;주14&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;User-side에서 Application Service에 대한 의존성을 이렇게 써줄 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;post&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/channels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create_channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel_service&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ChanndelService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel_service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_channel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; channel&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;to_dto&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HTTPStatus&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CREATED&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;프로그램을 시작할 때, 다음과 같이 써주면 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create_app&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; app &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; app

    injector &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Injector&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;token comment&quot;&gt;# 여기서 DB 엔진 등에 대한 팩터리를 지정할 수 있습니다.&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;pass&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# 여기서 Flask 엔드포인트에 대한 의존성을 파악하고 주입합니다.&lt;/span&gt;
    FlaskInjector&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; modules&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;configure&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; injector&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;injector&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 테스트 코드는 다음과 같이 작성할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@pytest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fixture&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;channel_service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel_service &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Mock&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    channel_service&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Mock&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
        return_value&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;Channel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; channel_service


&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@pytest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fixture&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel_service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;binder&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        binder&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;bind&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;ChannelService&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; to&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;channel_service&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    FlaskInjector&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;app&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;app&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; modules&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;configure&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;test_client&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_create_channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    response &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;post&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;/channels&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt; response&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;status_code &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; HTTPStatus&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CREATED

    &lt;span class=&quot;token comment&quot;&gt;# 추가로 create_channel 메서드 호출 여부 등 다양한 테스트 가능.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;우리는 User-side와 Application의 &lt;strong&gt;경계&lt;/strong&gt;를 명확히 구분했습니다.
서로 다른 관심사가 섞이는 것을 막을 수 있고, 테스트도 더 쉽게 할 수 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9615c17169c33030c7c4820e8b87fc34/07854/mystic-eyes-of-death-perception.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAHPdJpKIg//xAAaEAEAAQUAAAAAAAAAAAAAAAABAAIQERMh/9oACAEBAAEFAqDmvEYrFbf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAwEBPwGH/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAECEv/aAAgBAgEBPwGbNP/EABcQAAMBAAAAAAAAAAAAAAAAAAARIDH/2gAIAQEABj8CRs//xAAaEAEBAAMBAQAAAAAAAAAAAAABABEhQTFR/9oACAEBAAE/Icj6S6JS9ahYBsY3yV+3/9oADAMBAAIAAwAAABAvH//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESH/2gAIAQMBAT8Q4XIL/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEhEUH/2gAIAQIBAT8Qot4Oqf/EABsQAQACAgMAAAAAAAAAAAAAAAEAETFBIWGR/9oACAEBAAE/ECSsQCF8zbIPXsNhClZCAtAmoBR4kOgIK0z/2Q==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;직사의 마안&quot;
        title=&quot;&quot;
        src=&quot;/static/9615c17169c33030c7c4820e8b87fc34/41099/mystic-eyes-of-death-perception.jpg&quot;
        srcset=&quot;/static/9615c17169c33030c7c4820e8b87fc34/aa2ed/mystic-eyes-of-death-perception.jpg 125w,
/static/9615c17169c33030c7c4820e8b87fc34/0479a/mystic-eyes-of-death-perception.jpg 250w,
/static/9615c17169c33030c7c4820e8b87fc34/41099/mystic-eyes-of-death-perception.jpg 500w,
/static/9615c17169c33030c7c4820e8b87fc34/07854/mystic-eyes-of-death-perception.jpg 534w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;마찬가지로 Data-side와 Application의 &lt;strong&gt;경계&lt;/strong&gt;를 명확히 구분해 봅시다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@inject&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ChannelService&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel_repository&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ChannelRepository

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; channel_repository&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ChannelRepository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;channel_repository &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel_repository

    &lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;create_channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;self&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; Channel&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
        channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Channel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        self&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;channel_repository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;save&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; channel&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이런 순수한 파이썬 코드에 대해 테스트 코드를 작성하는 건 매우 쉽습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token decorator annotation punctuation&quot;&gt;@pytest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;fixture&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;channel_repository&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel_repository &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Mock&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    channel_repository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;save &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Mock&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; channel_repository


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;channel_service&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel_repository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; ChannelService&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel_repository&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;channel_repository&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_create_channel&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;channel_service&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ChannelService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    channel &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; channel_repository&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;create_channel&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;assert&lt;/span&gt; channel &lt;span class=&quot;token keyword&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;None&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;# 추가로 channel에 대한 제대로 된 테스트 가능.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;결론&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론&lt;/h2&gt;
&lt;p&gt;이제 우리는 기술적 이슈로부터 자유로운 Application Layer,
더 나아가 Domain Layer를 분리할 수 있게 되었습니다.
Domain Layer는 순수한 파이썬 객체로 구성되므로,
평소 갈고 닦은 객체지향 프로그래밍 실력을 충분히 발휘할 수 있습니다.
이를 위해 테스트 코드를 활용하는 것도 매우 쉽습니다.&lt;/p&gt;
&lt;p&gt;원프레딕트는 복잡한 비즈니스 문제를 더 나은 기술과 더 나은 협력을 통해 풀어낼
동료를 찾고 있습니다.
언제나 더 나은 방법이 있음을 믿고, 비즈니스와 코드를 조금씩 개선하는 일에
매진하고 싶은 분,
이를 위해 &lt;code class=&quot;language-text&quot;&gt;도메인 주도 설계(DDD)&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;이벤트 기반 아키텍처(EDA)&lt;/code&gt;,
&lt;code class=&quot;language-text&quot;&gt;데이터 중심 애플리케이션 설계(DDIA)&lt;/code&gt; 등에 관심있는 분을 환영합니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://blog.onepredict.ai/&quot;&gt;원프레딕트 채용 정보 확인하기&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://media.tenor.com/UTrLSr85tYEAAAAd/happy-cat-cat.gif&quot; alt=&quot;Happy Cat&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;이 부분은 약간 오해할 수 있게 쓰였는데, 대중에 공개된 시기만 살펴보면
파이썬은 1991년, 자바는 1995년입니다.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Procedural_programming&quot;&gt;https://en.wikipedia.org/wiki/Procedural_programming&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주3&quot;&gt;&lt;a href=&quot;https://martinfowler.com/bliki/TellDontAsk.html&quot;&gt;https://martinfowler.com/bliki/TellDontAsk.html&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주4&quot;&gt;번역서 제목은 “UML을 활용한 객체지향 분석 설계”
&lt;a href=&quot;http://aladin.kr/p/AGuQ&quot;&gt;http://aladin.kr/p/AGuQ&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주5&quot;&gt;흔히 “고양이과”라고 하지만 표준어는 “고양잇과”입니다. 🐈&lt;a href=&quot;#fnref-%EC%A3%BC5&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주6&quot;&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Separation_of_concerns&quot;&gt;https://en.wikipedia.org/wiki/Separation_of_concerns&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC6&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주7&quot;&gt;&lt;a href=&quot;https://github.com/ahastudio/til/blob/main/architecture/layered-architecture.md&quot;&gt;https://github.com/ahastudio/til/blob/main/architecture/layered-architecture.md&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC7&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주8&quot;&gt;여기선 일반적인 구분과 다르게 User-side, Data-side란 표현을 썼는데,
이는 Alistair Cockburn이 Hexagonal Architexture를 설명할 때 사용한
표현입니다.
&lt;a href=&quot;https://alistair.cockburn.us/hexagonal-architecture/&quot;&gt;https://alistair.cockburn.us/hexagonal-architecture/&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC8&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주9&quot;&gt;위키북스에서 Eric Evans의 “도메인 주도 설계” 번역서에 실린
“LAYERED ARCHITECTURE” 패턴에 관한 부분을 웹에 공개했습니다.
정말 감사해요!
&lt;a href=&quot;https://wikibook.co.kr/article/layered-architecture/&quot;&gt;https://wikibook.co.kr/article/layered-architecture/&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC9&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주10&quot;&gt;&lt;a href=&quot;https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html&quot;&gt;https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC10&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주11&quot;&gt;&lt;a href=&quot;https://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html&quot;&gt;https://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC11&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주12&quot;&gt;Martin Fowler가 쓴
“Inversion of Control Containers and the Dependency Injection pattern”을
꼭 읽어보세요.
&lt;a href=&quot;https://www.martinfowler.com/articles/injection.html&quot;&gt;https://www.martinfowler.com/articles/injection.html&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC12&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주13&quot;&gt;&lt;a href=&quot;https://github.com/python-injector/injector&quot;&gt;https://github.com/python-injector/injector&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC13&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주14&quot;&gt;&lt;a href=&quot;https://github.com/python-injector/flask_injector&quot;&gt;https://github.com/python-injector/flask_injector&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC14&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[TypeScript를 이용한 대수적 타입]]></title><description><![CDATA[기존에 발행된 글을
정리해서 다시 소개합니다.  Intro. 고전적인 웹 애플리케이션들은 순수한 HTML, CSS, Javascript의 세 언어만
이용하여 구성되었습니다.
그중에서 웹페이지의 상호작용 및 동작을 수행하는 JavaScript…]]></description><link>http://onepredict.github.io/typescript-algebric-type/</link><guid isPermaLink="false">http://onepredict.github.io/typescript-algebric-type/</guid><pubDate>Sat, 30 Sep 2023 05:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://tech.onepredict.ai/4d9f807b-12ae-40ac-a828-0390ee5e21ea&quot;&gt;기존에 발행된 글&lt;/a&gt;을
정리해서 다시 소개합니다. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro.&lt;/h2&gt;
&lt;p&gt;고전적인 웹 애플리케이션들은 순수한 &lt;strong&gt;HTML, CSS, Javascript&lt;/strong&gt;의 세 언어만
이용하여 구성되었습니다.
그중에서 웹페이지의 상호작용 및 동작을 수행하는 JavaScript는 동적 타입
언어로써 프로그램에 사용된 각 심볼의 타입이 실행되는 순간에 평가되기 때문에
매우 유연하게 작성할 수 있다는 장점이 있고,
브라우저에서 실행 가능한 언어로써 지금까지도 많이 쓰이고 있습니다.&lt;/p&gt;
&lt;p&gt;그러나 JavaScript를 이용하여 작성된 프로그램에서는 많은 에러들이 런타임에
발생하고, 이런 런타임 에러들은 발생하기 전에는 찾거나 수정하기 상당히
까다롭다는 단점을 가지고 있기 때문에 모던 웹 개발에서는 이러한 문제를
해결하고자 &lt;strong&gt;TypeScript&lt;/strong&gt;라는 JavaScript의 확장을 이용하고 있습니다.&lt;/p&gt;
&lt;p&gt;원프레딕트 프론트엔드 팀은 위에서 언급한 이유로 TypeScript를 이용한
타입 시스템을 기반으로 개발하고 있습니다.
타입 시스템을 기반으로 하는 개발은 런타임에 발생할 수 있는 예외 상황들을
린터 등을 통해 컴파일 타임에 미리 배제할 수 있으며,
함수에 유효하지 않은 값이 넘겨지는 상황 등을 미연에 방지할 수 있습니다.&lt;/p&gt;
&lt;p&gt;타입 시스템을 기반으로 실행 전에 신뢰할 수 있는 프로그램의 형태를 구성하기
위해서 **“대수적 데이터 타입(Algebraic Data Type, 이하 ADT)”**이라는
개념을 이용하고 있습니다.
본 글에서는 이 대수적 데이터 타입이 무엇인지,
간단한 예시를 통해 설명하고자 합니다.&lt;/p&gt;
&lt;p&gt;함수형 프로그래밍과 범주론에서는 ADT이라는 합성 타입을 이용하여 하위 타입들을
확장하고, 더 큰 범주의 타입을 설계할 수 있습니다.&lt;/p&gt;
&lt;p&gt;가장 일반적인 ADT의 종류에는 다음의 두 가지가 있습니다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;합 타입(Sum Type, 혹은 Variants, Tagged Union)&lt;/li&gt;
&lt;li&gt;곱 타입(Product Type, 혹은 Record, Tuple)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;합-타입sum-type&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%95%A9-%ED%83%80%EC%9E%85sum-type&quot; aria-label=&quot;합 타입sum type permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;합 타입(Sum Type)&lt;/h2&gt;
&lt;p&gt;합 타입은 하위 타입 중 하나만 가지는 타입입니다.
합 타입으로 구성되는 타입 집합의 크기(카디널리티)는 하위 타입 집합 크기의
합과 같습니다&lt;/p&gt;
&lt;p&gt;예를 들어, 트럼프 카드 세트와 타로 카드 세트를 포함하며 현실 세계의
카드 게임에 쓰이는 카드들의 세트를 모방하는 임의의 &lt;code class=&quot;language-text&quot;&gt;CardSet&lt;/code&gt; 타입은
다음과 같이 나타낼 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CardSet&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TrumpCard &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; TarotCard&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 &lt;code class=&quot;language-text&quot;&gt;CardSet&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;가 나타낼 수 있는 모든 카드와 &lt;code class=&quot;language-text&quot;&gt;TarotCard&lt;/code&gt;가
나타낼 수 있는 모든 카드를 포함합니다.
이는 트럼프 카드 세트의 “♠️4”나 타로 카드 세트의 “Fool” 카드가 하나의
&lt;strong&gt;카드&lt;/strong&gt;라는 집합에 속하지만 하나의 카드가 한 번에 하나의 하위 타입에만
속한다는 것을 생각하면 당연한 구조입니다.
따라서 타입 &lt;code class=&quot;language-text&quot;&gt;CardSet&lt;/code&gt;이 나타낼 수 있는 카드의 수
&lt;i&gt;N&lt;sub&gt;CardSet&lt;/sub&gt;&lt;/i&gt;는
(트럼프 카드의 수 &lt;i&gt;N&lt;sub&gt;TrumpCard&lt;/sub&gt;&lt;/i&gt; + 타로 카드의 수
&lt;i&gt;N&lt;sub&gt;TarotCard&lt;/sub&gt;&lt;/i&gt;)와 같습니다.&lt;/p&gt;
&lt;h2 id=&quot;곱-타입product-type&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B3%B1-%ED%83%80%EC%9E%85product-type&quot; aria-label=&quot;곱 타입product type permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;곱 타입(Product Type)&lt;/h2&gt;
&lt;p&gt;곱 타입은 하위 타입을 동시에 가지는 타입입니다.
곱 타입으로 구성되는 타입 집합의 크기는 하위 타입 집합의 곱과 같습니다.&lt;/p&gt;
&lt;p&gt;위의 예제에 이어, 하나의 트럼프 카드는 문양을 나타내는 &lt;strong&gt;Suit&lt;/strong&gt;와
그 카드의 값인 &lt;strong&gt;Rank&lt;/strong&gt;를 동시에 가지므로, 다음과 같이 나타낼 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpRank&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Jack&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Queen&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;King&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpSuit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♣️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♥️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♦️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpCard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;TrumpSuit&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; TrumpRank&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;여기서는 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;라는 하나의 타입을 &lt;code class=&quot;language-text&quot;&gt;TrumpSuit&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;TrumpRank&lt;/code&gt;로 구성된
튜플 타입으로 나타내었습니다.
여기서 타입 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;가 나타낼 수 있는 카드의 수
&lt;i&gt;N&lt;sub&gt;TrumpCard&lt;/sub&gt;&lt;/i&gt;는
(카드의 문양 수 &lt;i&gt;N&lt;sub&gt;Suit&lt;/sub&gt;&lt;/i&gt; * 카드의 랭크 수
&lt;i&gt;N&lt;sub&gt;Rank&lt;/sub&gt;&lt;/i&gt;)입니다.
이는 &lt;code class=&quot;language-text&quot;&gt;TrumpRank&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;TrumpSuit&lt;/code&gt;가 가지는 집합의 크기는 각각 13과 4이므로,
&lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입 집합의 크기는 52로 결정됨을 의미합니다.&lt;/p&gt;
&lt;p&gt;튜플 타입의 하위 타입은 인덱스를 통해 접근할 수 있으나,
코드를 작성할 때 튜플 타입을 인덱스로 접근하는 것이 직관적이지 않고
코드의 가독성을 해치므로,
일반적으로 TypeScript에서는 튜플 타입 대신 &lt;strong&gt;Record Type&lt;/strong&gt;을 통해
Product Type을 이용합니다.
위의 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입은 Record로 변환하면 다음과 같이 작성할 수 있습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpCard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpSuit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpRank&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 각 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입 값의 문양과 랭크는 각각의 이름인 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt;를
통해 접근할 수 있습니다.
아래 예제의 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt; 함수는 주어진 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입의 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해
&lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt;의 문양이 ♠️인 경우에는 true, 아닌 경우에는 false를 반환합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; trumpCard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;suit &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; spadeFour&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; heartKing&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♥️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;King&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isSpadeFourSpade &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;spadeFour&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// true&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; isHeartKingSpade &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;heartKing&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;구분-필드를-이용한-가독성-확보&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B5%AC%EB%B6%84-%ED%95%84%EB%93%9C%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EA%B0%80%EB%8F%85%EC%84%B1-%ED%99%95%EB%B3%B4&quot; aria-label=&quot;구분 필드를 이용한 가독성 확보 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;구분 필드를 이용한 가독성 확보&lt;/h2&gt;
&lt;p&gt;위의 트럼프 카드 타입 예제에서 조커 카드가 빠졌다고 생각하셨나요?
위의 트럼프 카드를 확장하면 됩니다.
이처럼 대수적 타입은 확장에 유연한 구조로 되어 있습니다.
아래 코드에서는 흑백 조커 카드 &lt;strong&gt;BWJoker&lt;/strong&gt;와 컬러 조커 카드 &lt;strong&gt;ColorJoker&lt;/strong&gt;를
&lt;strong&gt;Sum Type&lt;/strong&gt;으로 확장한 &lt;code class=&quot;language-text&quot;&gt;TrumpJoker&lt;/code&gt; 타입을 기존의 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입에
&lt;strong&gt;Sum Type&lt;/strong&gt;으로 확장했습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpRank&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Jack&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Queen&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;King&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpSuit&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♣️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♥️&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♦️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpJoker&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BWJoker&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ColorJoker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpCard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpSuit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpRank&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; TrumpJoker&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이렇게 대수적 타입을 이용하면 하나의 트럼프 카드 세트에 있는 모든 카드를
빠르고 간단하게 정의할 수 있습니다.&lt;/p&gt;
&lt;p&gt;그러나 &lt;code class=&quot;language-text&quot;&gt;TrumpJoker&lt;/code&gt; 타입을 추가함으로써 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt; 함수에 에러가 발생하는 것을
볼 수 있습니다.
&lt;code class=&quot;language-text&quot;&gt;TrumpJoker&lt;/code&gt; 타입에는 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt;라는 속성이 없기 때문입니다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Property ‘suit’ does not exist on type ‘TrumpCard’.
Property ‘suit’ does not exist on type ‘“BWJoker”&apos;(2399).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이렇게 변경된 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;에 대응하는 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt;를 확장하는 방법은 다음의
세 가지가 있습니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt; 값을 조커의 하위 타입 리터럴과 비교하고, 예외 절에서
&lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해 판별한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt; 값에 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성이 존재하는 지 판별하고,
&lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성이 존재하는 경우에만 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해 판별한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입의 하위 타입을 확장하여, 두 하위 타입을 구분할 수 있는
별개의 속성 필드를 통해 판별한다.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;여기서는 세 번째 방법을 통해 이 문제를 해결하는 과정을 설명합니다.
각 방법에는 장/단점이 존재하지만, 세 번째 방법은 추후 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;의
하위 타입이 병렬적으로 증가할 때 유연하게 대처할 수 있고,
명확하게 하위 타입 이름을 참조함으로써 코드 가독성을 높이는 장점이 있기
때문입니다.&lt;/p&gt;
&lt;p&gt;우선 조커가 아닌, &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt; 속성을 가지는 집합인
&lt;code class=&quot;language-text&quot;&gt;TrumpNormalCard&lt;/code&gt; 타입을 아래와 같이 정의합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpNormalCard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpSuit&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpRank&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  trumpType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;rank&lt;/code&gt; 외에 &lt;code class=&quot;language-text&quot;&gt;trumpType: &quot;normal&quot;&lt;/code&gt;이 추가된 것에 주목하세요.
이제 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입의 하위 타입은 이 속성을 통해 구분할 것입니다.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;TrumpJoker&lt;/code&gt; 타입도 &lt;code class=&quot;language-text&quot;&gt;trumpType&lt;/code&gt; 속성을 가지도록 아래와 같이 확장합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpJoker&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  jokerType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BW&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Color&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  trumpType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;joker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;그리고 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입을 &lt;code class=&quot;language-text&quot;&gt;TrumpNormalCard&lt;/code&gt;와 &lt;code class=&quot;language-text&quot;&gt;TrumpJoker&lt;/code&gt;의 Sum Type으로
구성합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TrumpCard&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; TrumpNormalCard &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; TrumpJoker&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt; 함수에서 &lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt;의 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 바로 확인하지 않고,
&lt;code class=&quot;language-text&quot;&gt;trumpType&lt;/code&gt;을 먼저 판별하도록 수정합니다.
&lt;code class=&quot;language-text&quot;&gt;trumpType&lt;/code&gt;이 &lt;code class=&quot;language-text&quot;&gt;normal&lt;/code&gt;일 때만 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해 판별합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;trumpType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; trumpCard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;suit &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;joker&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이제 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;joker&lt;/code&gt; 값들로 확장된 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt;의 모든 경우에
대응할 수 있는 함수로 거듭났고,
누가 보더라도 이해할 수 있도록 작성되었습니다.
다른 방식으로 &lt;code class=&quot;language-text&quot;&gt;isSpade&lt;/code&gt;를 구현하면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. &lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt; 값을 조커의 하위 타입 리터럴과 비교하고, 예외 절에서
&lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해 판별한다.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;BWJoker&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt; trumpCard &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ColorJoker&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; trumpCard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;suit &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;TypeScript의 타입 추론은 강력하기 때문에, early return에서 반환되지 않은
&lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt; 타입은 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 가진다는 것을 보장합니다.
그러나 조커의 종류가 흑백과 색상을 가지는 두 종류였기에 다행이지,
수십 개의 중첩된 타입 집합이었다면 모든 최하위 타입의 값을 전부 배제하도록
코드를 작성해야 했을 것입니다.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. &lt;code class=&quot;language-text&quot;&gt;trumpCard&lt;/code&gt; 값에 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성이 존재하는 지 판별하고,
&lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성이 존재하는 경우에만 &lt;code class=&quot;language-text&quot;&gt;suit&lt;/code&gt; 속성을 통해 판별한다.&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;isSpade&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpCard&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;suit&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; trumpCard&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; trumpCard&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;suit &lt;span class=&quot;token operator&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이 경우, 첫 번째 방식과 같이 번잡하게 모든 경우를 쓸 필요는 없어졌습니다.
그러나 이 함수가 단순히 하나의 필드만 참조하고,
하위 타입을 단순히 하나의 필드를 통해 분별할 수 있어서 깔끔한 코드를 작성할
수 있었고,
하위 타입끼리 공유되는 필드를 가지고 있는 경우엔 그들을 구분할 수 있는
서브 타입을 찾아야 하며,
코드상으로 드러나는 구분 방식도 직관적이지 않을 것입니다.&lt;/p&gt;
&lt;p&gt;예를 들어, 온라인 쇼핑몰 사례를 살펴보겠습니다.
고객(Customer), 관리자(Admin), 판매자(Seller)가 &lt;code class=&quot;language-text&quot;&gt;username&lt;/code&gt;과 &lt;code class=&quot;language-text&quot;&gt;password&lt;/code&gt;란
공통 속성을 가진 상황을 정의하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ShoppingItem&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Store&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  location&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  items&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ShoppingItem&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Seller&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  username&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  password&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  profit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  stores&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Store&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Customer&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  username&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  password&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  cart&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; ShoppingItem&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Admin&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  username&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  password&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  storeList&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Store&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  userList&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Customer&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  sellerList&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Seller&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;UserType&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Customer &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Admin &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; Seller&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;만약 &lt;code class=&quot;language-text&quot;&gt;UserType&lt;/code&gt; 타입의 값을 인자로 받는 함수가 있고,
이 함수가 사용자의 유형별로 처리해야 한다면,
하위 타입을 고유하게 구분할 수 있는 속성군을 추려내야 할 것입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;applyToUserType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;userType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; UserType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;cart&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; userType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...Customer의 처리문&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sellerList&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; userType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...Admin의 처리문&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;profit&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;in&lt;/span&gt; userType&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;//...Seller의 처리문&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;이처럼 이 방법은, 코드를 작성할 때는 고유한 속성을 고려해야 하고,
코드를 읽을 때는 속성으로부터 고유한 집합군을 연상해야 하는 문제가 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;대수적-데이터-타입을-이용한-안전한-개발&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8C%80%EC%88%98%EC%A0%81-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%83%80%EC%9E%85%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%95%88%EC%A0%84%ED%95%9C-%EA%B0%9C%EB%B0%9C&quot; aria-label=&quot;대수적 데이터 타입을 이용한 안전한 개발 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;대수적 데이터 타입을 이용한 안전한 개발&lt;/h2&gt;
&lt;p&gt;대수적 데이터 타입을 이용하면 더 쉽게 안전한 개발이 가능합니다.
타입을 확장할 때 곱 타입을 이용한 확장인지, 합 타입을 이용한 확장인지
결정함으로써 새로 확장되는 타입이 가지게 될 역할의 범주가 결정되고,
이렇게 결정된 범주를 기반으로 TypeScript 린터와 컴파일러는
코드를 실행하기도 전에 값의 유효성을 검사하고 보장합니다.&lt;/p&gt;
&lt;p&gt;예를 들어, 위의 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 예제에서 &lt;code class=&quot;language-text&quot;&gt;TrumpCard&lt;/code&gt; 타입을 유효하지 않은 값으로
설정하려 하면 TypeScript 컴파일러는 다음과 같이 경고를 발생시킵니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cardInstance&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpCard &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  suit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;👍&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  rank&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;😎&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  trumpType&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Type ‘“👍“’ is not assignable to type ‘TrumpSuit’(2322).&lt;/p&gt;
&lt;p&gt;Type ‘“😎“’ is not assignable to type ‘TrumpRank’(2322).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;뿐만 아니라 IDE에서는 이러한 ADT들을 이해하여 해당 타입의 심볼을 정의할 때에
유효한 값의 목록을 보여주기도 합니다.&lt;/p&gt;
&lt;p&gt;Sum Type으로 정의된 타입에 대해서 &lt;code class=&quot;language-text&quot;&gt;switch-case&lt;/code&gt; 분기문을 작성할 때
&lt;code class=&quot;language-text&quot;&gt;default&lt;/code&gt;로 fallback을 기재하지 않으면,
&lt;code class=&quot;language-text&quot;&gt;case&lt;/code&gt;로 명시하지 않은 &lt;strong&gt;Sum Type&lt;/strong&gt;의 하위 타입이 있음을 나타내는
경고를 보여주기도 합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;NameOfSuit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpSuit&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; TrumpSuit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;trumpSuit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;♠️&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Spade&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Not all code paths return a value(7030).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;이러한 대수적 데이터 타입을 이용한 React 애플리케이션 개발에서는,
Sum/Product 타입으로 컴포넌트의 입력 Prop(Property) 타입을 설계하고,
각 Prop으로부터 마크업으로의 단사 함수(Injective Function)를 정의함으로써
컴포넌트를 구현할 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;결론&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론&lt;/h2&gt;
&lt;p&gt;지금까지 신뢰할 수 있는 원소 집합에서 타입을 합성하고
확장할 수 있게 하는 대수적 데이터 타입에 대해 알아보았습니다.&lt;/p&gt;
&lt;p&gt;이처럼 견고한 타입 시스템은 사람이 코드를 작성할 때 발생할 수 있는
사소한 실수부터 작성된 프로그램이 실행될 때 발견될 수 있는 에러들을
컴파일 타임에 확인함으로써,
에러가 적고, 고치기 쉽고, 명확한 프로그램을 기술하는 데 큰 도움을
주고 있습니다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;2021년 11월 16일, 원프레딕트 기술 블로그에 발행된 글.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[TypeScript로 API JSON Schema 테스트하기]]></title><description><![CDATA[기존에 발행된 글을
정리해서 다시 소개합니다.  API 테스트 도입 모든 개발자는 테스트 코드를 작성해 품질을 향상하려고 노력한다.
수많은 테스트 도구가 제공되고 있고, 다양한 방식으로 테스트를 진행하고 있다.
많은 테스트 방법 중에서 API Type…]]></description><link>http://onepredict.github.io/typescript-schema-test/</link><guid isPermaLink="false">http://onepredict.github.io/typescript-schema-test/</guid><pubDate>Fri, 29 Sep 2023 05:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://tech.onepredict.ai/7e578d89-4325-4ee2-9b62-e48b12b1e593&quot;&gt;기존에 발행된 글&lt;/a&gt;을
정리해서 다시 소개합니다. &lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;api-테스트-도입&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#api-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8F%84%EC%9E%85&quot; aria-label=&quot;api 테스트 도입 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;API 테스트 도입&lt;/h2&gt;
&lt;p&gt;모든 개발자는 테스트 코드를 작성해 품질을 향상하려고 노력한다.
수많은 테스트 도구가 제공되고 있고, 다양한 방식으로 테스트를 진행하고 있다.
많은 테스트 방법 중에서 API Type Schema 테스트를 도입한 부분에 대하여
정리하려고 한다.
앱을 개발할 때 타입스크립트로 타입에 관련된 에러는 컴파일 시점에, 타입 에러는
많이 잡을 수 있게 되었지만, 서버에 API를 호출하여 가져오는 데이터는 백앤드에서
설정한 모델을 보면서 개발을 진행해야 한다.
이때 만약 “별문제 없겠지”라는 마음으로 API Response Data 모델을 변경하거나
제거한 상태로 앱을 배포하면 어떻게 될까?&lt;/p&gt;
&lt;p&gt;앱은 변경된 API를 사용하는 곳에서 &lt;strong&gt;에러&lt;/strong&gt;를 낼 것이다. 😭&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;이 글에서 CI/CD는 GitHub Actions를 사용한다.&lt;/strong&gt;&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;테스트 체계가 잘 잡혀있다면 QA나 다른 테스트에서 확인할 수 있지만,
테스트 관련 체계가 없다면 배포 이후에 오류 및 버그를 보고 다시 확인하여
재배포를 하게 되는 일이 자주 발생하게 된다.
배포되기 전에 테스트 Job을 추가하여 좀 더 안정성 있는 배포를 해보자는
생각이 들었다.&lt;/p&gt;
&lt;p&gt;이번 글에서는 언제든지 변할 수 있는 API Response 값과 스키마를 테스트하는
방법에 대하여 이야기하려고 한다.
Swagger로 표현된 API 모델을 이용해 &lt;strong&gt;TypeScript 파일을 자동 생성&lt;/strong&gt;하고,
생성된 파일을 이용하여 &lt;strong&gt;API Response Schema를 생성&lt;/strong&gt;하여 Ajv로 스키마와
값을 비교할 수 있는 &lt;strong&gt;Jest 테스트 코드를 작성하는 방법&lt;/strong&gt;에 대하여 알아보자.&lt;/p&gt;
&lt;h2 id=&quot;테스트-flow&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%85%8C%EC%8A%A4%ED%8A%B8-flow&quot; aria-label=&quot;테스트 flow permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;테스트 Flow&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/774b6/test-flow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 8.8%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAeUlEQVR42g2L4Q6CIBgAff8Ha7lqoEEiChRYw1JX0TAT/WK73Y/bLskri9kVl7dj3fLGzWH130DVQOqWygcRdyK7i3UA4KdF2JHKjptXvJh+JnuqUWEOJx0pm/cvLM5PO2rS/LzNVPQGiUr3AOtnnJlxaaYwtzEibv9u22oeVA/qFAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Test Flow&quot;
        title=&quot;&quot;
        src=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/0b533/test-flow.png&quot;
        srcset=&quot;/static/d4d4ec669dad9b93918cb12be7e7e962/fac75/test-flow.png 125w,
/static/d4d4ec669dad9b93918cb12be7e7e962/63868/test-flow.png 250w,
/static/d4d4ec669dad9b93918cb12be7e7e962/0b533/test-flow.png 500w,
/static/d4d4ec669dad9b93918cb12be7e7e962/774b6/test-flow.png 738w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;openapigenerator&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#openapigenerator&quot; aria-label=&quot;openapigenerator permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OpenAPIGenerator&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Swagger UI는 Live Demo를 사용했다.
&lt;a href=&quot;https://petstore.swagger.io/?_ga=2.206759571.1629789658.1640134381-1349736674.1637807907#/pet/getPetById&quot;&gt;링크&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ferdikoomen/openapi-typescript-codegen&quot;&gt;OpenAPI Typescript Codegen&lt;/a&gt;을
사용해, Swagger에서 정의한 모델을 TypeScript 코드로 만든다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; path &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; generate&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; HttpClient &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;openapi-typescript-codegen&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; specURL &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://petstore.swagger.io/v2/swagger.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; outputPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;__apiTypesTemp__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;swaggerModelGenerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      input&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; specURL&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      output&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; outputPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      httpClient&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; HttpClient&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;AXIOS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportCore&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportServices&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportModels&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      useOptions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      useUnionTypes&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      exportSchemas&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;swaggerModelGenerate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;🚀 model 생성 완료&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;specURL&lt;/code&gt;: Swagger Basic Structure 파일(JSON or YAML) URL&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;outputPath&lt;/code&gt;: 모델 파일이 만들어질 위치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;generate&lt;/code&gt;: SwaggerModel을 만드는 함수
&lt;ul&gt;
&lt;li&gt;매개변수
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;input&lt;/code&gt;: Swagger Basic Structure 정보&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;output&lt;/code&gt;: 파일이 만들어질 위치&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;httpClient&lt;/code&gt;: HTTP 클라이언트 (fetch / xhr / node / axios)&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportCore&lt;/code&gt;: Core 정보 생성 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportService&lt;/code&gt;: Service 정보 생성 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportModel&lt;/code&gt;: Model 정보 생성 여부
&lt;ul&gt;
&lt;li&gt;백앤드 정의한 Type Model를 가지고 TypeScript 파일을 생성하여
프론트앤드에서 사용한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useOptions&lt;/code&gt;: Argument 코드 스타일 규칙&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;useUnionTypes&lt;/code&gt;: TypeScript에서 enum 대신 Union Type 사용 여부&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;exportSchemas&lt;/code&gt;: 스키마 정보 생성 여부&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;ts-node&lt;/code&gt;를 사용하여 OpenAPIGenerator를 실행하면 output 경로에 파일이 생성된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/c88ae/pet-model.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 47.199999999999996%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAAByElEQVR42n2QS0sbYRSG3QvVhSGKRk2NFUUqxngpmgaFuNCYTCq6cFG68be0qAnqQouFiP4DwU03gqKmBofEuWRu34wzMZNExBqrk0XIzHg0l2UPZ3H4OM/3vu+pS/IyxSkodSsoOUHOsWI2idKsqLLXmfw/zTAM0zS3f/4a83hn55dmfPOuEffXb8vmW9Vx15njaDyRlBhJJbnU7yP89IKI0+iKVf7mnw1Dh6WV1XCjxdbj9k8MDHW12n1zXyowqJ3FiASFWEmlhZvTGIUT/BUjUcJNDQ6FNy3NnT1uzDM43G5z+LHFGpyN4jTJKayUARgnBYJVGFGlUfrhsQqHNpqsHb0Tc8MfnZYWuz+wUIGRksMJATCAwfZJlMZJBCliCf7u/tE0XzOvhNY7Wh3jnsCY61N723sMq8JwJ9CBTiKV4pXzSypOiyQnJxj5/uHJfDtYWbnvM+Z1jfbbPwRrtsVUjpMyvJyF8Ei5hZlBafgRXvJPhbLtMGRusfd6glNDo202RyBYhTVNe9a0QqFQLBZ13YCGqg2lUgmWvv9Yq2+wOpyTzu6+dw1W77SvApv/LV1/VY7+iW1sbu1Hdvcjezs7kYODwzL8AqUSjOxAJDR2AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Swagger Pet Model과 생성된 Model Type&quot;
        title=&quot;&quot;
        src=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/0b533/pet-model.png&quot;
        srcset=&quot;/static/f81c284a4cc631b77c17aeca81c693a5/fac75/pet-model.png 125w,
/static/f81c284a4cc631b77c17aeca81c693a5/63868/pet-model.png 250w,
/static/f81c284a4cc631b77c17aeca81c693a5/0b533/pet-model.png 500w,
/static/f81c284a4cc631b77c17aeca81c693a5/1d69c/pet-model.png 750w,
/static/f81c284a4cc631b77c17aeca81c693a5/00d43/pet-model.png 1000w,
/static/f81c284a4cc631b77c17aeca81c693a5/c88ae/pet-model.png 1541w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Category &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Category&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Tag &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./Tag&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Pet&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    id&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    category&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Category&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    photoUrls&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    tags&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;Array&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;Tag&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;/**
     * pet status in the store
     */&lt;/span&gt;
    status&lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;available&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;pending&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;sold&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Swagger에서 정의한 Model 기반으로 TypeScript 코드가 자동으로 생성된 걸 확인할
수 있다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 Swagger Model을 확실하게 정의하지 않은 상태라면 자동으로 생성된 파일을
수정해야 하는 경우가 발생하므로 백앤드와 함께 Model을 잘 맞추는 게 중요하다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;jsonschemagenerator&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#jsonschemagenerator&quot; aria-label=&quot;jsonschemagenerator permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JsonSchemaGenerator&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/YousefED/typescript-json-schema&quot;&gt;typescript-json-schema&lt;/a&gt;를
사용해 Schema를 생성한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;💡 &lt;a href=&quot;https://json-schema.org/draft-07/json-schema-release-notes.html&quot;&gt;JSON Schema Draft-07 스펙&lt;/a&gt;으로 생성한다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; path &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; fs &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;fs&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;typescript-json-schema&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; pipe &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../utils/pipe&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; getAllFiles &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../utils/fileFn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;BASE_PATH&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../..&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; settings&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;PartialArgs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  required&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; compilerOptions&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;CompilerOptions &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  strictNullChecks&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;


&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getFiles&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getAllFiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;apiSchemaTypes&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; makeGenerator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IGenerator &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; program &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getProgramFromFiles&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; compilerOptions&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;BASE_URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; generator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;buildGenerator&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;program&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; settings&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    generator&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; generator &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;TJS&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;JsonSchemaGenerator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    file&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;makeSymbols&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; IGenerator&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; removePrefix &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;f&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;STD.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;.ts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; filesStr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; removePrefix&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; symbols &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getUserSymbols&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemas &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; symbols&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;filesStr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;symbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaFolderPath &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__dirname&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../__schema__&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;existsSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mkdirSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Schema 파일 변환을 시작합니다.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  schemas&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaDefine &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; generator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getSchemaForSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; file &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaDefine&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;path&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;schemaFolderPath&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;schema&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;Schema.json&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token builtin&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;파일변환종료&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;getFiles&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; makeGenerator&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; makeSymbols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;typescript-json-schema&lt;/code&gt;를 줄여서 TJS라 하겠다.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;settings&lt;/code&gt;에서 TJS 셋팅 값을 셋팅한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;compilerOptions&lt;/code&gt;에서 TJS 컴파일 옵션을 셋팅한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;getFiles&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;apiSchemaTypes&lt;/code&gt; 디렉터리를 재귀적으로 탐색해서 스키마를
만들어야 하는 파일을 모두 찾는다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;makeGenerator&lt;/code&gt; 함수는 스키마 유형 정보를 얻고, 스키마 정보를 생성한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;makeSymbols&lt;/code&gt; 함수는 &lt;code class=&quot;language-text&quot;&gt;symbols&lt;/code&gt;를 찾아 TJS로 스키마 정의로 변환하고,
&lt;code class=&quot;language-text&quot;&gt;__schema__&lt;/code&gt; 디렉터리 안에 &lt;code class=&quot;language-text&quot;&gt;Schema&lt;/code&gt; 접미어가 붙은 이름의 파일을 만든다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;스키마 정보도 추출했으니, 이제 API에서 받은 데이터 구조와 스키마를 비교해서
일치하는지 확인하는 작업만 추가하면 된다.&lt;/p&gt;
&lt;h2 id=&quot;jest--ajv-validator&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#jest--ajv-validator&quot; aria-label=&quot;jest  ajv validator permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jest + AJV validator&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://ajv.js.org/&quot;&gt;Ajv JSON schema validator&lt;/a&gt;를 사용해 Schema 파일과
API Response Data에 대한 검증을 진행한다.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Default 값은 Draft-07이지만, 다른 버전을 사용할 수 있는 옵션이 있다.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Ajv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; JSONSchemaType &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ajv&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;validate&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; object&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ajv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Ajv&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; allErrors&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// validate 메서드 호출시 오류는 덮어쓰므로 변수에 할당해서 사용해야 함.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; valid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ajv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// errorText는 ajv-errors 설치하여 메시지는 따로 정의할 수 있다.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ajv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;errorsText&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    errorText&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    valid&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;valid&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;validate&lt;/code&gt; 함수는 파라미터 &lt;code class=&quot;language-text&quot;&gt;JSC&lt;/code&gt;로 위에서 생성한 JSON Schema를 받고,
&lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;로 API Response Data를 받아 JSON Schema와 일치하는지 검사하며,
만약 error가 있다면 error에 대한 message를 리턴한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;이제 Jest를 사용해 테스트해 보자.&lt;/p&gt;
&lt;p&gt;Matchers는 Jest Expect에서 제공하는 유효성 검사 외의 다른 유효성 검사 추가해서
사용할 수 있도록 도와준다.&lt;/p&gt;
&lt;p&gt;JSON 스키마를 검사하는 `validate`` 함수를 Jest Expect에 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;declare&lt;/span&gt; global &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; jest &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Matchers&lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;`toMatchJSC`` 함수를 Jest Extend로 추가한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; validate &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../utils/validate&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; extendJSCMatcher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  expect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; schemaValid &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;JSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; pass &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; schemaValid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;valid&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; errorText &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; schemaValid&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;errorText&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pass&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
          pass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;token function-variable function&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;데이터 스키마 매칭 통과&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

      &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        pass&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token function-variable function&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;데이터 스키마 매칭 오류 &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;errorText&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Spec 파일을 만들어 스키마 테스트 코드를 작성한다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;typescript&quot;&gt;&lt;pre class=&quot;language-typescript&quot;&gt;&lt;code class=&quot;language-typescript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; extendJSCMatcher &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../jestExt&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; fetchPetId &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../api/Pet/Pet&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; petSchema &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;../../../__schema__/StocksSchema&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;extendJSCMatcher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// params&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Pet api Pet Group&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;pet/{petId} api&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;정상 처리(200)&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;fetchPetId&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;PET_ID&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;petSchema&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toMatchJSC&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;먼저 &lt;code class=&quot;language-text&quot;&gt;extendJSCMatcher&lt;/code&gt; 함수를 호출한다.&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;fetch&lt;/code&gt;로 API를 호출하고, 응답으로 받은 &lt;code class=&quot;language-text&quot;&gt;data&lt;/code&gt;와 생성한 &lt;code class=&quot;language-text&quot;&gt;petSchema&lt;/code&gt;를 비교해
일치하는지 확인한다.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;추가적으로 에러 / 필수 파라미터  / 잘못된 파라미터 값 등을 좀더 디테일하게
작업하면 조금 더 타이트하게 체크할 수 있다.&lt;/p&gt;
&lt;p&gt;WebStorm(IDE)에서 테스트를 실행해 보면, 다음과 같이 보인다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/944443248b22072c6a21e1ee01c67f41/f98ee/webstorm-test-result.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 43.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVR42mOITcxOySxNzS5PTC+Kjk+PSciMS8n1DYpes27T////+ybNSEoryilpzClpyiqsS0rPT8kqSs0ti4xPX7l6A4OKtp6+mY2OoZWiqq6CiraKpqGqgZWQhMLkqTOAmhOS0hSUFPSMzVU0jWQU1KRkleRVtOQ0DQRFJVvaOhkUVLVMbOwsrJ30TaxUtfSV1bXVtfREpRSmzZgN1JySkiOnpGHnYGvt4GFgZqeha6qkoa+mZSiloNndP4VBRl5FWVPb0NLGwtZFXdtAQUVTVVNXSEwGYnNSep66dZKlT757WJFXdLW1b4GRW66pZ76OQ/rUeesZpOVVlNS0gXoUVbUgSFVTj19EcsKkqUDNiUmZErKqKpoGimo6QKSkrqukrqeqZSgmrdTe1csgraCqrK6jpKqNVXNMfLKYlDzQLzBZoB2aKho6IpKybR3dDMBgAGpWVNMC2g9Balr6AqJSEydDNCeJSSmAFMCMBiIVDV0RSbm2jh4GSVklBWUNeWUNOSV1CALq5xEQ6584Gag5Ki5RVFJeSU1HQUVLXlkTgoBcITHZ1vZuhgMHD508dfrU6TNAEoKA7CPHjj958hSo+dLlK0AFZ86eA6LTZ87C0YmTpx49fgwAMwK3FRqOTREAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;테스트 통과, 테스트 실패&quot;
        title=&quot;&quot;
        src=&quot;/static/944443248b22072c6a21e1ee01c67f41/0b533/webstorm-test-result.png&quot;
        srcset=&quot;/static/944443248b22072c6a21e1ee01c67f41/fac75/webstorm-test-result.png 125w,
/static/944443248b22072c6a21e1ee01c67f41/63868/webstorm-test-result.png 250w,
/static/944443248b22072c6a21e1ee01c67f41/0b533/webstorm-test-result.png 500w,
/static/944443248b22072c6a21e1ee01c67f41/1d69c/webstorm-test-result.png 750w,
/static/944443248b22072c6a21e1ee01c67f41/00d43/webstorm-test-result.png 1000w,
/static/944443248b22072c6a21e1ee01c67f41/f98ee/webstorm-test-result.png 1808w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;테스트가 실패하면 아래와 같은 메시지가 발생하게 된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 348px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 10.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYUlEQVR42h2MWw6EMAzEuBJQaFLyaqCw0t7/Poz4GcmWxlPZLNtJ1a3lz27lbBRDB/Dvj1AfcjmnUjdOoHA/KLzlvOq0FFWKuhs+eZxcg3azL3HJwDp3FGGQEA6hgASuRV/X+ByDzJv/qQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;에러 메시지&quot;
        title=&quot;&quot;
        src=&quot;/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png&quot;
        srcset=&quot;/static/a8a808ed02767943b69ff812fd7fd922/fac75/error-message.png 125w,
/static/a8a808ed02767943b69ff812fd7fd922/63868/error-message.png 250w,
/static/a8a808ed02767943b69ff812fd7fd922/34ea4/error-message.png 348w&quot;
        sizes=&quot;(max-width: 348px) 100vw, 348px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;github-actions-job-등록&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#github-actions-job-%EB%93%B1%EB%A1%9D&quot; aria-label=&quot;github actions job 등록 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GitHub Actions Job 등록&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; 파일에 &lt;code class=&quot;language-text&quot;&gt;test&lt;/code&gt; script 명령어를 추가하고, GitHub Actions Workflow
파일(&lt;code class=&quot;language-text&quot;&gt;.github/workflows/ci.yaml&lt;/code&gt;)에 Step으로 등록하면 된다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/5819f/github-workflow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 61.6%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZ0lEQVR42o1SXW+DMAzs8wrlGxIMDSGBESBQ6NoyUfVh//9HzbSbVvWhnRRZVpKzz3deOUFiumQ7KipkIvqk6CmvfZBOmBp2ZDrkyVkh2LAiP2GgSlbtM/VRjhfenJxw+xps+4Cf7BAimXuEB1CGaWnYoWGFz5FXcACmTUyXQlvwbijGmddHwqpYaJrVMW8pb0BoklWY4A2WtnHSK6krbYe8bcKIl3w85LsjFDsqOo/m+Lxx6cPBNn+dNwGkPrTA+lJ99vN5uBzbUw+57UTGS9qGHwsPRsYPujnrae5Oo2jPovF8WP9H7fWi9pYPuuhmoadU9jiY9TvYa6scmmx1I7s5LQeUB9m89OlHbQS7cUKkjFKFOgcgLRdubi3xlljh2gowf+i8+Gz5cdwUoAvaSKoEFDVSYGqftxPS4e2Uvg9YdDHpHuxe1xA9YGMtZs12bdYPXO9lP1eHL4xoL2GKZCpiFa7dPfgb69dIOI1halwAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GitHub Actions Workflow 파일&quot;
        title=&quot;&quot;
        src=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/0b533/github-workflow.png&quot;
        srcset=&quot;/static/daf25d28ade33f9f01c4d75677d96dc0/fac75/github-workflow.png 125w,
/static/daf25d28ade33f9f01c4d75677d96dc0/63868/github-workflow.png 250w,
/static/daf25d28ade33f9f01c4d75677d96dc0/0b533/github-workflow.png 500w,
/static/daf25d28ade33f9f01c4d75677d96dc0/1d69c/github-workflow.png 750w,
/static/daf25d28ade33f9f01c4d75677d96dc0/00d43/github-workflow.png 1000w,
/static/daf25d28ade33f9f01c4d75677d96dc0/5819f/github-workflow.png 1042w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;GitHub Actions를 실행하여 배포를 하게 되면 빌드하기 전에 API schema 테스트가
먼저 진행되고, 만약 변경된 schema 정보가 있다면 error가 발생하며 어떤 API에
schema정보가 잘못 되었는지 확인할 수 있다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/387f2/github-actions-failed.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.800000000000004%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsElEQVR42pWQ6wrCMAyFq+7S+3Xt1s3pVHz/V/SM7sdAEQYfITQ5J2mItN2l4aBqxX/Q03JtwqBckjYy6YjxPVeuYfpcs0PAi4Q0+TQJE6i0h2DKkXl5x/GODHquPGArbkNuSSntEToQ7XtMdl32cVQ24gkfa4VBbJiiwiLWVH6vfaooYdJqlwpQwhKCfXe5ZTnqHpQIrpVvrzw/h+sD9NMS883FERvBTq2OHlv8FH8A6NUTCSGEwYsAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;GitHub Actions Schema Test Error&quot;
        title=&quot;&quot;
        src=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/0b533/github-actions-failed.png&quot;
        srcset=&quot;/static/fdfb1690c8b2fe5e2dc9a901ebdede69/fac75/github-actions-failed.png 125w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/63868/github-actions-failed.png 250w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/0b533/github-actions-failed.png 500w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/1d69c/github-actions-failed.png 750w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/00d43/github-actions-failed.png 1000w,
/static/fdfb1690c8b2fe5e2dc9a901ebdede69/387f2/github-actions-failed.png 1518w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;결론&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B2%B0%EB%A1%A0&quot; aria-label=&quot;결론 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;결론&lt;/h2&gt;
&lt;p&gt;프론트엔드에서 받는 API Response Data에 관련된 타입은 Swagger Model에 맞춰
자동으로 TypeScript 파일로 생성되기 때문에, API가 추가되더라도 타입 작성에
대한 고민이 사라졌고, 백앤드에서 API를 긴급 패치 하더라도
API Schema Validate를 통해 확인되기 때문에 Key/Type 변경 및 API 제거 등을
확인할 수 있게 됐다.
또 변경된 API Schema 정보를 알고 있어서, 관련 화면에 대한 테스트도 가능하여
더 빠르게 상황에 대처할 수 있게 되었다.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;2022년 1월 12일, 원프레딕트 기술 블로그에 발행된 글.&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;2023년 9월 기준으로 원프레딕트는 GitLab CI/CD를 사용하고 있습니다.&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[JavaScript의 using을 사용해 보자 - Part 2]]></title><description><![CDATA[글 목록 JavaScript의 using을 사용해 보자 - Part 1 JavaScript의 using을 사용해 보자 - Part 2 Intro 동기에 대한 명시적 선언 비동기에 대한 명시적 선언 1편으로 돌아가보기 getPosts…]]></description><link>http://onepredict.github.io/using-keyword-part2/</link><guid isPermaLink="false">http://onepredict.github.io/using-keyword-part2/</guid><pubDate>Wed, 27 Sep 2023 05:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;글 목록&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/using-keyword/&quot;&gt;JavaScript의 using을 사용해 보자 - Part 1&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JavaScript의 using을 사용해 보자 - Part 2&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#intro&quot;&gt;Intro&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EB%AA%85%EC%8B%9C%EC%A0%81-%EC%84%A0%EC%96%B8&quot;&gt;동기에 대한 명시적 선언&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EB%AA%85%EC%8B%9C%EC%A0%81-%EC%84%A0%EC%96%B8&quot;&gt;비동기에 대한 명시적 선언&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#1%ED%8E%B8%EC%9C%BC%EB%A1%9C-%EB%8F%8C%EC%95%84%EA%B0%80%EB%B3%B4%EA%B8%B0&quot;&gt;1편으로 돌아가보기&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#getposts-%ED%95%A8%EC%88%98-%EB%82%B4%EB%B6%80-%EB%93%A4%EC%97%AC%EB%8B%A4-%EB%B3%B4%EA%B8%B0&quot;&gt;getPosts 함수 내부 들여다 보기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%8B%A4%EC%A0%9C-%ED%8F%B4%EB%A6%AC%ED%95%84%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9D%B4%EB%A3%A8%EC%96%B4%EC%A7%88%EA%B9%8C&quot;&gt;실제 폴리필은 어떻게 이루어질까?&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%ED%8F%B4%EB%A6%AC%ED%95%84&quot;&gt;폴리필&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#symbol-%EC%A0%95%EC%9D%98&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt; 정의&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#disposable-stack%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;disposable-stack&lt;/code&gt;을 활용하기&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#outro&quot;&gt;Outro&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;지난 글에서 예고한 대로 TypeScript를 이용해,
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 명시적으로 사용해 보겠습니다.
리소스를 관리하는 방식을 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 이용하여 작성해 보겠습니다.&lt;/p&gt;
&lt;h3 id=&quot;동기에-대한-명시적-선언&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EB%AA%85%EC%8B%9C%EC%A0%81-%EC%84%A0%EC%96%B8&quot; aria-label=&quot;동기에 대한 명시적 선언 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동기에 대한 명시적 선언&lt;/h3&gt;
&lt;p&gt;다음은 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Symbol.dispose&lt;/code&gt;를 이용하여,
동기 코드에 대한 종료 함수를 선언하는 방법입니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;이 선언된 블록이 종료되면,
명시된 &lt;code class=&quot;language-text&quot;&gt;Symbol.dispose&lt;/code&gt;에 할당된 함수를 실행합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getResource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;dispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;using 종료.&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

  using fileHandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// 종료 후, [Symbol.dispose] 실행.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// using 종료. 출력&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;비동기에-대한-명시적-선언&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%B9%84%EB%8F%99%EA%B8%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EB%AA%85%EC%8B%9C%EC%A0%81-%EC%84%A0%EC%96%B8&quot; aria-label=&quot;비동기에 대한 명시적 선언 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;비동기에 대한 명시적 선언&lt;/h3&gt;
&lt;p&gt;다음은 명시적으로 &lt;code class=&quot;language-text&quot;&gt;Symbol.asyncDispose&lt;/code&gt;를 이용하여,
비동기 코드에 대한 종료 함수를 선언하는 방법입니다.
top-level에서 &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt;를 사용하는 모습이 약간은 어색해 보입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getResource&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asyncDispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;asyncSomethingFunc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using fileHandler &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;1편으로-돌아가보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#1%ED%8E%B8%EC%9C%BC%EB%A1%9C-%EB%8F%8C%EC%95%84%EA%B0%80%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;1편으로 돌아가보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1편으로 돌아가보기&lt;/h2&gt;
&lt;p&gt;1편에서 우리는 데이터베이스 연결에 대한 이야기를 나누어 보았습니다.
지금까지 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;에 대해서 이야기한 것을 바탕으로 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 이용하여
데이터베이스 연결을 관리해 보겠습니다.&lt;/p&gt;
&lt;h3 id=&quot;getposts-함수-내부-들여다-보기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#getposts-%ED%95%A8%EC%88%98-%EB%82%B4%EB%B6%80-%EB%93%A4%EC%97%AC%EB%8B%A4-%EB%B3%B4%EA%B8%B0&quot; aria-label=&quot;getposts 함수 내부 들여다 보기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;getPosts 함수 내부 들여다 보기&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 쓰지 않는 경우&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; db

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 쓰는 경우&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token function-variable function&quot;&gt;getConnection&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; connection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    connection&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;Symbol&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;asyncDispose&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; connection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getConnection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 코드를 보면 &lt;code class=&quot;language-text&quot;&gt;try...catch...finally&lt;/code&gt;로 연결되는 블록을 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 활용해서
명시적으로 컨트롤할 수 있게 변경된 것을 볼 수 있습니다.&lt;/p&gt;
&lt;h2 id=&quot;실제-폴리필은-어떻게-이루어질까&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%8B%A4%EC%A0%9C-%ED%8F%B4%EB%A6%AC%ED%95%84%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EC%9D%B4%EB%A3%A8%EC%96%B4%EC%A7%88%EA%B9%8C&quot; aria-label=&quot;실제 폴리필은 어떻게 이루어질까 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;실제 폴리필은 어떻게 이루어질까?&lt;/h2&gt;
&lt;h3 id=&quot;폴리필&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%ED%8F%B4%EB%A6%AC%ED%95%84&quot; aria-label=&quot;폴리필 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;폴리필&lt;/h3&gt;
&lt;p&gt;단계를 분리하여 함수별로 확인해 보겠습니다.&lt;/p&gt;
&lt;p&gt;크게 3가지의 단계로 진행됩니다.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;이미 정의된 &lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt;객체&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;disposableResource&lt;/code&gt;의 관리&lt;/li&gt;
&lt;li&gt;명시된 &lt;code class=&quot;language-text&quot;&gt;disposeResource&lt;/code&gt;의 사용 및 해제&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;symbol-정의&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#symbol-%EC%A0%95%EC%9D%98&quot; aria-label=&quot;symbol 정의 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt; 정의&lt;/h4&gt;
&lt;p&gt;현재 &lt;code class=&quot;language-text&quot;&gt;dispose&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;asyncDispose&lt;/code&gt;로 정의된 &lt;code class=&quot;language-text&quot;&gt;Symbol&lt;/code&gt;은 &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt;에 있는 정의를
활용합니다.
해당 파일은 WellKnownSymbol로 &lt;code class=&quot;language-text&quot;&gt;dispose&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;asyncDispose&lt;/code&gt;를 선언합니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.symbol.dispose.js&quot;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.symbol.async-dispose.js&quot;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// WellKnownSymbol로 `dispose`, &apos;asyncDispose`를 선언합니다.&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// core-js/moduekls/esnext.symbol.dispose.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;defineWellKnownSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;dispose&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// core-js/moduekls/esnext.symbol.async-dispose.js&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;defineWellKnownSymbol&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;asyncDispose&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;disposable-stack을-활용하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#disposable-stack%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EA%B8%B0&quot; aria-label=&quot;disposable stack을 활용하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code class=&quot;language-text&quot;&gt;disposable-stack&lt;/code&gt;을 활용하기&lt;/h4&gt;
&lt;p&gt;이러한 명시적 관리는 &lt;code class=&quot;language-text&quot;&gt;disposable-stack&lt;/code&gt;으로 명명된 stack을 통해 내부에서
관리하고 있습니다.
실제 내부 코드는 제외하고 사용하는 함수를 표기하겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;core-js/modules/esnext.disposable-stack.constructor.js&quot;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;defineBuiltIns&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;DisposableStackPrototype&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Dispose Resource 객체를 생성합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;dispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 동기 Dispose Resource 객체를 꺼내와 dispose method를 실행합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 비동기 Dispose Resource 객체를 꺼내와 dispose method를 실행합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;adopt&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;adopt&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; onDispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// Stack에 담겨 있는 비동기 Dispose Resource 객체를 골라 지연합니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;onDispose&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 해당 Stack의 instance가 다 비워지면 다음 Stack을 찾아 이동합니다. Stack은 블록 단위로 구성됩니다.&lt;/span&gt;
  &lt;span class=&quot;token function-variable function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;move&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;실제 TypeScript에서 폴리필을 구성해 주는 코드입니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; __addDisposableResource &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__addDisposableResource&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;생략&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
     &lt;span class=&quot;token comment&quot;&gt;// built-in으로 되어있는 DisposableResource를 등록합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; value
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;var&lt;/span&gt; __disposeResources &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;__disposeResources&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;||&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;SuppressedError&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;// built-in으로 되어있는 disposeResource 함수를 실행합니다.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Error 전달&lt;/span&gt;
    SuppressedError
  &lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;outro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#outro&quot; aria-label=&quot;outro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outro&lt;/h2&gt;
&lt;p&gt;TypeScript5.2에서 폴리필을 구성해서 실제 &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt;에 구현된 부분까지
훑어보았습니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 아직 한 번도 사용해 본 적이 없거나,
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;을 막 도입하여 패턴을 변경하고 싶은 분들에게 필요한 내용들이 되었으면
합니다.&lt;/p&gt;
&lt;p&gt;내일은 마침 추석 연휴가 시작되는 날입니다. 모두 즐거운 한가위 되셨으면 합니다.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[JavaScript의 using을 사용해 보자 - Part 1]]></title><description><![CDATA[글 목록 JavaScript의 using을 사용해 보자 - Part 1 JavaScript의 using을 사용해 보자 - Part 2 Intro "using" keyword 어디로 부터 왔는가? 선행 기술 C# Java Python…]]></description><link>http://onepredict.github.io/using-keyword/</link><guid isPermaLink="false">http://onepredict.github.io/using-keyword/</guid><pubDate>Wed, 20 Sep 2023 11:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;글 목록&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;JavaScript의 using을 사용해 보자 - Part 1&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/using-keyword-part2&quot;&gt;JavaScript의 using을 사용해 보자 - Part 2&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;table-of-contents&quot;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#intro&quot;&gt;Intro&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#using-keyword-%EC%96%B4%EB%94%94%EB%A1%9C-%EB%B6%80%ED%84%B0-%EC%99%94%EB%8A%94%EA%B0%80&quot;&gt;&quot;using&quot; keyword 어디로 부터 왔는가?&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%84%A0%ED%96%89-%EA%B8%B0%EC%88%A0&quot;&gt;선행 기술&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#c&quot;&gt;C#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#java&quot;&gt;Java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#python&quot;&gt;Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%93%B8%EA%B9%8C-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%98%EC%A7%80&quot;&gt;어디에서 쓸까? 왜 필요하지?&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EC%A0%9C%EB%AA%A9-ecmascript-%EB%AA%85%EC%8B%9C%EC%A0%81-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B4%80%EB%A6%AC&quot;&gt;제목: ECMAScript 명시적 리소스 관리&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0&quot;&gt;동기&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B4%80%EB%A6%AC%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9D%BC%EA%B4%80%EC%A0%81%EC%9D%B4%EC%A7%80-%EC%95%8A%EC%9D%80-%ED%8C%A8%ED%84%B4&quot;&gt;리소스 관리에 대한 일관적이지 않은 패턴&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#resource%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%A0-%EB%95%8C-footguns-%ED%94%BC%ED%95%98%EA%B8%B0&quot;&gt;resource를 관리할 때, footguns 피하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#resource%EC%9D%98-%EB%B2%94%EC%9C%84%EB%A5%BC-%EC%9E%A1%EC%9D%84-%EB%95%8C&quot;&gt;resource의 범위를 잡을 때&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-resource%EB%A5%BC-%EA%B4%80%EB%A6%AC-%ED%95%A0-%EB%95%8C-footguns-%ED%94%BC%ED%95%98%EA%B8%B0&quot;&gt;여러 개의 resource를 관리 할 때, footguns 피하기&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#%EC%97%AC%EB%9F%AC-%EB%A6%AC%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%98%AC%EB%B0%94%EB%A5%B4%EA%B2%8C-%EA%B4%80%EB%A6%AC%ED%95%A0-%EB%95%8C-%EA%B8%B4-%EC%BD%94%EB%93%9C-%EB%B0%A9%EC%A7%80&quot;&gt;여러 리소스를 올바르게 관리할 때 긴 코드 방지&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#non-blocking-memoryio-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%97%90%EC%84%9C&quot;&gt;Non-blocking memory/IO 어플리케이션에서&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#fixed-layout-objects%EC%99%80-shared-struct%EB%A5%BC-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%EB%90%A0-%EB%95%8C&quot;&gt;Fixed Layout Objects와 shared struct를 함께 사용해야 될 때&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A2%8B%EC%9D%80-%EA%B1%B4-%EC%95%8C%EA%B2%A0%EC%96%B4-%EB%8B%B9%EC%9E%A5-%EC%93%B0%EB%9F%AC-%EA%B0%80%EC%9E%90&quot;&gt;그래서…? 좋은 건 알겠어. 당장 쓰러 가자!&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;#outro&quot;&gt;Outro&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#intro&quot; aria-label=&quot;intro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h2&gt;
&lt;p&gt;퇴근하기 직전, “JOKER” 님과 “부엉이” 님이 이야기하는 것을 옆에서 얼핏 듣게 되었습니다. 두 분이 이야기한 내용들은 추상 클래스로 다형성을 처리하는 방법으로 시작해서 팩토리 패턴을 스프링에서 어떻게 다루고 있는가를 건너 건너가 트랜잭션을 관리하는 방식의 차이로 까지 여정을 마무리하고 있었습니다.(긴 여정이었어… 더 깊은 내용이 궁금합니다.)&lt;/p&gt;
&lt;p&gt;DB 트랜잭션을 다룰 때, &lt;em&gt;Spring&lt;/em&gt; 에서는 &lt;code class=&quot;language-text&quot;&gt;@Transaction&lt;/code&gt;어노테이션을 통해 매직처럼 관리가 되고 있는데, &lt;em&gt;python&lt;/em&gt; 에서는 connection을 직접 관리해야 되고 &lt;code class=&quot;language-text&quot;&gt;with&lt;/code&gt;라는 키워드를 써야 한다는 이야기를 듣게 됩니다.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAADh0lEQVR42m2U7W8UVRTG5y/ggxFJNFBLdcGiRSh0I2Whsi3dZXdnX0zsFw0hGDWa8OJHxS+iaGst3XaDNSQVazCslSYq0E1sSCgw7c5O96XtUggqQWOEgnRnp92X6cw8nju7bTfRm8mdezPnd59z7jlnOCwPQ6dJ11Tjn+vGr+168qAe80PyI3UQv3VgToCuLpuVBldJQpnC70eR3It4MyZdmOQhuiA6MP4yxu1IH0J2qpLnVjYPIotC64X2F754p/bEGxtDRzbFv7Eh4TFEty7yWtSjCXY96sDs8DLClV7GwyuItSxcdYQ/qo/1N/7xs30kaP0l2IC4x5jwYNqLGz7cCJi+tICMTd5ULt5H/FXmnsTjlj8nuv+62EzWxpQXklu54rjca/3hky2Dx7dIZ3apQisSbSjcX3L77pcYa4LkNSjCCU/ocG3bzjWJb21IemhLBx0/8Gxb4xOhI7Xtb1pG+3YiYdfvnDLhRQXJ15lszIOYm6Q+fK3GufmxkR4r0j5V2EcuhD/e+op1df8HdZjxFQUXYk6GLCoc5BSirSWS7gZJPjFgO/N+3fyok2S1qAtT3khXQ8C6mtymtU42ZCy2IpviMHuJpYGiJVlTGSmejAzJrY+7dApEcqtR163BpvzYPlobzIZnyOwlDveGWBpLMH0bc2qCk1nQEWkfJs1TSC3FFksCPEPuDZFypKxMFglvfnCb0mdZvO6c+b5p7PSOmXO7i1FWLeRFmVxRjnBQpsu3RXCcL/60I9vx1MNz20PvPR98d+Pnb22g+4tRtZAL4hLMjB1Q0hy0HFIH2Eb0IOkrnG+Y++zJwlAD0gGDue1Ln7UJwa0YtRuVJCFazszzn/0QdiMRUIdtcvfT9KiRXdrlPfnz2xe+3lQ8bSkE12X7LEs+e1lREFIuEvURJvdrI41yd3Wmqyrbsz576hlaZDrXZkM18wN1hR9f0q+2sETEeJYkSrI6V4JL/TSR+66erOVgtdxdJXdV0SLTtS539kWk/Ih7McEzTdHJnoxkNpW+0lULF97OdDwuB2tKnjO4c20+XI+4DyLPQh3fw/hH1yq6yvwDsO6Qvsp8ukrutZThnvWZk9X58GZIe1mQVIU3jyF357/9bLCpICsDzYwn8mSV3Llm7sQqdcSP28dwtw/Z6XKA+J8/CeN15e/c8CG5d4Mcem4+HMhfazdyD0qfy7NhoGL8C/dIajUiznyOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Thinking Face&quot;
        title=&quot;흠...어디서 들어봤는데?&quot;
        src=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png&quot;
        srcset=&quot;/static/1e65fef7beb0c370f7a5d41f5194d8ae/fac75/hmm.png 125w,
/static/1e65fef7beb0c370f7a5d41f5194d8ae/3684f/hmm.png 225w&quot;
        sizes=&quot;(max-width: 225px) 100vw, 225px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;흠...어디서 들어봤는데?&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;JavaScript에서도 요새 비슷한 걸 추진하는 것 같았는데, &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt;이라는 키워드였습니다. 글 쓰기 주제로 갑자기 생각이 들었습니다. 이걸로 문서를 쓰자!&lt;/p&gt;
&lt;h2 id=&quot;using-keyword-어디로-부터-왔는가&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#using-keyword-%EC%96%B4%EB%94%94%EB%A1%9C-%EB%B6%80%ED%84%B0-%EC%99%94%EB%8A%94%EA%B0%80&quot; aria-label=&quot;using keyword 어디로 부터 왔는가 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&quot;using&quot; keyword 어디로 부터 왔는가?&lt;/h2&gt;
&lt;p&gt;2018년 7월 24일 TC39&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;에서 해당 기능에 대한 첫 미팅을 진행하고, stage 1 승인이 이루어집니다. 해당 문서를 읽어보면 이 기능을 “왜” 넣었는지 아주 잘 설명해 주고 있습니다. 문서는 위에서부터 읽는 것이 국룰이지만 흥미를 돋구기 위해 잠깐은 건너가 해당 선행 기술의 컨셉부터 한 번 보면 좋을 것 같아요.&lt;/p&gt;
&lt;h3 id=&quot;선행-기술&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%84%A0%ED%96%89-%EA%B8%B0%EC%88%A0&quot; aria-label=&quot;선행 기술 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;선행 기술&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;C#&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; statement, declaration&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Java&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;try-with-resources&lt;/code&gt; statement&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Python&lt;/strong&gt;: &lt;code class=&quot;language-text&quot;&gt;with&lt;/code&gt; statement&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;각각의 항목을 찾아보면, 다음과 같습니다.&lt;/p&gt;
&lt;h3 id=&quot;c&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#c&quot; aria-label=&quot;c permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;C#&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 키워드의 주요 용도는 두 가지입니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 문은 개체가 삭제되는 끝의 범위를 정의합니다.
&lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; 지시문은 네임스페이스의 별칭을 만들거나 네임스페이스에 정의된 형식을 가져옵니다.
&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h3 id=&quot;java&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#java&quot; aria-label=&quot;java permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Java&lt;/h3&gt;
&lt;p&gt;The try-with-resources statement is a try statement that declares one or more resources. A resource is an object that must be closed after the program is finished with it. The try-with-resources statement ensures that each resource is closed at the end of the statement. Any object that implements java.
&lt;sup id=&quot;fnref-주3&quot;&gt;&lt;a href=&quot;#fn-주3&quot; class=&quot;footnote-ref&quot;&gt;주3&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h3 id=&quot;python&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#python&quot; aria-label=&quot;python permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Python&lt;/h3&gt;
&lt;p&gt;The with statement is used to wrap the execution of a block with methods defined by a context manager (see section With Statement Context Managers). This allows common try…except…finally usage patterns to be encapsulated for convenient reuse.
&lt;sup id=&quot;fnref-주4&quot;&gt;&lt;a href=&quot;#fn-주4&quot; class=&quot;footnote-ref&quot;&gt;주4&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;사용법 및 정도의 차이는 있지만, 대략 공통의 이야기들은 블록 내에서 정의한 &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;를 관리하는 statement를 제공해 주고, 해당 블록이 끝날 때, &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;가 닫히도록 보장하며, 명시적으로 작성하는 기능을 포함하고 있습니다. 그렇다면 JavaScript 스펙으로 진행 중인 &lt;code class=&quot;language-text&quot;&gt;using&lt;/code&gt; keyword도 비슷하지 않을까? 맞습니다. 다른 언어들이 가지고 있는 기능을 토대로 현재 제안을 진행 중입니다.&lt;/p&gt;
&lt;h2 id=&quot;어디에서-쓸까-왜-필요하지&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%96%B4%EB%94%94%EC%97%90%EC%84%9C-%EC%93%B8%EA%B9%8C-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%98%EC%A7%80&quot; aria-label=&quot;어디에서 쓸까 왜 필요하지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;어디에서 쓸까? 왜 필요하지?&lt;/h2&gt;
&lt;p&gt;예를 들어 보겠습니다. 우리는 지금 DB에 접근하여, Posts collection을 가져오는 함수를 하나 작성한다고 해보죠.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// db 에 접근을 해보자&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// posts 를 가져와야지..?&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// 다 가져온 것 같아 이제 내보내자&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위 함수는 이상하게 느껴질 것입니다. 한 번 곰곰이 읽어보며 문제를 찾아봅시다. 문제는 많아 보이겠지만, 하나를 찾아보자면 우선 connect 된 db를 close 하는 부분이 없습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// close 를 해줘볼까? Profit!&lt;/span&gt;
db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;문제가 해결 되었을까요?&lt;/p&gt;
&lt;p&gt;만약 posts를 찾아오는 과정에서 문제가 생기면 어떻게 될까요?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;close 까지 도달하지 못한다면?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/6af66/pow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAClUlEQVR42k2TW2iPcRjHXzcu5mZckBIpizlcKMoIFxQXW4i0YiEjx9KWTHJBOVwwSiinbYpyw3LKYXKIcjFJZGxOw+YwG/v/t9/p/f3ej+f/7q+89e25eL/v5/s8z+/3RrXTB/FufzG0VGDqinEVQ3BHxqAy69FPZuN2FGAvTsT01WNOLUftKaa/toTs8Tn0H5qB3j0FtWsyatt4+jYVEZ2ZM5iHW4r4dn8t6v1WzM0STPM0tG/AJtcwmSqU343jDeruDrKNc8neryD7eAN9N8rpu1SKOjYLWzOBeONYokvzC7g1r4DXZUPR5aOwB2agfq1B9WzEhavEyT2se4jtb0J1HJKAJtEDdO9l9PezqNa9mOtlxIen4gQa3Skt5OWy4WRWjsatHo7ZPhrVtopszxK0qcVyV8a9KAE1xLwi9yQEQmJJEi/1D7arAX27FHNyJtHTskK6l43ArR2JurAC97GJOH6P7t6CaV2AfbEQl70giD/EvpMQFElIBCYKQSr4pBPdug19YzHRp8pxchhl6OvL8faTpJOagm/HfF2PeTYd9WMdnnaBZUUmfZ8kYQCaq/KNzTSiH5UT/do5i9i9EH2QRDF6l46SMwV6UMlxMk7A/ryMZ0Q+D/qnAW/sXmKeVxL9XlRIXFeJD73/JecUY+LL2PiKwI7i/E3xGFHPf558h+nY7dhXAtQ1k3Cbh+Ga9w2MG3KL1qnJerk2cn1C+CIfdKTdBQlKUpGveSA/ZOfVRK6lEvOzWhZfL+ZMmprrVqbHqWtYfToN8qEj7cKHLqmficMb8bs8OAfsxbbVCDDIWDTgkkYxtYi5Nz29OPmKebsU92QmrqtOLvoJ6fakrOEcuv+g/ElVsoYHAjPp7j3fsW+r+QsnDvBq5VKVaQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;폭탄쾅&quot;
        title=&quot;&quot;
        src=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/0b533/pow.png&quot;
        srcset=&quot;/static/90f0dcc9e428cfb41f30c627d25323ca/fac75/pow.png 125w,
/static/90f0dcc9e428cfb41f30c627d25323ca/63868/pow.png 250w,
/static/90f0dcc9e428cfb41f30c627d25323ca/0b533/pow.png 500w,
/static/90f0dcc9e428cfb41f30c627d25323ca/6af66/pow.png 640w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;이런 문제들을 방지하기 위해서 JavaScript에서는 이런 &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;를 어떻게 관리 했을까요?
실제로, &lt;code class=&quot;language-text&quot;&gt;resource&lt;/code&gt;에 대한 관리가 필요한 경우 JavaScript에서는 &lt;code class=&quot;language-text&quot;&gt;try..catch..finally&lt;/code&gt;를 많이 사용하고는 했습니다.&lt;/p&gt;
&lt;p&gt;다음은 &lt;code class=&quot;language-text&quot;&gt;try..catch..finally&lt;/code&gt;를 적용해 보겠습니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;getPosts&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; db

  &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    db &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;connectToDatabase&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; collection &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;collection&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;posts&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; posts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; collection&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; posts
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;error&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; db&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;문제는 해결된 것처럼 보입니다. 물론 db를 연결하고, 해제하는 영역에 대해서 저러한 보일러 플레이트가 생기는 것을 제외하고는 말이죠. 유사하게 이렇게 connect가 열리는 부분에서는 지속적인 고민이 생기기 마련입니다. 파일 스트림을 받는다든지, 또는 resource를 공유하는 worker 들 사이들에서도 해당 고민은 발생할 수 있습니다. 혹시 이러한 resource 타입에 따라서 관리하는 방법들이 제각각이라면 하나의 방법으로 명시적인 관리를 하면 어떨까요? 여기에서 이 명세의 동기가 시작됩니다.&lt;/p&gt;
&lt;p&gt;위에서는 사용을 위한 예시를 보았습니다. 흥미가 생겼으면 좋겠네요. 그 궁금함을 갖고 조금은 딱딱한 공식 문서를 들여다보겠습니다. TC-39에 제시된 문서의 제목과 동기를 읽어보면 다음과 같습니다.&lt;/p&gt;
&lt;h2 id=&quot;제목-ecmascript-명시적-리소스-관리&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%A0%9C%EB%AA%A9-ecmascript-%EB%AA%85%EC%8B%9C%EC%A0%81-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B4%80%EB%A6%AC&quot; aria-label=&quot;제목 ecmascript 명시적 리소스 관리 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;제목: ECMAScript 명시적 리소스 관리&lt;/h2&gt;
&lt;h3 id=&quot;동기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%8F%99%EA%B8%B0&quot; aria-label=&quot;동기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;동기&lt;/h3&gt;
&lt;h4 id=&quot;리소스-관리에-대한-일관적이지-않은-패턴&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B4%80%EB%A6%AC%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9D%BC%EA%B4%80%EC%A0%81%EC%9D%B4%EC%A7%80-%EC%95%8A%EC%9D%80-%ED%8C%A8%ED%84%B4&quot; aria-label=&quot;리소스 관리에 대한 일관적이지 않은 패턴 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;리소스 관리에 대한 일관적이지 않은 패턴&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ECMAScript Iterators: iterator.return()&lt;/li&gt;
&lt;li&gt;WHATWG Stream Readers: reader.releaseLock()&lt;/li&gt;
&lt;li&gt;NodeJS FileHandles: handle.close()&lt;/li&gt;
&lt;li&gt;Emscripten C++ objects handles: Module._free(ptr) obj.delete() Module.destroy(obj)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;resource를-관리할-때-footguns-피하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resource%EB%A5%BC-%EA%B4%80%EB%A6%AC%ED%95%A0-%EB%95%8C-footguns-%ED%94%BC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;resource를 관리할 때 footguns 피하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;resource를 관리할 때, footguns&lt;sup id=&quot;fnref-주5&quot;&gt;&lt;a href=&quot;#fn-주5&quot; class=&quot;footnote-ref&quot;&gt;주5&lt;/a&gt;&lt;/sup&gt; 피하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; reader &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; stream&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getReader&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
reader&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;releaseLock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// try/finally가 있어야 함.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;resource의-범위를-잡을-때&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#resource%EC%9D%98-%EB%B2%94%EC%9C%84%EB%A5%BC-%EC%9E%A1%EC%9D%84-%EB%95%8C&quot; aria-label=&quot;resource의 범위를 잡을 때 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;resource의 범위를 잡을 때&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; handle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// handle을 쓰는 데 적당합니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    handle&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// handle을 쓰는 데 적당하지 않습니다만 아직도 스코프 내에 있어요.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;여러-개의-resource를-관리-할-때-footguns-피하기&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%AC%EB%9F%AC-%EA%B0%9C%EC%9D%98-resource%EB%A5%BC-%EA%B4%80%EB%A6%AC-%ED%95%A0-%EB%95%8C-footguns-%ED%94%BC%ED%95%98%EA%B8%B0&quot; aria-label=&quot;여러 개의 resource를 관리 할 때 footguns 피하기 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;여러 개의 resource를 관리 할 때, footguns 피하기&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 만약 `b.close()` 가 a 에 의존하고 있다면, 문제가 있습니다.&lt;/span&gt;
    b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 만약 `a.close()` 가 발생하면, `b` 에 영원히 도달하지 않습니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;여러-리소스를-올바르게-관리할-때-긴-코드-방지&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EC%97%AC%EB%9F%AC-%EB%A6%AC%EC%86%8C%EC%8A%A4%EB%A5%BC-%EC%98%AC%EB%B0%94%EB%A5%B4%EA%B2%8C-%EA%B4%80%EB%A6%AC%ED%95%A0-%EB%95%8C-%EA%B8%B4-%EC%BD%94%EB%93%9C-%EB%B0%A9%EC%A7%80&quot; aria-label=&quot;여러 리소스를 올바르게 관리할 때 긴 코드 방지 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;여러 리소스를 올바르게 관리할 때 긴 코드 방지&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;
&lt;span class=&quot;token comment&quot;&gt;// sync disposal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 블록은 바깥 스코프에서 `a` 나 `b` 의 누수를 방지합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b`의 경우, `a` 이전에 `b`가 닫혀있는지 확인하세요.&lt;/span&gt;
                       &lt;span class=&quot;token comment&quot;&gt;// `a` 에 의존합니다.&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b.close()` 가 발생하더래도 `a` 가 닫혀 있는지 확인 하세요.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `a` 와 `b` 모두 스코프를 벗어났습니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;비교&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// `a` 또는 `b` 가 외부 스코프로 유출되는 것을 방지합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `b` 가 `a`에 종속되는 경우 `b` 가 `a` 보다 먼저 배치 되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &apos;b&apos; 가 처리 되더라도, &apos;a&apos; 가 처리되도록 보장합니다.&lt;/span&gt;
using a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// async sync disposal&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 블록은 바깥 스코프에서 `a` 나 `b` 의 누수를 방지합니다.&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b`의 경우 이전에 &apos;b&apos; 이전에 &apos;a&apos; 가 닫혔는지 확인합니다.&lt;/span&gt;
                             &lt;span class=&quot;token comment&quot;&gt;// `a`에 의존합니다.&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; a&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `b.close()` 가 발생하더라도 &apos;a&apos; 가 닫혀있는지 확인합니다.&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `a` 와 `b` 모두 스코프를 벗어났습니다.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;비교&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// `a` 또는 `b` 가 외부 스코프로 유출되는 것을 방지합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// `b` 가 `a`에 종속되는 경우 `b` 가 `a` 보다 먼저 배치 되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// &apos;b&apos; 가 처리 되더라도, &apos;a&apos; 가 처리되도록 보장합니다.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; using a &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;non-blocking-memoryio-어플리케이션에서&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#non-blocking-memoryio-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EC%97%90%EC%84%9C&quot; aria-label=&quot;non blocking memoryio 어플리케이션에서 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Non-blocking memory/IO 어플리케이션에서&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; ReaderWriterLock &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lock &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReaderWriterLock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;readData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 뛰어난 작가를 기다리며, read lock 을 걸어둡니다.&lt;/span&gt;
  using lockHandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; lock&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 많은 수의 reader 들&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `await` 후에도 여전히 read lock 상태입니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// read lock을 해제&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;writeData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// 모든 reader 들을 기다리고 write lock 을 걸어둡니다.&lt;/span&gt;
  using lockHandle &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; lock&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// 단 한명의 writer&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// `await` 후에도 여전히 write lock 상태입니다.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// write lock을 해제&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;fixed-layout-objects와-shared-struct를-함께-사용해야-될-때&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#fixed-layout-objects%EC%99%80-shared-struct%EB%A5%BC-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%EB%90%A0-%EB%95%8C&quot; aria-label=&quot;fixed layout objects와 shared struct를 함께 사용해야 될 때 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fixed Layout Objects와 shared struct를 함께 사용해야 될 때&lt;sup id=&quot;fnref-주6&quot;&gt;&lt;a href=&quot;#fn-주6&quot; class=&quot;footnote-ref&quot;&gt;주6&lt;/a&gt;&lt;/sup&gt;&lt;/h4&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// main.js&lt;/span&gt;
shared struct &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SharedData&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  ready &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  processed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; worker &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Worker&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;worker.js&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; m &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Atomics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Mutex&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; cv &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Atomics&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ConditionVariable&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; data &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SharedData&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
worker&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;postMessage&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// worker로 data 보내기&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 main이 얻을 때까지 기다리기&lt;/span&gt;
  using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// worker를 위해 데이터에 표기&lt;/span&gt;
  data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ready &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;main is ready&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 해제&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// 잠재적인 worker에게 알리기&lt;/span&gt;
cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;notifyOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 다시 획득&lt;/span&gt;
  using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 풀고, worker가 처리를 끝낼 때까지 기다립니다.&lt;/span&gt;
  cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;processed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 해제&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// worker.js&lt;/span&gt;
&lt;span class=&quot;token function-variable function&quot;&gt;onmessage&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; cv&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; e&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data

  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 main 이 얻을 때까지 기다리기&lt;/span&gt;
    using lck &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; m&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos;의 잠금을 풀고 main() 에 데이터를 보낼 때 까지 기다립니다.&lt;/span&gt;
    cv&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;wait&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;ready&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// 기다린 후에, 우리는 &apos;m&apos;의 자물쇠를 다시 한 번 얻었습니다.&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;worker thread is processing data&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;// main으로 다시 데이터를 보내기&lt;/span&gt;
    data&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;processed &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;worker thread is done&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;m&apos; 잠금 해제&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;위의 예시를 해소하기 위해서 도입을 추진하게 됩니다.&lt;/p&gt;
&lt;p&gt;원문이 궁금하신 분들을 위하여, 각주로 링크를 첨부합니다.&lt;sup id=&quot;fnref-주7&quot;&gt;&lt;a href=&quot;#fn-주7&quot; class=&quot;footnote-ref&quot;&gt;주7&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;h2 id=&quot;그래서-좋은-건-알겠어-당장-쓰러-가자&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%A2%8B%EC%9D%80-%EA%B1%B4-%EC%95%8C%EA%B2%A0%EC%96%B4-%EB%8B%B9%EC%9E%A5-%EC%93%B0%EB%9F%AC-%EA%B0%80%EC%9E%90&quot; aria-label=&quot;그래서 좋은 건 알겠어 당장 쓰러 가자 permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;그래서…? 좋은 건 알겠어. 당장 쓰러 가자!&lt;/h2&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/187fa/gonow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 50.4%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACqUlEQVR42j2S+0tUQRzF79zH3rvuurvu+tjKLM3c9a5Zaw9StCeEKCZImYGalD8Vxhpm74dQkQWV2INMqYigUgp/iaKoMHpQ9qAHhZgpFUH1Q//Bp3EX+uHMfL/MmTNnzoyiaSqarqFKCFVFTPaGjqoqrFxUTEtdE5HpNrpmYFiG5OoIXfJ0kYDk/YdQUBSHHAwJ2QhFkUIiXoczs3h24zbjQx+5FDtH0D0V4RDoLinokoLJcnZLE25ZJ0mYWvwgxd6wnlBTLfa6KgLRfFJmTUfxOJkfmUtXSyenYieoLluL0/TIDfImaV7EFD8iIwWRnozwWIhUuZbmQ/jdKFd+jdL86TU9f8bZN/KWQx9fUHPzOrEdRxi+eo/Olg6qomson1cdd66H8hB2PiLfRg3NRs1IRVimjEo6TE9B2fn+GeFHD2n/+pmOsQ/UfHhH398fDN4ZYvjaA85s7aIyWk/BtAhawIertgHPllY8W9tIbtmGVVaK6nQk4oqEUXYPD7HwyWMOfxvl2Kc3lL96ycCfL7Q9f05vdz93jw5Saq9CtQTmghL87QcJnu4j49RZAsdPkrS6WuaZJB9DCi5bitL29D7ZA9fY/XOMXeMjdP6a4MLvCQ58H6Gr9xaxmlb8gVSsJIMpDZvIOHQM7+YY/p178XV0YFVVSkF3XFCsKEOZWbECc+kCghvryNzfTsXhPczr6aH23BmuHj3P5T395GRF0eW38BYUkLykJJ6lFpmBVbcaoziKcFoJh/PtyVmJN3GSpWJ6PWTmhpmVFebA9l1c7L5MU+NmGpvrKS0rQdUEmsPCSPPjKAqhzUhHGFrC4bSA1BEC1WEQDAYJZedi59oUhecSzsohJ8+msGg59pzFRAqLyc0rwHS60R0+TDOAyxfEcLlQtIQpYar8A/MtVe3a3OqOAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;당장 하자&quot;
        title=&quot;&quot;
        src=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/0b533/gonow.png&quot;
        srcset=&quot;/static/0b482ea0794b04c5b248cd9bd231fa6b/fac75/gonow.png 125w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/63868/gonow.png 250w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/0b533/gonow.png 500w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/1d69c/gonow.png 750w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/00d43/gonow.png 1000w,
/static/0b482ea0794b04c5b248cd9bd231fa6b/187fa/gonow.png 1194w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다만 문제가 조금 있습니다. 아쉽게도 해당 기능은 아직은 TC-39 stage 3 라는 것. 아직 정식으로 Javascript 기능에 포함되지 않았습니다. 하지만, 당장 써볼 수 있는 곳이 있습니다.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://devblogs.microsoft.com/typescript/announcing-typescript-5-2/#using-declarations-and-explicit-resource-management&quot;&gt;타입스크립트 5.2 using&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;아직 나온 지 한 달(23년 9월 기준) 정도 된 따뜻한 타입스크립트 기능입니다.&lt;/p&gt;
&lt;p&gt;5.2에 해당 기능을 서포트하는 기능이 추가되었습니다.&lt;/p&gt;
&lt;h2 id=&quot;outro&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#outro&quot; aria-label=&quot;outro permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outro&lt;/h2&gt;
&lt;p&gt;내용을 다 읽으신 분, 또는 글을 밑에서부터 읽는 것을 좋아하시는 분에게 선물을 드리자면 사실 1부작 같은 2부작 이었습니다.&lt;/p&gt;
&lt;p&gt;그렇습니다. 시리즈 입니다.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 99.2%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkElEQVR42pWU/UtTYRTH/W/qB6moQH+pICgaVAjLxab5loy5+iE30zW1matlL7P6oVWSGTiTICWDyBBShiws38a8c9u97WZoKUbDapt3273frndvbrvL7cK9D8/znPO555zvc54i5P1w8S8LcsSKDdIbm3NcmlXRjhiWFZzYaFR4t54fE3ZQ93qT+wUBU7GlognQy3A1doETsU0HCg5cmvObode41qzHkHUQsx/twtpvF4W5U0pEQpvb/HJEKIDiBiw/DN2/jrfmJtxRV2Hiw7iwTioN8BktWbAsYNC/hvBmIAYLR4RxxTOL+f5O+N1jCNHfQcq08FQ0IxwM5RYlUdilsRFQzwd4WKz4bCQKv8MDm0aDxSuX4T1UDc8xJQIrq6KCpCKM/yUcCIJ+NAiivhVkazeoKj28xVJQpZUgS8+BPqDAsulpzFMElkMU4C/5Fb7uPixZBvHlRg+IvTLQh+t4aAWI0xfBbPwRTVcUmEwjbhvl54TKCGdxGVz7yrGg4OvHMKKC5DyHHC8vF2XBMmFhvj46ibndJ0HsOYNvhscpGIf8gNu7RDgmozZMSerhKpFiUdkBNqNEeQGTXRFk0HJ7AMa7z9Cr04F4+Sqjf/IEsvHobNNuSFQPUKd/goPSNnyad6ftFwycdnghb3yIplsvcKLWjOH3n5NiFQRMpPyLPyLnO/uh5tOu1FlQ096HSCQiZMwVUsNElZjVNZiURrQrWtDJC3Lk+CVYh8fzPIcZMJ/BBEeZHE6NHs7qBjjO1sIukeGdvAHr9qmdL4dMINnUhtmSo5i7oMWMoQvTLVfhNJnh5MEzu/bztzaV1dP/TXlLmJ+2SdCGm1hUa0GU18BZo8KCWoPlnj6+9wNZ9+E/74W4aL3S29MAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;마참내&quot;
        title=&quot;&quot;
        src=&quot;/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png&quot;
        srcset=&quot;/static/6166e3124cc243f63f69d1ad96465fce/fac75/machamne.png 125w,
/static/6166e3124cc243f63f69d1ad96465fce/63868/machamne.png 250w,
/static/6166e3124cc243f63f69d1ad96465fce/0b533/machamne.png 500w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;다음 문서에서는 타입스크립트를 활용해서 실제로 명시적인 코드들을 어떻게 쓰는지 알아보는 시간을 갖도록 하겠습니다.&lt;/p&gt;
&lt;p&gt;그럼.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8ea295912866db0a00b622592610823b/5bb8b/bye.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABJ0AAASdAHeZh94AAADxElEQVR42k2S20/TZxzG+2/sahfLki3Z4i6WbHNesGzhYobDlEJBheDkIAXKWSed52hmoi5DtnUO51ZaKD1gpZTS9veDUikURA4FHaAMRGRSToUJCLSfvWY3u/jked9v8jzJ831fRXJCIikpSlKVqaSlppGmUgpVkq5SoVJloEo/TOaRLLKzs/n6aC45OQXk5ReSn1eIukCDWl2ORlNJRbkWTVEligb7AJa2h1hcozQ5R7njGRf8ic31CF+HTKizDpcriF2ewi49ps03g6trjjb/M7yBF7gDYXx9K/SFNukMzKNoskhYmv1YbDJmWye3btu4UfsHekM7IfkH5u9dxG5x4WyWkZo9dNpa8Nm8eOz3aLvbQ2tLH662ATrdIdrv9KJoaTRib7RibXSgragkfu8ekuPe5WROOk9lLQFzDVaDE6/Zjr/Rwqx0lYkWIz6jm6DdR8Aq0WOWeeC4R5dJQvGktZBptxan7hqquPe5cvwDBg2JeGr2s+DJ5H79daTbemR9I7LByFSHCetVLdfKs/jxVCX9xnpm3T/z0KwnaLCheGGtJtKuZlk6QsPpj+n7PY5VOYHnbfGEpWMM/XqZod9qGbhZS8h0i/CgxIi5lJXuKkzVSQwbrhIJ3GDaVMcjfT2KvxvOMW84T9hexkZ3DjOOL1nrTmBOPsJibyV/Sd8x4/yeZ02XmXTWMNdrYHPyNqvBC8x16NgY72HKWseKYN6iQ7FqryRi/5Z1u5ZXzjKigVwIqVjwZvDMncNCVxWrjjKQytgOnGey/TrPg0a2n/jYHDSz1a3jZesl6LrEmuc0ih05D/xqMSgi1qlhW84XxkOsGfawbIwj7DjESkMiY7UHMZ9TYrpewE8nMxnWlwpPMdEODbHucug9ScQr/uH2/eMwUkh0WAQKZayAnZ4s1m++xYbuDSK6N9nQv4Ol6hOKEz+iSrWX4qQPaT79GfQXshssEYjAIREYrBKBY/kwpSY2XUzsqQZmi4iO57Le8B4R49u87NrP1kAaiz4l9WfiuXh0H2czP6Xp3OfEJvKFr5ToTAW8OEXk8QkUW9O5RMPH2V1Ss7v8GlF5XgQ+SOKfsRR2wrm8WvqFnbkrrA8cYLb/BKPeCwRNSUSXhG+xmJ1FUXtVvPyMRuxwU9Sk/H+U/MfaMWLhDIieFfceiNXCVg5sXBbnesE3Yv4aLbGYVugZ1teqUYwGDzAxksHD4cOEhtIZuZ/GYK+SAU8SPdYvCHhK8LuL8XsT6JJS8Rjjaanbh9SajNdxgHZHsuArOtpTcN1N5V/+ukbSAyVK/gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;안녕&quot;
        title=&quot;다음에 또 만나요&quot;
        src=&quot;/static/8ea295912866db0a00b622592610823b/0b533/bye.png&quot;
        srcset=&quot;/static/8ea295912866db0a00b622592610823b/fac75/bye.png 125w,
/static/8ea295912866db0a00b622592610823b/63868/bye.png 250w,
/static/8ea295912866db0a00b622592610823b/0b533/bye.png 500w,
/static/8ea295912866db0a00b622592610823b/5bb8b/bye.png 749w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;다음에 또 만나요&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;tc39 프로세스라고도 불립니다. &lt;a href=&quot;https://tc39.es/&quot;&gt;사이트&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;&lt;a href=&quot;https://learn.microsoft.com/ko-kr/dotnet/csharp/language-reference/keywords/using&quot;&gt;마이크로소프트 C# 원문&lt;/a&gt;에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주3&quot;&gt;&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html&quot;&gt;오라클 원문&lt;/a&gt;에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주4&quot;&gt;&lt;a href=&quot;https://docs.python.org/3/reference/compound_stmts.html#with&quot;&gt;파이선 원문&lt;/a&gt;에서 발췌&lt;a href=&quot;#fnref-%EC%A3%BC4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주5&quot;&gt;자기 발등 찍기 &lt;a href=&quot;https://matt-rickard.com/avoiding-footguns&quot;&gt;참고 글1&lt;/a&gt;,
&lt;a href=&quot;https://en.wiktionary.org/wiki/footgun&quot;&gt;참고 글2&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC5&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주6&quot;&gt;아직은 stage1 spec에 머물고 있습니다 &lt;a href=&quot;https://github.com/tc39/proposal-structs&quot;&gt;Proposal Structs&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC6&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주7&quot;&gt;&lt;a href=&quot;https://github.com/tc39/proposal-explicit-resource-management&quot;&gt;ECMAScript Explicit Resource Management Proposal&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC7&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Hello, world!]]></title><description><![CDATA[브라이언 커니핸과 데니스 리치의 기념비적인 프로그래밍 서적 “The C Programming
Language…]]></description><link>http://onepredict.github.io/hello-world/</link><guid isPermaLink="false">http://onepredict.github.io/hello-world/</guid><pubDate>Sat, 16 Sep 2023 11:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 200px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 140.8%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAIAAADuuAg3AAAACXBIWXMAAAsTAAALEwEAmpwYAAACiklEQVR42q1Ua0/bMBTt//++b4ihibFJ20DlIUArMEBrK9ryaFlpCzRtQ57Nw3k4tWPHnRND17JOFLSryLrX9vH1ObnXOdu2RwhFrzQO4cAc98ZvMg7MRRC+EQzhfDAbj1FMCU1IktCEsVeBOeCkpeYv+kunncq9Lo5bODNjToi6pn/94Az96HXXxjFpdOTvpWah3LxqywjHi4I5x6Nqe3mz+LVwvn54sbTx80e1/TKYZdLIhvNhp7x1Ug8jRCk9PGutH56DAGYb/g0Wuja72nK+WG50p3ViC2ZuSfrKZvG41hGTpuOrQxAT+iI4HW0Qft6vfNqvdPq6aoIvhdrabiWA6Fn+OYKJ5DeStrZ39n6zuLJV+rh71rhTBHK6XlIwhEIJliSJoJ2kBzAbBLd9o93TLRCkM4zxastWE3EDOAF7I7xaun930DrtaN+q0rVsrZa6N5pX61s79Yfty8FeQ9447+1dy+U7nZftDBhicmt4Ry3tl+JcDuy6bB801aZiN2Sr0jV5nV0OrKuB1dYBXxLiwQlnQdWBON2qOIWmkr/olW6Nk7Z2Z7jbdbkqmfmaNK3rDGc+IkJlJ1BcaIdIA5EKoAYgiJA09HUA+1aQCD0mnP9nP7M/Nn4cs3uKcKGuWjSz5wecKhdwhEmECYoJ9zGh6SRNnQjHONvAZ/jzkoUE0yQMw5xuObLtK66vur4BwtR3/N4QSKaruoEbjiQTDCxPB6HhQdUJeKg6Pt/mAO/p2k98BDE2njBkf3eUWJrhzOb13QucH//zVEsjkjLHlPMk3MfkUYhnObL/PPvo0yThVeFFKEQx/wDkPgZZOOfRBwAQfvzEYkwJf7IJiXnimD59PMRTxtcBAL8BB2NJ1rjhg90AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The C Programming Language&quot;
        title=&quot;The C Programming Language&quot;
        src=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png&quot;
        srcset=&quot;/static/5a2a9bf8229107d8fa96d8c15ad4e55e/fac75/tcpl.png 125w,
/static/5a2a9bf8229107d8fa96d8c15ad4e55e/772e8/tcpl.png 200w&quot;
        sizes=&quot;(max-width: 200px) 100vw, 200px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;The C Programming Language&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;브라이언 커니핸과 데니스 리치의 기념비적인 프로그래밍 서적 “The C Programming
Language”&lt;sup id=&quot;fnref-주1&quot;&gt;&lt;a href=&quot;#fn-주1&quot; class=&quot;footnote-ref&quot;&gt;주1&lt;/a&gt;&lt;/sup&gt;는 우리에게 하나의 문화를 선물했습니다.
새로운 기술을 만났다면, 무엇보다도 제일 먼저 세상을 향해 인사해야 한다는
것이죠.
설령 동방예의지국에 살지 않는다고 해도&lt;sup id=&quot;fnref-주2&quot;&gt;&lt;a href=&quot;#fn-주2&quot; class=&quot;footnote-ref&quot;&gt;주2&lt;/a&gt;&lt;/sup&gt;, 엔지니어링이란 말에
심장이 뛰는 모든 사람이라면 누구나 인사부터 해야 하는 겁니다.&lt;/p&gt;
&lt;p&gt;인사말은 ISO 9899에 따라 “Hello, world”로 정의됩니다&lt;sup id=&quot;fnref-주3&quot;&gt;&lt;a href=&quot;#fn-주3&quot; class=&quot;footnote-ref&quot;&gt;주3&lt;/a&gt;&lt;/sup&gt;.
“Hi”는 너무 짧고, “How do you do”는 너무 깁니다.
하지만 “Hello”는 적절하고, 아름답습니다.
우아하게 균형 잡힌 인사말을 고안하기 위해 노력하며 흘린 피, 땀, 눈물이
고스란히 느껴집니다.
이 인사말 안에, 유한한 세계에서 필멸자로 살아가는 엔지니어의 운명&lt;sup id=&quot;fnref-주4&quot;&gt;&lt;a href=&quot;#fn-주4&quot; class=&quot;footnote-ref&quot;&gt;주4&lt;/a&gt;&lt;/sup&gt;인,
트레이드오프의 정수가 담긴 것 같습니다.&lt;/p&gt;
&lt;p&gt;“World”는 또 어떤가요?
우리가 만나게 될, 우리가 영향을 끼치게 될 대상을 이보다 더 명확히 표현할 수
있을까요?
게다가 우리는 바로 그 세계에 속하고, 우리는 우리가 속한 세계를 변화시킵니다.
즉, 스스로를 바꿔나가게 되는 거죠.
우리는 우로보로스와같이 무한한 순환고리 안에서 종종 이 세계가, 그리고 우리가
변했다는 사실을 깨닫고 다시금 인사를 건네게 됩니다.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&quot;Hello&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; world!&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup id=&quot;fnref-주5&quot;&gt;&lt;a href=&quot;#fn-주5&quot; class=&quot;footnote-ref&quot;&gt;주5&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Hello, world!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;sup id=&quot;fnref-주6&quot;&gt;&lt;a href=&quot;#fn-주6&quot; class=&quot;footnote-ref&quot;&gt;주6&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;우리는 평생 몇 번이나 “Hello, world!” 프로그램을 작성하게 될까요?
얼마나 자주, 얼마나 크게 세상에 영향을 끼치게 될까요?&lt;/p&gt;
&lt;p&gt;안심할 수 있는 산업 현장을 꿈꾸는 원프레딕트의 기술적 고민을 이 블로그에서
함께 나누길 기대합니다. Hello! 👋&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/acc27a4eb24d11f8427177a43424ef77/8c557/grandbow.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAACmklEQVR42i2P6VMSAQDFV4QkQA0RZLlvlEMOXV11gQUBOV1A10EOgwUhUgdMTF1FIqdTc0xKsen44FQzHTrVTB/726KZPr/3+817wIRJVCGCu5WFjEefhsEIDFZSViIxXliCPzzFz0h/ay9cihpSXuHDRdV6DllJWeMRSzZiN4FswCjh7gYhImwSy2X4jP551VVftW2t+8ki8mobfV3zNw9iE2YRZhM1YuIcZsjOyFOBwaBeIGHcACYEN/Pa7rCJLWHfuJdBTg7wcgZ+RGJ37yNE1lxeHo/jkEbFN6o5jQUFETMsTvWaJYyghj4qZAFBGYvg9TqlbBzlr8WUgzr+Unz8kJxFomKzh7eR4HkhjljIMevBJuk+3PM9KI5Aet7xlm01NQKwmZ04uysz1tesil4UuZCuj0jAa4SDAQAiBSsd5mEOvkI+MGaRNmszR5uOanY04lZfnuCb+UmAS6euoZxGTh5CBQt20GEG0/PW3WowZVf6beJSXIBP9zNYLMMQePksEPeraTTAAQnP6t6dAgzU7ZolVFqelWA2STaqJ/NQyKfNY8Y/Jc9Vxfe4NtfYxJAxBR4wXp9iEVQGtBdxGUfrkyu4FgjJ+5kM2l5m+IJEPh5hp/vemE32uxr5VvQkXcr3h/h+xedzDpWz9p9vMy3SBWluJb3q1v70RnIIoFMpbRkKib4eh67OE+dPoncCw5+Wp2E9z6jnXreSmM/YLojBnquL221+u+BwI+rSvKWWswCdlI52FrDLv7/EfrxJXTaTXqswCEsNhgGdinNW9wUcyh4WncXq2inCEbe2i0EHKB19NErJrfwPB1HV5+PZL6fzv94R6TmzfUrqmpKDPCZZmrzYcRacskxIF0I13d309kcq9R/jlTD/Apr/s76//bAIAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;그랜절&quot;
        title=&quot;&quot;
        src=&quot;/static/acc27a4eb24d11f8427177a43424ef77/0b533/grandbow.png&quot;
        srcset=&quot;/static/acc27a4eb24d11f8427177a43424ef77/fac75/grandbow.png 125w,
/static/acc27a4eb24d11f8427177a43424ef77/63868/grandbow.png 250w,
/static/acc27a4eb24d11f8427177a43424ef77/0b533/grandbow.png 500w,
/static/acc27a4eb24d11f8427177a43424ef77/8c557/grandbow.png 700w&quot;
        sizes=&quot;(max-width: 500px) 100vw, 500px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id=&quot;fn-주1&quot;&gt;번역서는 아쉽게도 절판됐습니다.&lt;br&gt;
…로 알고 있었는데, 도서출판 인사이트 대표님께서 해당 도서가
완전히 새로운 이름으로 다시 나왔다고 알려주셨습니다.
&lt;a href=&quot;http://aladin.kr/p/jbDSE&quot;&gt;http://aladin.kr/p/jbDSE&lt;/a&gt;&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 400px; &quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 68.80000000000001%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzUlEQVR42qVTTW+bQBDln/dWqaeeeunP6LVSe6pkE8mXNLbCpzFgG2Mw4Bazy8LrzJKNnCpRWmWkxw6zM29mdnYtkAjRoesurGIcRwzD8ARs+1dYgoi+f/2C+Y9vCAIfs9kM87mNxWKBmxsbtm2j7xVeE6WmxFbb/sKH9+/w+dNHpGmKKE7heCHCKNZ6WZ4eK7/G3zYjFn9c18N6vdYGblH2/dQuO+P/xFJK4Xw+o6pq1HWt9dPppGF0XpumIZ9K/7PONvZnFGWJtm0nwp6qcV0X9/cOomhDiKjaCGEYwvd9XflqtdLY7Xb6f7PZIMsyHcfgmPbyQCiEgOd5iONYBzBJEAQ66Pb2J5bLFQI/oP0EvTkKA+qOO2SdV03IB8pZmcRxHJ2RyTirScSVJzSwu7vlQ4WxPvfJ34NPsXGSTIRd18GlwIQMXIWU/eNdNFmvp8p2o3PFZsrGbo2kXKj/Xkrt8FaxFCVvupEwaFQXBaFevizXd+5ZwoH2y3ZA+Vvp9UirHN5QoaRWD4ccGYFfxbEokG73SAjb/QFZXiA/ltgfjsiLkva22GU5qrp5npBbEDQISe+VwXonpB4Ov5gJk53fNBfANtb5JV2DCf8AU6Y1RfJXfNAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;@insightbook&quot;
        title=&quot;&quot;
        src=&quot;/static/a04fe254760151804a29e5166892cd79/e17e5/insightbook.png&quot;
        srcset=&quot;/static/a04fe254760151804a29e5166892cd79/fac75/insightbook.png 125w,
/static/a04fe254760151804a29e5166892cd79/63868/insightbook.png 250w,
/static/a04fe254760151804a29e5166892cd79/e17e5/insightbook.png 400w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
    &lt;/span&gt;&lt;a href=&quot;#fnref-%EC%A3%BC1&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주2&quot;&gt;엔지니어가 모두 한국인일 거라 생각하는 건 편견입니다.&lt;a href=&quot;#fnref-%EC%A3%BC2&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주3&quot;&gt;거짓말입니다.&lt;a href=&quot;#fnref-%EC%A3%BC3&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주4&quot;&gt;어떤 아이템과 유사하지만 다름에 유의!&lt;br&gt;
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 347px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 66.39999999999999%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5klEQVR42oWRx27jQAyGOaqjMqNitci9yJYsySUqlm2kOAGSg7EB9rT3xb7/M+wI9sI5rYEPBMnBT3JI4EVD4G1d8Qn1mv3hsagWcZZm62ieACjAa/8Dy06d/XyqftnW4Hw+H49Py3RV102+2gLgO2KBt9a736fjH4OEYUcc9AdJupaxBiAAr98Rc7zOIV0STVHUiE5V3Samx0sUCdodJQOwBeEU7C4YAQgUkMJAvHYRI0H/xjX8JpYNoAEoHVCcdk5OvYEY+B8ycG1d4NWbXpJJ1/cCzwt9LwwCw7Qno17g+73woRcG8TKP5stFnLIV9gaTyTSmhssatqWZWNXNfDmZTfrLxSiOhrbtNMViPhvWdVXV5dfXj7Levb2/Pz+/1Lv9x+fH6+n0WNasqIQN8IL+Yb9frzYFO3FZJkn29vpSlRVr1TSHbnckYxMrJi/osmrp1NWIQwxPJQ4nEuAkKmq2TF1MXJm4uHUchTK/w5IcpiDqIBEQ6fXnF0BqJwfqwiKFOIPxHKoGtgVMY8i3KN9AvkGbR1TUKNugbYGcEGETVAsxTK/dNFh++3w4trbcofEcjSM0i1GUoOEMggFitaIEmH+xvTH0p5CuwQoATL9ty+JRBA+D6ybR9SotF/+SvF0RA6f+BTjjOT5vLYXbAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;필멸자의 운명&quot;
        title=&quot;&quot;
        src=&quot;/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png&quot;
        srcset=&quot;/static/8cd8035cbec749b2dd87232654218c63/fac75/immortal.png 125w,
/static/8cd8035cbec749b2dd87232654218c63/63868/immortal.png 250w,
/static/8cd8035cbec749b2dd87232654218c63/39e45/immortal.png 347w&quot;
        sizes=&quot;(max-width: 347px) 100vw, 347px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;a href=&quot;#fnref-%EC%A3%BC4&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주5&quot;&gt;Flake8은 &lt;code class=&quot;language-text&quot;&gt;print&lt;/code&gt; 사용을 지양합니다.
&lt;a href=&quot;https://docs.astral.sh/ruff/rules/print/&quot;&gt;https://docs.astral.sh/ruff/rules/print/&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC5&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;li id=&quot;fn-주6&quot;&gt;ESLint는 &lt;code class=&quot;language-text&quot;&gt;console&lt;/code&gt; 사용을 지양합니다.
&lt;a href=&quot;https://eslint.org/docs/latest/rules/no-console&quot;&gt;https://eslint.org/docs/latest/rules/no-console&lt;/a&gt;&lt;a href=&quot;#fnref-%EC%A3%BC6&quot; class=&quot;footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content:encoded></item></channel></rss>